(function(){var t={6700:function(t,e,a){var s={"./af":2786,"./af.js":2786,"./ar":867,"./ar-dz":4130,"./ar-dz.js":4130,"./ar-kw":6135,"./ar-kw.js":6135,"./ar-ly":6440,"./ar-ly.js":6440,"./ar-ma":7702,"./ar-ma.js":7702,"./ar-sa":6040,"./ar-sa.js":6040,"./ar-tn":7100,"./ar-tn.js":7100,"./ar.js":867,"./az":1083,"./az.js":1083,"./be":9808,"./be.js":9808,"./bg":8338,"./bg.js":8338,"./bm":7438,"./bm.js":7438,"./bn":8905,"./bn-bd":6225,"./bn-bd.js":6225,"./bn.js":8905,"./bo":1560,"./bo.js":1560,"./br":1278,"./br.js":1278,"./bs":622,"./bs.js":622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":877,"./cv.js":877,"./cy":7373,"./cy.js":7373,"./da":4780,"./da.js":4780,"./de":9740,"./de-at":217,"./de-at.js":217,"./de-ch":894,"./de-ch.js":894,"./de.js":9740,"./dv":5300,"./dv.js":5300,"./el":837,"./el.js":837,"./en-au":8348,"./en-au.js":8348,"./en-ca":7925,"./en-ca.js":7925,"./en-gb":2243,"./en-gb.js":2243,"./en-ie":6436,"./en-ie.js":6436,"./en-il":941,"./en-il.js":941,"./en-in":4175,"./en-in.js":4175,"./en-nz":6319,"./en-nz.js":6319,"./en-sg":1662,"./en-sg.js":1662,"./eo":2915,"./eo.js":2915,"./es":5655,"./es-do":5251,"./es-do.js":5251,"./es-mx":6112,"./es-mx.js":6112,"./es-us":3939,"./es-us.js":3939,"./es.js":5655,"./et":5603,"./et.js":5603,"./eu":7763,"./eu.js":7763,"./fa":6959,"./fa.js":6959,"./fi":1897,"./fi.js":1897,"./fil":2549,"./fil.js":2549,"./fo":4694,"./fo.js":4694,"./fr":4470,"./fr-ca":3049,"./fr-ca.js":3049,"./fr-ch":2330,"./fr-ch.js":2330,"./fr.js":4470,"./fy":5044,"./fy.js":5044,"./ga":9295,"./ga.js":9295,"./gd":2101,"./gd.js":2101,"./gl":8794,"./gl.js":8794,"./gom-deva":7884,"./gom-deva.js":7884,"./gom-latn":3168,"./gom-latn.js":3168,"./gu":5349,"./gu.js":5349,"./he":4206,"./he.js":4206,"./hi":94,"./hi.js":94,"./hr":316,"./hr.js":316,"./hu":2138,"./hu.js":2138,"./hy-am":1423,"./hy-am.js":1423,"./id":9218,"./id.js":9218,"./is":135,"./is.js":135,"./it":626,"./it-ch":150,"./it-ch.js":150,"./it.js":626,"./ja":9183,"./ja.js":9183,"./jv":4286,"./jv.js":4286,"./ka":2105,"./ka.js":2105,"./kk":7772,"./kk.js":7772,"./km":8758,"./km.js":8758,"./kn":9282,"./kn.js":9282,"./ko":3730,"./ko.js":3730,"./ku":1408,"./ku.js":1408,"./ky":3291,"./ky.js":3291,"./lb":6841,"./lb.js":6841,"./lo":5466,"./lo.js":5466,"./lt":7010,"./lt.js":7010,"./lv":7595,"./lv.js":7595,"./me":9861,"./me.js":9861,"./mi":5493,"./mi.js":5493,"./mk":5966,"./mk.js":5966,"./ml":7341,"./ml.js":7341,"./mn":5115,"./mn.js":5115,"./mr":370,"./mr.js":370,"./ms":9847,"./ms-my":1237,"./ms-my.js":1237,"./ms.js":9847,"./mt":2126,"./mt.js":2126,"./my":6165,"./my.js":6165,"./nb":4924,"./nb.js":4924,"./ne":6744,"./ne.js":6744,"./nl":3901,"./nl-be":9814,"./nl-be.js":9814,"./nl.js":3901,"./nn":3877,"./nn.js":3877,"./oc-lnc":2135,"./oc-lnc.js":2135,"./pa-in":5858,"./pa-in.js":5858,"./pl":4495,"./pl.js":4495,"./pt":9520,"./pt-br":7971,"./pt-br.js":7971,"./pt.js":9520,"./ro":6459,"./ro.js":6459,"./ru":1793,"./ru.js":1793,"./sd":950,"./sd.js":950,"./se":490,"./se.js":490,"./si":124,"./si.js":124,"./sk":4249,"./sk.js":4249,"./sl":4985,"./sl.js":4985,"./sq":1104,"./sq.js":1104,"./sr":9131,"./sr-cyrl":9915,"./sr-cyrl.js":9915,"./sr.js":9131,"./ss":5893,"./ss.js":5893,"./sv":8760,"./sv.js":8760,"./sw":1172,"./sw.js":1172,"./ta":7333,"./ta.js":7333,"./te":3110,"./te.js":3110,"./tet":2095,"./tet.js":2095,"./tg":7321,"./tg.js":7321,"./th":9041,"./th.js":9041,"./tk":9005,"./tk.js":9005,"./tl-ph":5768,"./tl-ph.js":5768,"./tlh":9444,"./tlh.js":9444,"./tr":2397,"./tr.js":2397,"./tzl":8254,"./tzl.js":8254,"./tzm":1106,"./tzm-latn":699,"./tzm-latn.js":699,"./tzm.js":1106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":7691,"./uk.js":7691,"./ur":3795,"./ur.js":3795,"./uz":6791,"./uz-latn":588,"./uz-latn.js":588,"./uz.js":6791,"./vi":5666,"./vi.js":5666,"./x-pseudo":4378,"./x-pseudo.js":4378,"./yo":5805,"./yo.js":5805,"./zh-cn":3839,"./zh-cn.js":3839,"./zh-hk":5726,"./zh-hk.js":5726,"./zh-mo":9807,"./zh-mo.js":9807,"./zh-tw":4152,"./zh-tw.js":4152};function i(t){var e=r(t);return a(e)}function r(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=r,t.exports=i,i.id=6700},2245:function(t,e,a){"use strict";var s=a(144),i=function(){var t=this,e=t._self._c;return e("div",{class:{dark:t.isDark,light:!t.isDark},attrs:{id:"app"}},[e("Header"),e("keep-alive",[t.$route.meta.keepAlive?e("router-view"):t._e()],1),t.$route.meta.keepAlive?t._e():e("router-view"),e("Footer"),"PC"===t.$store.state.device?e("el-backtop",{attrs:{bottom:80,right:80}}):t._e()],1)},r=[],n=function(){var t=this,e=t._self._c;return e("div",{class:{header:"PC"===t.$store.state.device,headerMobile:"Mobile"===t.$store.state.device}},[e("Navigator"),e("HomeInfo")],1)},l=[],o=function(){var t=this,e=t._self._c;return e("div",{class:{navi:!0,dark:t.isDark,light:!t.isDark}},["PC"===t.$store.state.device?e("div",{staticClass:"navbar"},[e("div",{staticClass:"brand",on:{click:t.toHome}},[t._v("BanViewer")]),e("ul",{staticClass:"collapse"},[e("li",{staticClass:"collapse-item"},[e("a",{staticStyle:{letterSpacing:"3px"}},[t._v("影视")]),e("div",{staticClass:"dropdown-container"},[e("ul",{staticClass:"dropdown"},[e("li",{staticClass:"dropdown-item",on:{click:function(e){return t.toRanking(2)}}},[e("i",{staticClass:"el-icon-trophy"}),e("a",{staticStyle:{marginLeft:"12px"}},[t._v("Top50")])]),e("li",{staticClass:"dropdown-item",on:{click:function(e){return t.toRecently(2)}}},[e("i",{staticClass:"el-icon-time"}),e("a",{staticStyle:{marginLeft:"12px"}},[t._v("近期新作")])]),e("li",{staticClass:"dropdown-item",on:{click:function(e){return t.toTags(2)}}},[e("i",{staticClass:"el-icon-guide"}),e("a",{staticStyle:{marginLeft:"12px"}},[t._v("热门标签")])]),e("li",{staticClass:"dropdown-item",on:{click:function(e){return t.toViewAll(2)}}},[e("i",{staticClass:"el-icon-files"}),e("a",{staticStyle:{marginLeft:"12px"}},[t._v("查看全部")])])])])]),e("li",{staticClass:"collapse-item"},[e("a",{staticStyle:{letterSpacing:"3px"}},[t._v("音乐")]),e("div",{staticClass:"dropdown-container"},[e("ul",{staticClass:"dropdown"},[e("li",{staticClass:"dropdown-item",on:{click:function(e){return t.toRanking(3)}}},[e("i",{staticClass:"el-icon-trophy"}),e("a",{staticStyle:{marginLeft:"12px"}},[t._v("Top50")])]),e("li",{staticClass:"dropdown-item",on:{click:function(e){return t.toRecently(3)}}},[e("i",{staticClass:"el-icon-time"}),e("a",{staticStyle:{marginLeft:"12px"}},[t._v("近期新作")])]),e("li",{staticClass:"dropdown-item",on:{click:function(e){return t.toTags(3)}}},[e("i",{staticClass:"el-icon-guide"}),e("a",{staticStyle:{marginLeft:"12px"}},[t._v("热门标签")])]),e("li",{staticClass:"dropdown-item",on:{click:function(e){return t.toViewAll(3)}}},[e("i",{staticClass:"el-icon-files"}),e("a",{staticStyle:{marginLeft:"12px"}},[t._v("查看全部")])])])])]),e("li",{staticClass:"collapse-item"},[e("a",{staticStyle:{letterSpacing:"3px"}},[t._v("图书")]),e("div",{staticClass:"dropdown-container"},[e("ul",{staticClass:"dropdown"},[e("li",{staticClass:"dropdown-item",on:{click:function(e){return t.toRanking(1)}}},[e("i",{staticClass:"el-icon-trophy"}),e("a",{staticStyle:{marginLeft:"12px"}},[t._v("Top50")])]),e("li",{staticClass:"dropdown-item",on:{click:function(e){return t.toRecently(1)}}},[e("i",{staticClass:"el-icon-time"}),e("a",{staticStyle:{marginLeft:"12px"}},[t._v("近期新作")])]),e("li",{staticClass:"dropdown-item",on:{click:function(e){return t.toTags(1)}}},[e("i",{staticClass:"el-icon-guide"}),e("a",{staticStyle:{marginLeft:"12px"}},[t._v("热门标签")])]),e("li",{staticClass:"dropdown-item",on:{click:function(e){return t.toViewAll(1)}}},[e("i",{staticClass:"el-icon-files"}),e("a",{staticStyle:{marginLeft:"12px"}},[t._v("查看全部")])])])])]),e("li",{staticClass:"collapse-item"},[e("a",{staticStyle:{letterSpacing:"3px"}},[t._v("游戏")]),e("div",{staticClass:"dropdown-container"},[e("ul",{staticClass:"dropdown"},[e("li",{staticClass:"dropdown-item",on:{click:function(e){return t.toRanking(4)}}},[e("i",{staticClass:"el-icon-trophy"}),e("a",{staticStyle:{marginLeft:"10px"}},[t._v("Top50")])]),e("li",{staticClass:"dropdown-item",on:{click:function(e){return t.toRecently(4)}}},[e("i",{staticClass:"el-icon-time"}),e("a",{staticStyle:{marginLeft:"10px"}},[t._v("近期新作")])]),e("li",{staticClass:"dropdown-item",on:{click:function(e){return t.toTags(4)}}},[e("i",{staticClass:"el-icon-guide"}),e("a",{staticStyle:{marginLeft:"10px"}},[t._v("热门标签")])]),e("li",{staticClass:"dropdown-item",on:{click:function(e){return t.toViewAll(4)}}},[e("i",{staticClass:"el-icon-files"}),e("a",{staticStyle:{marginLeft:"10px"}},[t._v("查看全部")])])])])]),e("li",{staticClass:"collapse-item",on:{click:t.toAbout}},[e("a",[t._v("关于")])])]),e("div",[e("a",{on:{click:function(e){return t.switchTheme("default")}}},[e("i",{directives:[{name:"show",rawName:"v-show",value:!t.isDark,expression:"!isDark"}],staticClass:"el-icon-sunny"})]),e("a",{on:{click:function(e){return t.switchTheme("dark")}}},[e("i",{directives:[{name:"show",rawName:"v-show",value:t.isDark,expression:"isDark"}],staticClass:"el-icon-moon-night"})])]),this.btnFlag?e("button",{staticClass:"user",on:{click:t.toProfile}},[t._v(t._s(this.username))]):e("button",{staticClass:"login",on:{click:t.toLogin}},[t._v("登录账号")])]):t._e(),"Mobile"===t.$store.state.device?e("div",{staticClass:"navbar-mobile"},[e("div",{staticClass:"navbar-title-mobile"},[e("div",{staticClass:"brand-mobile",on:{click:t.toHome}},[t._v("BanViewer")]),e("button",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t.showList,expression:"showList",arg:"tap"}],staticClass:"menuBtn-mobile"},[e("i",{directives:[{name:"show",rawName:"v-show",value:!this.isShowList,expression:"!this.isShowList"}],staticClass:"el-icon-menu"}),e("i",{directives:[{name:"show",rawName:"v-show",value:this.isShowList,expression:"this.isShowList"}],staticClass:"el-icon-close"})])]),e("el-collapse-transition",[e("div",{directives:[{name:"show",rawName:"v-show",value:this.isShowList,expression:"this.isShowList"}],staticClass:"menu-mobile"},[e("div",{staticClass:"menu-col"},[e("ul",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t.showListAnime,expression:"showListAnime",arg:"tap"}],staticClass:"menu-col-list"},[e("a",[t._v("影视")]),e("el-collapse-transition",[e("div",{directives:[{name:"show",rawName:"v-show",value:this.isShowAnime,expression:"this.isShowAnime"}]},[e("li",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.tomRanking(2),expression:"(event)=> tomRanking(2)",arg:"tap"}],staticClass:"menu-dropdown"},[e("i",{staticClass:"el-icon-trophy"}),e("a",{staticStyle:{marginLeft:"12px"}},[t._v("Top50")])]),e("li",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.tomRecently(2),expression:"(event)=> tomRecently(2)",arg:"tap"}],staticClass:"menu-dropdown"},[e("i",{staticClass:"el-icon-time"}),e("a",{staticStyle:{marginLeft:"10px"}},[t._v("近期新作")])]),e("li",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t.tomTags,expression:"tomTags",arg:"tap"}],staticClass:"menu-dropdown"},[e("i",{staticClass:"el-icon-guide"}),e("a",{staticStyle:{marginLeft:"10px"}},[t._v("热门标签")])]),e("li",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.toViewAll(2),expression:"(event)=> toViewAll(2)",arg:"tap"}],staticClass:"menu-dropdown"},[e("i",{staticClass:"el-icon-files"}),e("a",{staticStyle:{marginLeft:"10px"}},[t._v("查看全部")])])])])],1),e("ul",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t.showListMusic,expression:"showListMusic",arg:"tap"}],staticClass:"menu-col-list"},[e("a",[t._v("音乐")]),e("el-collapse-transition",[e("div",{directives:[{name:"show",rawName:"v-show",value:this.isShowMusic,expression:"this.isShowMusic"}]},[e("li",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.tomRanking(3),expression:"(event)=> tomRanking(3)",arg:"tap"}],staticClass:"menu-dropdown"},[e("i",{staticClass:"el-icon-trophy"}),e("a",{staticStyle:{marginLeft:"12px"}},[t._v("Top50")])]),e("li",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.tomRecently(3),expression:"(event)=> tomRecently(3)",arg:"tap"}],staticClass:"menu-dropdown"},[e("i",{staticClass:"el-icon-time"}),e("a",{staticStyle:{marginLeft:"10px"}},[t._v("近期新作")])]),e("li",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t.tomTags,expression:"tomTags",arg:"tap"}],staticClass:"menu-dropdown"},[e("i",{staticClass:"el-icon-guide"}),e("a",{staticStyle:{marginLeft:"10px"}},[t._v("热门标签")])]),e("li",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.toViewAll(3),expression:"(event)=> toViewAll(3)",arg:"tap"}],staticClass:"menu-dropdown"},[e("i",{staticClass:"el-icon-files"}),e("a",{staticStyle:{marginLeft:"10px"}},[t._v("查看全部")])])])])],1),e("ul",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t.showListBook,expression:"showListBook",arg:"tap"}],staticClass:"menu-col-list"},[e("a",[t._v("图书")]),e("el-collapse-transition",[e("div",{directives:[{name:"show",rawName:"v-show",value:this.isShowBook,expression:"this.isShowBook"}]},[e("li",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.tomRanking(1),expression:"(event)=> tomRanking(1)",arg:"tap"}],staticClass:"menu-dropdown"},[e("i",{staticClass:"el-icon-trophy"}),e("a",{staticStyle:{marginLeft:"12px"}},[t._v("Top50")])]),e("li",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.tomRecently(1),expression:"(event)=> tomRecently(1)",arg:"tap"}],staticClass:"menu-dropdown"},[e("i",{staticClass:"el-icon-time"}),e("a",{staticStyle:{marginLeft:"10px"}},[t._v("近期新作")])]),e("li",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t.tomTags,expression:"tomTags",arg:"tap"}],staticClass:"menu-dropdown"},[e("i",{staticClass:"el-icon-guide"}),e("a",{staticStyle:{marginLeft:"10px"}},[t._v("热门标签")])]),e("li",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.toViewAll(1),expression:"(event)=> toViewAll(1)",arg:"tap"}],staticClass:"menu-dropdown"},[e("i",{staticClass:"el-icon-files"}),e("a",{staticStyle:{marginLeft:"10px"}},[t._v("查看全部")])])])])],1),e("ul",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t.showListGame,expression:"showListGame",arg:"tap"}],staticClass:"menu-col-list"},[e("a",[t._v("游戏")]),e("el-collapse-transition",[e("div",{directives:[{name:"show",rawName:"v-show",value:this.isShowGame,expression:"this.isShowGame"}]},[e("li",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.tomRanking(4),expression:"(event)=> tomRanking(4)",arg:"tap"}],staticClass:"menu-dropdown"},[e("i",{staticClass:"el-icon-trophy"}),e("a",{staticStyle:{marginLeft:"12px"}},[t._v("Top50")])]),e("li",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.tomRecently(4),expression:"(event)=> tomRecently(4)",arg:"tap"}],staticClass:"menu-dropdown"},[e("i",{staticClass:"el-icon-time"}),e("a",{staticStyle:{marginLeft:"10px"}},[t._v("近期新作")])]),e("li",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t.tomTags,expression:"tomTags",arg:"tap"}],staticClass:"menu-dropdown"},[e("i",{staticClass:"el-icon-guide"}),e("a",{staticStyle:{marginLeft:"10px"}},[t._v("热门标签")])]),e("li",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.toViewAll(4),expression:"(event)=> toViewAll(4)",arg:"tap"}],staticClass:"menu-dropdown"},[e("i",{staticClass:"el-icon-files"}),e("a",{staticStyle:{marginLeft:"10px"}},[t._v("查看全部")])])])])],1)])])])],1):t._e()])},c=[],m=(a(7658),{name:"Navigator",data(){return{btnFlag:!1,username:"",isDark:!1,theme:"default",isShowList:!1,isShowAnime:!1,isShowMusic:!1,isShowBook:!1,isShowGame:!1}},methods:{toLogin(){this.$router.push({path:"/login"})},toHome(){this.$router.push({path:"/home"})},toProfile(){this.$router.push({path:"/profile",query:{username:this.username}})},toRanking(t){this.$router.push({path:"/ranking",query:{type:t}})},toRecently(t){this.$router.push({path:"/recently",query:{type:t}})},toTags(t){this.$router.push({path:"/tags",query:{type:t}})},toViewAll(t){"Mobile"===this.$store.state.device?(this.$router.push({path:"/msearchresult",query:{type:t}}),this.isShowList=!1):this.$router.push({path:"/searchresult",query:{type:t}})},toAbout(){this.$router.push({path:"/about"})},isLogin(){this.btnFlag=!0},isntLogin(){this.btnFlag=!1},watchStorage(t,e){window.addEventListener("setItemEvent",(function(a){"isLogin"===a.key&&(a.value?t():e())}))},switchTheme(){this.$store.dispatch("getIsDark")},showList(){this.isShowList=!this.isShowList,this.isShowAnime=!1,this.isShowMusic=!1,this.isShowBook=!1,this.isShowGame=!1},showListAnime(){this.isShowAnime=!this.isShowAnime,this.isShowMusic=!1,this.isShowBook=!1,this.isShowGame=!1},showListMusic(){this.isShowMusic=!this.isShowMusic,this.isShowAnime=!1,this.isShowBook=!1,this.isShowGame=!1},showListBook(){this.isShowBook=!this.isShowBook,this.isShowAnime=!1,this.isShowMusic=!1,this.isShowGame=!1},showListGame(){this.isShowGame=!this.isShowGame,this.isShowAnime=!1,this.isShowMusic=!1,this.isShowBook=!1},tomRanking(t){this.$router.push({path:"/mranking",query:{type:t}}),this.isShowList=!1},tomTags(){this.$router.push({path:"/mtags"}),this.isShowList=!1},tomRecently(t){this.$router.push({path:"/mrecently",query:{type:t}}),this.isShowList=!1}},watch:{"$store.state.isDark":{handler:function(t){this.isDark=t,console.log("vuex"+this.isDark)}}},created(){this.isDark=JSON.parse(localStorage.getItem("isDark")),this.btnFlag=JSON.parse(localStorage.getItem("isLogin")),this.username=localStorage.getItem("username")},beforeMount(){this.watchStorage(this.isLogin,this.isntLogin)}}),h=m,g=a(1001),d=(0,g.Z)(h,o,c,!1,null,"25e28398",null),u=d.exports,v=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[t._m(0),e("div",{directives:[{name:"show",rawName:"v-show",value:"PC"===t.$store.state.device,expression:"$store.state.device === 'PC'"}],staticClass:"introduction"},[e("a",[t._v("欢迎使用BanViewer，这是一个专注于影视，音乐，书籍信息的站点，致力于发现生活中有趣的作品。")])]),e("div",{staticClass:"search"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],staticClass:"search-content",attrs:{type:"text"},domProps:{value:t.inputValue},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.toSearch.apply(null,arguments)},input:function(e){e.target.composing||(t.inputValue=e.target.value)}}}),e("button",{staticClass:"submitbtn",attrs:{type:"button",disabled:0===this.inputValue.length},on:{click:t.toSearch}},[e("i",{staticClass:"el-icon-search"})])])])},p=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"title"},[e("h1",{staticClass:"banviewer"},[t._v("BanViewer")])])}],C={name:"HomeInfo",data(){return{inputValue:"",oldInputValue:""}},methods:{toSearch(){if("Mobile"===this.$store.state.device){if(this.inputValue===this.oldInputValue&&"/home"!==this.$route.path)return!1;this.$router.push({path:"msearchresult",query:{inputValue:this.inputValue}}),this.oldInputValue=this.inputValue}if(this.inputValue===this.oldInputValue&&"/home"!==this.$route.path)return!1;this.$router.push({path:"searchresult",query:{inputValue:this.inputValue}}),this.oldInputValue=this.inputValue}}},f=C,_=(0,g.Z)(f,v,p,!1,null,"c289703a",null),w=_.exports,k={name:"Header",components:{Navigator:u,HomeInfo:w}},T=k,y=(0,g.Z)(T,n,l,!1,null,null,null),b=y.exports,x=function(){var t=this,e=t._self._c;return e("div",{class:{footer:!0,light:!t.isDark,dark:t.isDark}},[t._m(0),t._m(1)])},S=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"footerMain"},[e("div",{staticClass:"footerInfo"},[e("i",{staticClass:"el-icon-video-camera-solid"}),e("a",{staticClass:"brand"},[t._v("BanViewer")]),e("div",{staticClass:"icons"},[e("i",{staticClass:"el-icon-s-platform icon"}),e("i",{staticClass:"el-icon-s-data icon"}),e("i",{staticClass:"el-icon-eleme icon"}),e("i",{staticClass:"el-icon-s-custom icon"}),e("i",{staticClass:"el-icon-share icon"})])]),e("div",{staticClass:"footerCol"},[e("div",{staticClass:"title"},[e("a",[t._v("信息")])]),e("a",{staticClass:"content"},[t._v("关于我们")]),e("a",{staticClass:"content"},[t._v("联系我们")]),e("a",{staticClass:"content"},[t._v("用户协议")]),e("a",{staticClass:"content"},[t._v("加入我们")])]),e("div",{staticClass:"footerCol"},[e("div",{staticClass:"title"},[e("a",[t._v("资源与社区")])]),e("a",{staticClass:"content"},[t._v("友情链接")]),e("a",{staticClass:"content"},[t._v("广告合作")]),e("a",{staticClass:"content"},[t._v("开发日志")])]),e("div",{staticClass:"footerCol"},[e("div",{staticClass:"title"},[e("a",[t._v("支持服务")])]),e("a",{staticClass:"content"},[t._v("帮助中心")]),e("a",{staticClass:"content"},[t._v("侵权申诉")]),e("a",{staticClass:"content"},[t._v("协议汇总")]),e("a",{staticClass:"content"},[t._v("公告")])]),e("div",{staticClass:"footerCol"},[e("div",{staticClass:"title"},[e("a",[t._v("鸣谢")])]),e("a",{staticClass:"content",attrs:{href:"https://v2.vuejs.org/"}},[t._v("Vue")]),e("a",{staticClass:"content",attrs:{href:"https://bangumi.github.io/api/"}},[t._v("bangumi")]),e("a",{staticClass:"content",attrs:{href:"https://element.eleme.io/"}},[t._v("element")]),e("a",{staticClass:"content"},[t._v("and so on...")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"copyright"},[t._v("All rights reserved. Copyright © 2023 BanViewer by "),e("a",{staticClass:"copyright",attrs:{href:"https://github.com/nanogenji"}},[t._v("personal")])])}],N={name:"Footer",data(){return{isDark:!1}},watch:{"$store.state.isDark":{handler:function(t){this.isDark=t}}},created(){this.isDark=JSON.parse(localStorage.getItem("isDark"))}},P=N,$=(0,g.Z)(P,x,S,!1,null,"02536d61",null),M=$.exports,j={name:"App",data(){return{isDark:!1}},components:{Header:b,Footer:M},watch:{"$store.state.isDark":{handler:function(t){const e=document.querySelector(":root");this.isDark=t,this.isDark?e.style.setProperty("color-scheme","dark"):e.style.setProperty("color-scheme","light")}}},beforeCreate(){navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)?this.$store.dispatch("getDevice","mobile"):this.$store.dispatch("getDevice","PC")},created(){this.isDark=JSON.parse(localStorage.getItem("isDark"))}},F=j,E=(0,g.Z)(F,i,r,!1,null,null,null),R=E.exports,I=a(4720),L=a.n(I),q=a(381),D=a.n(q),V=a(8345),A=function(){var t=this,e=t._self._c;return e("div",{staticClass:"detailContainer"},[e("div",{staticClass:"detailContent"},[this.isLoading?e("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"loading",attrs:{"element-loading-text":"正在加载中...请稍候"}}):this.apiError?e("div",{staticClass:"loading"},[e("el-alert",{staticStyle:{marginTop:"5rem"},attrs:{title:"加载错误...请稍后再试",type:"error",description:"错误代码："+this.errorMsg,"show-icon":""}})],1):e("el-container",[e("el-header",{style:{marginTop:"2rem"}},[e("a",{staticClass:"title"},[t._v(t._s(t.item.name_cn?t.item.name_cn:t.item.name))])]),t._v(" "),e("el-container",[e("el-aside",{staticClass:"detailAside",attrs:{width:"350px"}},[e("div",{staticClass:"platform"},[e("a",[t._v(t._s(t.item.platform))])]),e("div",{staticClass:"block imgContainer"},[e("el-image",{attrs:{src:t.item.images.common,fit:"fill","preview-src-list":[t.item.images.large]}},[e("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[t._v(" 加载中 "),e("span",{staticClass:"dot"},[t._v("...")])])])],1),e("div",{staticClass:"player",staticStyle:{padding:"10px"},attrs:{shadow:"never"}},[e("a",{staticClass:"playerTitle"},[t._v("播放源:")]),e("el-button",{directives:[{name:"show",rawName:"v-show",value:t.findShow,expression:"findShow"}],staticClass:"findplayer",attrs:{round:"",plain:"",size:"mini",loading:t.findPlayerLoading},on:{click:t.findPlayer}},[t._v("查找播放源")]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.findShow,expression:"!findShow"}],staticClass:"playerResource"},[e("a",{directives:[{name:"show",rawName:"v-show",value:t.isbili,expression:"isbili"}],staticStyle:{marginRight:"0.3rem"},attrs:{href:t.bilisrc}},[e("img",{attrs:{src:a(6756)}})]),e("a",{directives:[{name:"show",rawName:"v-show",value:t.isacfun,expression:"isacfun"}],staticStyle:{marginRight:"0.3rem"},attrs:{href:t.acfunsrc}},[e("img",{attrs:{src:a(9261)}})]),e("a",{directives:[{name:"show",rawName:"v-show",value:t.iswetv,expression:"iswetv"}],staticStyle:{marginRight:"0.3rem"},attrs:{href:t.wetvsrc}},[e("img",{attrs:{src:a(6383)}})]),e("a",{directives:[{name:"show",rawName:"v-show",value:t.isiqiyi,expression:"isiqiyi"}],staticStyle:{marginRight:"0.3rem"},attrs:{href:t.iqiyisrc}},[e("img",{attrs:{src:a(4612)}})]),e("a",{directives:[{name:"show",rawName:"v-show",value:t.isyouku,expression:"isyouku"}],staticStyle:{marginRight:"0.3rem"},attrs:{href:t.youkusrc}},[e("img",{attrs:{src:a(8030)}})])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.notfound,expression:"notfound"}],staticClass:"notfound"},[e("a",[t._v("未找到播放源")])])],1),e("el-table",{staticClass:"infoTable",attrs:{data:t.item.infobox,"show-header":!1,"cell-style":t.cellStyle,size:"small"}},[e("el-table-column",{attrs:{prop:"key",label:"key",width:"70"}}),e("el-table-column",{attrs:{prop:"value",label:"value",width:"180"}})],1)],1),e("el-main",{staticClass:"detailMain"},[e("el-card",{staticClass:"rating",attrs:{shadow:"never"}},[e("div",[e("a",[t._v("站内评分排名： "),e("a",[t._v(t._s(0===t.item.rating.rank?"暂无排名":t.item.rating.rank))])])]),e("el-rate",{attrs:{disabled:"","show-score":"","text-color":"#ff9900",max:Number(10),"score-template":t.item.rating.score.toString()},model:{value:t.item.rating.score,callback:function(e){t.$set(t.item.rating,"score",e)},expression:"item.rating.score"}}),e("div",{staticClass:"collection"},[e("a",{staticStyle:{marginRight:"0.6rem"}},[t._v(t._s(t.item.rating.total)+"评分")]),e("a",{staticStyle:{marginRight:"0.6rem"}},[t._v(t._s(t.item.collection.wish)+"想看")]),e("a",{staticStyle:{marginRight:"0.6rem"}},[t._v(t._s(t.item.collection.collect)+"看过")]),e("a",{staticStyle:{marginRight:"0.6rem"}},[t._v(t._s(t.item.collection.doing)+"在看")]),e("a",{staticStyle:{marginRight:"0.6rem"}},[t._v(t._s(t.item.collection.on_hold)+"搁置")]),e("a",{staticStyle:{marginRight:"0.6rem"}},[t._v(t._s(t.item.collection.dropped)+"抛弃")])])],1),e("el-card",{staticClass:"box-card summary",attrs:{shadow:"never"}},[t.item.summary?e("a",{staticStyle:{padding:"1rem 1.1rem 1rem 1.1rem",display:"block"}},[t._v(t._s(t.item.summary))]):e("a",[t._v("暂无剧集简介...")])]),e("el-card",{staticClass:"tagContainer"},[t.item.tags.length>0?e("a",{staticClass:"tagTitle"},[t._v("大家把 "),e("a",{staticStyle:{"font-weight":"600"}},[t._v(t._s(t.item.name_cn?t.item.name_cn:t.item.name))]),t._v(" 标注为：")]):e("a",{staticClass:"tagTitle"},[t._v("该作品还没有标签")]),t._l(t.item.tags,(function(a){return e("el-tag",{key:a.id,staticClass:"tag",attrs:{type:"info"},on:{click:function(e){return t.handleTag(a.name)}}},[e("a",{staticClass:"tagName"},[t._v(t._s(a.name))]),e("a",{staticClass:"tagCount"},[t._v(t._s(a.count))])])}))],2),e("el-card",{staticClass:"charactersContainer"},[e("a",{staticClass:"charactersTitle"},[t._v("角色介绍")]),this.isChaLoading?e("div",{directives:[{name:"loading",rawName:"v-loading",value:this.isChaLoading,expression:"this.isChaLoading"}],staticClass:"loading",staticStyle:{"min-height":"100px"},attrs:{"element-loading-text":"正在加载中...请稍候"}}):t.sliceCha.length>0?e("div",{staticClass:"charactersContent"},[t._l(t.sliceCha,(function(t){return e("CharacterCard",{key:t.id,attrs:{id:t.id,actor:t.actors[0]?t.actors[0].name:"",actorId:t.actors[0]?t.actors[0].id:0,img:t.images.grid,name:t.name,relation:t.relation}})})),t.chaToggleBtn?e("el-button",{staticClass:"Toggle",attrs:{size:"mini",type:"text"},on:{click:t.chaToggle}},[t._v(" "+t._s(t.isChaToggle?"收起":"展开")+" "),e("i",{staticClass:"el-icon--right",class:t.isChaToggle?"el-icon-arrow-up":"el-icon-arrow-down"})]):t._e()],2):e("div",{staticClass:"charactersContent"},[t._v(" 暂无相关角色信息 ")])]),e("el-card",{staticClass:"charactersContainer"},[e("a",{staticClass:"charactersTitle"},[t._v("制作成员")]),this.isPersonLoading?e("div",{directives:[{name:"loading",rawName:"v-loading",value:this.isPersonLoading,expression:"this.isPersonLoading"}],staticClass:"loading",staticStyle:{"min-height":"100px"},attrs:{"element-loading-text":"正在加载中...请稍候"}}):t.persons.length>0?e("div",{staticClass:"charactersContent"},[t._l(t.slicePerson,(function(t){return e("PersonCard",{key:t.id,attrs:{id:t.id,img:t.images.grid,name:t.name,relation:t.relation}})})),t.personToggleBtn?e("el-button",{staticClass:"Toggle",attrs:{size:"mini",type:"text"},on:{click:t.personToggle}},[t._v(" "+t._s(t.isPersonToggle?"收起":"展开")+" "),e("i",{staticClass:"el-icon--right",class:t.isPersonToggle?"el-icon-arrow-up":"el-icon-arrow-down"})]):t._e()],2):e("div",{staticClass:"charactersContent"},[t._v(" 暂无制作成员信息 ")])]),e("el-card",{staticClass:"relationsContainer"},[e("a",{staticClass:"relationsTitle"},[t._v("相关条目")]),this.isRelationLoading?e("div",{directives:[{name:"loading",rawName:"v-loading",value:this.isRelationLoading,expression:"this.isRelationLoading"}],staticClass:"loading",staticStyle:{"min-height":"100px"},attrs:{"element-loading-text":"正在加载中...请稍候"}}):t.relations.length>0?e("div",{staticClass:"relationsContent"},[t._l(t.sliceRelation,(function(t){return e("GridCard",{key:t.id,attrs:{id:t.id,img:t.images.grid,name:t.name,name_cn:t.name_cn,relation:t.relation}})})),t.relationToggleBtn?e("el-button",{staticClass:"Toggle",attrs:{size:"mini",type:"text"},on:{click:t.relationToggle}},[t._v(" "+t._s(t.isRelationToggle?"收起":"展开")+" "),e("i",{staticClass:"el-icon--right",class:t.isChaToggle?"el-icon-arrow-up":"el-icon-arrow-down"})]):t._e()],2):e("div",{staticClass:"relationsContent"},[t._v(" 暂无相关条目信息 ")])])],1)],1)],1)],1)])},B=[],z=function(){var t=this,e=t._self._c;return e("div",{staticClass:"chaContainer"},[e("el-image",{staticClass:"chaAva",attrs:{shape:"square",size:"large",src:t.img,fit:"contain","preview-src-list":[t.img]}},[e("div",{staticClass:"imageSlot",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-user"})])]),e("div",{staticClass:"Info"},[e("div",{staticClass:"chaInfo"},[e("a",{staticClass:"chaKey"},[t._v(t._s(t.relation))]),e("a",{staticClass:"chaValue active",on:{click:t.toCharacter}},[t._v(t._s(t.name))])]),e("div",{staticClass:"actorInfo"},[e("a",{staticClass:"chaKey"},[t._v("配音")]),t.actor?e("a",{staticClass:"chaValue active",on:{click:t.toPerson}},[t._v(t._s(t.actor))]):e("a",{staticClass:"chaValue"},[t._v("暂无信息")])])])],1)},Z=[],O={name:"CharacterCard",props:{id:Number,actorId:Number,actor:String,img:String,name:String,relation:String},methods:{toCharacter(){"Mobile"===this.$store.state.device?this.$router.push({path:"mcharacter",query:{id:this.id}}):this.$router.push({path:"character",query:{id:this.id}})},toPerson(){this.actorId&&("Mobile"===this.$store.state.device?this.$router.push({path:"mperson",query:{actorId:this.actorId}}):this.$router.push({path:"person",query:{actorId:this.actorId}}))}}},G=O,H=(0,g.Z)(G,z,Z,!1,null,"5a8ae49a",null),U=H.exports,W=function(){var t=this,e=t._self._c;return e("div",{staticClass:"personContainer"},[e("el-image",{staticClass:"personAva",attrs:{shape:"square",size:"large",src:t.img,fit:"contain","preview-src-list":[t.img]}},[e("div",{staticClass:"imageSlot",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-user"})])]),e("div",{staticClass:"Info"},[e("div",{staticClass:"personInfo"},[e("a",{staticClass:"personKey"},[t._v("名称")]),e("a",{staticClass:"personValue active",on:{click:t.toPerson}},[t._v(t._s(t.name))])]),e("div",{staticClass:"actorInfo"},[e("a",{staticClass:"personKey"},[t._v("职责")]),t.relation?e("a",{staticClass:"personValue"},[t._v(t._s(t.relation))]):e("a",{staticClass:"personValue"},[t._v("暂无信息")])])])],1)},Y=[],J={name:"CharacterCard",props:{id:Number,img:String,name:String,relation:String},methods:{toPerson(){"Mobile"===this.$store.state.device?this.$router.push({path:"mperson",query:{actorId:this.id}}):this.$router.push({path:"person",query:{actorId:this.id}})}}},K=J,Q=(0,g.Z)(K,W,Y,!1,null,"4f67fa51",null),X=Q.exports,tt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"gridContainer",on:{click:t.toDetail}},[e("el-image",{staticClass:"gridImg",attrs:{src:t.img,fit:"cover"}},[e("div",{staticClass:"imageSlot",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline"})])]),e("div",{staticClass:"gridCover"},[e("div",{staticClass:"titleContainer"},[e("a",{staticClass:"title"},[t._v(t._s(t.name_cn?t.name_cn:t.name))])])])],1)},et=[],at={name:"GridCard",props:{id:Number,img:String,name:String,name_cn:String,relation:String},methods:{toDetail(){"/detail"===this.$route.path?(this.$router.push({path:"detail",query:{id:this.id}}),location.reload()):this.$router.push({path:"detail",query:{id:this.id}})}}},st=at,it=(0,g.Z)(st,tt,et,!1,null,"b19c4a98",null),rt=it.exports,nt=a(9879),lt=a(594),ot={name:"Detail",data(){return{item:[],characters:[],persons:[],relations:[],infoList:[],isLoading:!0,apiError:!1,errorMsg:"",isDark:!1,findPlayerLoading:!1,notfound:!1,findShow:!0,isbili:!1,isacfun:!1,iswetv:!1,isiqiyi:!1,isyouku:!1,bilisrc:"",acfunsrc:"",wetvsrc:"",iqiyisrc:"",youkusrc:"",isChaLoading:!0,isPersonLoading:!0,isRelationLoading:!0,isChaToggle:!1,chaToggleBtn:!1,chaMax:15,isRelationToggle:!1,relationToggleBtn:!1,relationMax:16,isPersonToggle:!1,personToggleBtn:!1,personMax:15}},components:{CharacterCard:U,PersonCard:X,GridCard:rt},methods:{findPlayer(){this.findPlayerLoading=!0,lt.Z.get(`https://cdn.jsdelivr.net/gh/ekibot/bangumi-onair/onair/${Math.floor(this.item.id/1e3)}/${this.item.id}.json`).then((t=>{this.findPlayerLoading=!1,console.log(t.data),this.findShow=!1;for(let e=0;e<t.data.sites.length;e++)if("iqiyi"===t.data.sites[e].site){this.isiqiyi=!0;for(let e=0;e<t.data.eps[0].sites.length;e++)"iqiyi"===t.data.eps[0].sites[e].site&&(this.iqiyisrc=t.data.eps[0].sites[e].url)}else if("qq"===t.data.sites[e].site){this.iswetv=!0;for(let e=0;e<t.data.eps[0].sites.length;e++)"qq"===t.data.eps[0].sites[e].site&&(this.wetvsrc=t.data.eps[0].sites[e].url)}else if("youku"===t.data.sites[e].site){this.isyouku=!0;for(let e=0;e<t.data.eps[0].sites.length;e++)"youku"===t.data.eps[0].sites[e].site&&(this.youkusrc=t.data.eps[0].sites[e].url)}else if("bilibili"===t.data.sites[e].site){this.isbili=!0;for(let e=0;e<t.data.eps[0].sites.length;e++)"bilibili"===t.data.eps[0].sites[e].site&&(this.bilisrc=t.data.eps[0].sites[e].url)}else if("acfun"===t.data.sites[e].site){this.isacfun=!0;for(let e=0;e<t.data.eps[0].sites.length;e++)"acfun"===t.data.eps[0].sites[e].site&&(this.acfunsrc=t.data.eps[0].sites[e].url)}}),(t=>{this.findPlayerLoading=!1,this.findShow=!1,this.notfound=!0,console.log(t.message)}))},cellStyle(){return"background-color: var(--secondary-background)"},handleTag(t){this.$router.push({path:"searchresult",query:{tagValue:t}})},chaToggle(){this.isChaToggle=!this.isChaToggle,!1===this.isChaToggle?this.chaMax=15:this.chaMax=99999},personToggle(){this.isPersonToggle=!this.isPersonToggle,!1===this.isPersonToggle?this.personMax=15:this.personMax=99999},relationToggle(){this.isRelationToggle=!this.isRelationToggle,!1===this.isRelationToggle?this.relationMax=16:this.relationMax=99999}},computed:{sliceCha(){return""===this.characters||void 0===this.characters?this.characters:this.characters.length>this.chaMax?this.characters.slice(0,this.chaMax):this.characters},slicePerson(){return""===this.persons||void 0===this.persons?this.persons:this.persons.length>this.personMax?this.persons.slice(0,this.personMax):this.persons},sliceRelation(){return""===this.relations||void 0===this.relations?this.relations:this.relations.length>this.relationMax?this.relations.slice(0,this.relationMax):this.relations}},beforeCreate(){"Mobile"===this.$store.state.device&&this.$router.push({path:"mdetail",query:{id:this.$route.query.id}})},created(){this.isDark=JSON.parse(localStorage.getItem("isDark")),lt.Z.get(`https://api.bgm.tv/v0/subjects/${this.$route.query.id}`).then((t=>{this.isLoading=!1,this.item=t.data;for(let e=0;e<this.item.infobox.length;e++)"object"===typeof this.item.infobox[e].value&&(this.item.infobox[e].value=this.item.name?this.item.name:"无");for(let e=0;e<this.item.tags.length;e++)this.item.tags[e].id=(0,nt.x0)(8)}),(t=>{this.isLoading=!1,this.apiError=!0,this.errorMsg=t.message,console.log(t.message)})),lt.Z.get(`https://api.bgm.tv/v0/subjects/${this.$route.query.id}/characters`).then((t=>{this.characters=t.data,this.isChaLoading=!1,this.characters.length>this.chaMax&&(this.chaToggleBtn=!0)}),(t=>{console.log(t.message)})),lt.Z.get(`https://api.bgm.tv/v0/subjects/${this.$route.query.id}/persons`).then((t=>{this.persons=t.data.slice(0,150),this.isPersonLoading=!1,this.persons.length>this.personMax&&(this.personToggleBtn=!0)}),(t=>{console.log(t.message)})),lt.Z.get(`https://api.bgm.tv/v0/subjects/${this.$route.query.id}/subjects`).then((t=>{this.relations=t.data,this.isRelationLoading=!1,this.relations.length>this.relationMax&&(this.relationToggleBtn=!0)}),(t=>{console.log(t.message)}))}},ct=ot,mt=(0,g.Z)(ct,A,B,!1,null,"bb6e84cc",null),ht=mt.exports,gt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"searchResContainer"},[t.isloading?e("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"loading",attrs:{"element-loading-text":"正在加载中...请稍候"}}):this.apiError?e("div",{staticClass:"loading"},[e("el-alert",{staticStyle:{marginTop:"5rem"},attrs:{title:"加载错误...请稍后再试",type:"error",description:"错误代码："+this.errorMsg,"show-icon":""}})],1):t._e(),this.searchResTotal||t.isloading?t._e():e("div",[t._m(0)]),!t.isloading&&this.searchResTotal?e("div",{staticClass:"searchResContent"},[e("el-container",[e("el-aside",{staticClass:"searchResAside",attrs:{width:"200px"}},[e("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":String(this.searchdata.filter.type[0]),"active-text-color":"#ff8b88"},on:{select:t.handleSelect}},[e("el-menu-item",{attrs:{index:"2"}},[e("i",{staticClass:"el-icon-film"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("anime")])]),e("el-menu-item",{attrs:{index:"1"}},[e("i",{staticClass:"el-icon-notebook-2"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("books")])]),e("el-menu-item",{attrs:{index:"3"}},[e("i",{staticClass:"el-icon-headset"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("music")])]),e("el-menu-item",{attrs:{index:"4"}},[e("i",{staticClass:"el-icon-coordinate"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("game")])])],1),e("a",{staticClass:"datePickerTitle"},[t._v("日期筛选")]),e("div",{staticClass:"datePicker"},[e("el-date-picker",{attrs:{type:"date",placeholder:"起始日期","value-format":"yyyy-MM-dd",size:"small"},model:{value:t.datePickStart,callback:function(e){t.datePickStart=e},expression:"datePickStart"}}),e("el-date-picker",{attrs:{type:"date",placeholder:"终止日期","value-format":"yyyy-MM-dd",size:"small"},model:{value:t.datePickEnd,callback:function(e){t.datePickEnd=e},expression:"datePickEnd"}}),e("el-button",{staticClass:"datePickerBtn",attrs:{size:"samll",round:""},on:{click:t.datePickBtn}},[t._v("确定")])],1)],1),e("el-main",{staticClass:"searchResMain"},[t._l(t.searchResItems,(function(t){return e("SearchCard",{key:t.id,attrs:{id:t.id,date:t.date,img:t.image,name:t.name,nameCN:t.name_cn,rank:t.rank,score:t.score,tags:t.tags}})})),t.searchResTotal?e("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":10,total:this.searchResTotal,"current-page":this.currentPage},on:{"current-change":t.handleCurrentChange}}):t._e()],2)],1)],1):t._e()])},dt=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"nonePick"},[e("i",{staticClass:"el-icon-s-promotion"}),e("div",{staticClass:"nonePickContant"},[e("a",{staticStyle:{lineHeight:"1.8"}},[t._v("未搜索到符合条件的作品")])])])}],ut=function(){var t=this,e=t._self._c;return e("div",{staticClass:"searchCardContainer"},[e("el-container",[e("el-aside",{staticClass:"searchResAside",attrs:{width:"120px"}},[e("div",{staticClass:"imgContainer"},[e("el-image",{staticClass:"img",staticStyle:{width:"90px",height:"125px"},attrs:{src:t.img,"preview-src-list":[t.img],fit:"fill"}})],1)]),e("el-main",{staticClass:"searchResMain"},[e("div",{staticClass:"MainHeader"},[e("div",{staticClass:"titleContainer",on:{click:t.toDetail}},[e("a",{staticClass:"titleCN"},[t._v(t._s(t.nameCN.length?t.nameCN:t.name))]),t.nameCN.length<10?e("a",{staticClass:"title"},[t._v(t._s(t.name))]):t._e()]),e("el-tag",{attrs:{type:"warning",effect:"light"}},[e("a",[t._v(t._s(t.rank?"排名 "+t.rank:"暂无排名"))])])],1),e("div",{staticClass:"date"},[e("a",[t._v("放映时间："+t._s(t.date))])]),e("div",{staticClass:"tags"},t._l(t.itemtags,(function(a){return e("el-tag",{key:a.id,staticClass:"tag",attrs:{type:"info",effect:"plain",size:"small"},on:{click:function(e){return t.handleTag(a.name)}}},[t._v(t._s(a.name))])})),1),e("div",{staticClass:"score"},[e("el-rate",{attrs:{disabled:"","show-score":"","text-color":"#ff9900",max:Number(10),"score-template":t.itemScore.toString()},model:{value:t.itemScore,callback:function(e){t.itemScore=e},expression:"itemScore"}})],1)])],1)],1)},vt=[],pt={name:"SearchCard",data(){return{itemtags:[],searchdata:{keyword:"string",sort:"rank",filter:{type:[2],tag:["s"]}}}},props:{id:Number,date:String,img:String,name:String,nameCN:String,rank:Number,score:Number,tags:Array,type:Number},computed:{itemScore:{get(){return this.score?this.score:0},set(t){return t}}},methods:{toDetail(){this.$router.push({path:"detail",query:{id:this.id}})},handleTag(t){this.searchdata.filter.tag[0]=t,"/searchresult"!==this.$route.path?this.$router.push({path:"searchresult",query:{tagValue:t,type:this.type}}):this.$store.dispatch("getTag",this.searchdata.filter.tag[0])}},created(){this.itemtags=this.tags.slice(0,7)}},Ct=pt,ft=(0,g.Z)(Ct,ut,vt,!1,null,"7873bd80",null),_t=ft.exports,wt=a(3493),kt=a.n(wt),Tt={name:"SearchResult",components:{SearchCard:_t},data(){return{searchResItems:0,searchResTotal:0,currentPage:1,isloading:!0,apiError:!1,errorMsg:"",datePickStart:"",datePickEnd:"",searchdata:{keyword:"string",sort:"rank",filter:{type:[2],tag:[],air_date:[]}}}},methods:{handleSelect(t){this.searchdata.filter.type[0]!==Number(t)&&(this.currentPage=1,this.searchdata.filter.type[0]=Number(t),this.searchdata.keyword=this.$route.query.inputValue,lt.Z.post("https://api.bgm.tv/v0/search/subjects?limit=10&offset="+10*(this.currentPage-1),this.searchdata).then((t=>{this.searchResItems=t.data.data,this.searchResTotal=t.data.total,this.isloading=!1}),(t=>{this.apiError=!0,this.errorMsg=t.message,console.log(t.message)})))},handleCurrentChange(t){this.currentPage=t,lt.Z.post("https://api.bgm.tv/v0/search/subjects?limit=10&offset="+10*(this.currentPage-1),this.searchdata).then((t=>{this.searchResItems=t.data.data,this.searchResTotal=t.data.total,this.isloading=!1}),(t=>{this.apiError=!0,this.errorMsg=t.message,console.log(t.message)})),window.scrollTo({top:480,behavior:"smooth"})},datePickBtn:kt()((function(){this.datePickStart&&this.datePickEnd?">="===this.datePickStart.substr(0,2)&&"<"===this.datePickEnd.substr(0,1)?(this.searchdata.filter.air_date[0]=this.datePickStart,this.searchdata.filter.air_date[1]=this.datePickEnd):(this.datePickStart=">="+this.datePickStart,this.datePickEnd="<"+this.datePickEnd,this.searchdata.filter.air_date[0]=this.datePickStart,this.searchdata.filter.air_date[1]=this.datePickEnd):this.datePickStart||this.datePickEnd?this.$message({message:"请正确选择起始日期哦",type:"warning"}):(this.searchdata.filter.air_date[0]=this.datePickStart,this.searchdata.filter.air_date[1]=this.datePickEnd),lt.Z.post("https://api.bgm.tv/v0/search/subjects?limit=10&offset=0",this.searchdata).then((t=>{this.searchResItems=t.data.data,this.searchResTotal=t.data.total}),(t=>{this.apiError=!0,this.errorMsg=t.message,console.log(t.message)}))}),2e3)},watch:{"$route.query.inputValue":{handler:function(){location.reload()},deep:!0},"$store.state.tag":{handler(t){this.searchdata.filter.tag[0]=t,this.searchdata.keyword=void 0,lt.Z.post("https://api.bgm.tv/v0/search/subjects?limit=10&offset="+10*(this.currentPage-1),this.searchdata).then((t=>{this.searchResItems=t.data.data,this.searchResTotal=t.data.total,this.isloading=!1}),(t=>{this.apiError=!0,this.errorMsg=t.message,console.log(t.message)})),window.scrollTo({top:480,behavior:"smooth"})}}},created(){this.searchdata.keyword=this.$route.query.inputValue,this.$route.query.tagValue&&(this.searchdata.filter.tag[0]=this.$route.query.tagValue),this.$route.query.type&&(this.searchdata.filter.type[0]=Number(this.$route.query.type)),lt.Z.post("https://api.bgm.tv/v0/search/subjects?limit=10&offset="+10*(this.currentPage-1),this.searchdata).then((t=>{this.searchResItems=t.data.data,this.searchResTotal=t.data.total,this.isloading=!1}),(t=>{this.apiError=!0,this.errorMsg=t.message,console.log(t.message)}))}},yt=Tt,bt=(0,g.Z)(yt,gt,dt,!1,null,"51b8463e",null),xt=bt.exports,St=function(){var t=this,e=t._self._c;return e("div",{class:{Home:!0,dark:t.isDark,light:!t.isDark}},[e("div",{staticClass:"weekContainer"},[e("WeekdayNavi")],1),this.totalData.length==[]?e("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"loading",attrs:{"element-loading-text":"正在加载中...请稍候"}}):this.apiError?e("div",{staticClass:"loading"},[e("el-alert",{attrs:{title:"加载错误...请稍后再试",type:"error",effect:"dark"}})],1):t._e(),e("div",{staticClass:"itemContainer"},t._l(t.items,(function(t){return e("MainCard",{key:t.id,attrs:{id:t.id,img:t.images?t.images.large:"无图片",name:t.name_cn?t.name_cn:t.name,collection:t.collection}})})),1)])},Nt=[],Pt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"cardItem",on:{click:t.toDetail}},[e("div",{staticClass:"imgContainer"},[e("el-image",{staticClass:"itemImg",attrs:{src:t.img,fit:"fill"}},[e("div",{staticClass:"alt",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline"}),e("a",{staticStyle:{fontSize:"1rem"}},[t._v("暂无图片")])]),e("div",{staticClass:"alt",attrs:{slot:"placeholder"},slot:"placeholder"},[e("i",{staticClass:"el-icon-loading"}),e("a",{staticStyle:{fontSize:"0.8rem"}},[t._v("加载中...")])])])],1),e("div",{staticClass:"title"},[e("a",[t._v(t._s(t.name))])]),e("div",{directives:[{name:"show",rawName:"v-show",value:"PC"===this.$store.state.device,expression:"this.$store.state.device === 'PC'"}],staticClass:"doing"},[0!==t.collection.doing?e("a",[t._v(t._s(t.collection.doing)+"人在看")]):e("a",[t._v("暂时没人在看哦")])])])},$t=[],Mt={name:"MainCard",data(){return{metaData:[]}},props:{id:Number,name:String,img:String,collection:Object},methods:{toDetail(){"Mobile"===this.$store.state.device?this.$router.push({path:"mdetail",query:{id:this.id}}):this.$router.push({path:"detail",query:{id:this.id}})}}},jt=Mt,Ft=(0,g.Z)(jt,Pt,$t,!1,null,"3c68e4b2",null),Et=Ft.exports,Rt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"week"},["PC"===t.$store.state.device?e("ul",{staticClass:"weekbar"},[e("li",{class:0==this.current?"active weekbarItem":"weekbarItem",on:{click:function(e){return t.weekNumber(0)}}},[t._v("星期日")]),e("li",{class:1==this.current?"active weekbarItem":"weekbarItem",on:{click:function(e){return t.weekNumber(1)}}},[t._v("星期一")]),e("li",{class:2==this.current?"active weekbarItem":"weekbarItem",on:{click:function(e){return t.weekNumber(2)}}},[t._v("星期二")]),e("li",{class:3==this.current?"active weekbarItem":"weekbarItem",on:{click:function(e){return t.weekNumber(3)}}},[t._v("星期三")]),e("li",{class:4==this.current?"active weekbarItem":"weekbarItem",on:{click:function(e){return t.weekNumber(4)}}},[t._v("星期四")]),e("li",{class:5==this.current?"active weekbarItem":"weekbarItem",on:{click:function(e){return t.weekNumber(5)}}},[t._v("星期五")]),e("li",{class:6==this.current?"active weekbarItem":"weekbarItem",on:{click:function(e){return t.weekNumber(6)}}},[t._v("星期六")])]):t._e(),"Mobile"===t.$store.state.device?e("ul",{staticClass:"weekbar"},[e("li",{class:0==this.current?"active weekbarItem":"weekbarItem",on:{click:function(e){return t.weekNumber(0)}}},[t._v("周日")]),e("li",{class:1==this.current?"active weekbarItem":"weekbarItem",on:{click:function(e){return t.weekNumber(1)}}},[t._v("周一")]),e("li",{class:2==this.current?"active weekbarItem":"weekbarItem",on:{click:function(e){return t.weekNumber(2)}}},[t._v("周二")]),e("li",{class:3==this.current?"active weekbarItem":"weekbarItem",on:{click:function(e){return t.weekNumber(3)}}},[t._v("周三")]),e("li",{class:4==this.current?"active weekbarItem":"weekbarItem",on:{click:function(e){return t.weekNumber(4)}}},[t._v("周四")]),e("li",{class:5==this.current?"active weekbarItem":"weekbarItem",on:{click:function(e){return t.weekNumber(5)}}},[t._v("周五")]),e("li",{class:6==this.current?"active weekbarItem":"weekbarItem",on:{click:function(e){return t.weekNumber(6)}}},[t._v("周六")])]):t._e()])},It=[],Lt={name:"WeekdayNavi",data(){return{current:0}},methods:{weekNumber(t){this.current=t,this.$store.dispatch("getWeekNumber",t)}}},qt=Lt,Dt=(0,g.Z)(qt,Rt,It,!1,null,"36a40a08",null),Vt=Dt.exports;const At=a(7218);var Bt={name:"Home",data(){return{items:[],current:0,totalData:[],apiError:"",doing:"",isDark:!1}},components:{MainCard:Et,WeekdayNavi:Vt},methods:{compare(t,e){let a=t.collection.doing?t.collection.doing:0,s=e.collection.doing?e.collection.doing:0;return a<s?1:a>s?-1:0}},watch:{"$store.state.currentWeekNumber":{handler:function(t){this.items=this.totalData.data[t].items}},"$store.state.isDark":{handler:function(t){this.isDark=t}}},created(){this.isDark=JSON.parse(localStorage.getItem("isDark")),localStorage.getItem("isLogin")||localStorage.setItem("isLogin",!1),At.get("https://api.bgm.tv/calendar").then((t=>{this.items=t.data[0].items;for(let e=0;e<7;e++){for(let a=0;a<t.data[e].items.length;a++)t.data[e].items[a].collection||(t.data[e].items[a].collection={doing:0});t.data[e].items.sort(this.compare)}this.totalData=t}),(t=>{this.apiError=t.message,console.log(t.message)}))}},zt=Bt,Zt=(0,g.Z)(zt,St,Nt,!1,null,"1e1a90e8",null),Ot=Zt.exports,Gt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"loginContainer"},[e("div",{staticClass:"loginContent"},[e("a",{staticClass:"loginTitle"},[t._v("登录账号")]),e("a",{staticClass:"welcome"},[t._v("欢迎回到BanViewer")]),e("el-form",{ref:"loginForm",staticClass:"loginForm",attrs:{model:t.loginForm,"status-icon":"",rules:t.rules,"label-position":"top","label-width":"100px"}},[e("el-form-item",{attrs:{label:"用户名",prop:"username"}},[e("el-input",{attrs:{type:"text",maxlength:"15",autocomplete:"off",placeholder:"请输入用户名"},model:{value:t.loginForm.username,callback:function(e){t.$set(t.loginForm,"username",e)},expression:"loginForm.username"}})],1),e("el-form-item",{attrs:{label:"密码",prop:"pass"}},[e("el-input",{attrs:{type:"password",maxlength:"16",autocomplete:"off","show-password":!0,placeholder:"请输入密码"},model:{value:t.loginForm.pass,callback:function(e){t.$set(t.loginForm,"pass",e)},expression:"loginForm.pass"}})],1),e("el-form-item",[e("el-link",{attrs:{underline:!1},on:{click:t.toRegister}},[t._v("没有账号？点击注册")])],1),e("el-form-item",{staticClass:"btnContainer"},[e("el-button",{staticClass:"submitBtn",attrs:{type:"primary"},on:{click:function(e){return t.submitForm("loginForm")}}},[t._v("登录")]),e("el-button",{staticClass:"resetBtn",on:{click:function(e){return t.resetForm("loginForm")}}},[t._v("重置")])],1)],1)],1)])},Ht=[],Ut={name:"Login",data(){var t=(t,e,a)=>e?e.length<5?a(new Error("用户名应至少5个字符")):15===e.length?a(new Error("用户名长度已达上限")):a():a(new Error("用户名不能为空")),e=(t,e,a)=>{if(""===e)a(new Error("请输入密码"));else if(e.length<6)a(new Error("密码长度至少为6个字符"));else if(16===e.length)return a(new Error("密码长度已达上限"));return a()};return{loginForm:{username:"",pass:""},rules:{username:[{validator:t,trigger:"change"}],pass:[{validator:e,trigger:"blur"}]}}},methods:{submitForm:kt()((function(t){this.$refs[t].validate((t=>{if(!t)return this.$message({message:"请正确填写登录信息",type:"warning"}),console.log("error submit!!"),!1;this.loginForm.username===localStorage.getItem("username")&&this.loginForm.pass===localStorage.getItem("password")?(localStorage.setItem("isLogin",!0),this.$message({message:"欢迎回来",type:"success"}),setTimeout(this.toHome(),1e3)):this.$message.error("登录失败，请检查账号信息")}))}),2e3),resetForm(t){this.$refs[t].resetFields()},toRegister(){this.$router.push({path:"register"})},toHome(){this.$router.replace({path:"home",query:{username:this.loginForm.username}})}}},Wt=Ut,Yt=(0,g.Z)(Wt,Gt,Ht,!1,null,"5f08eebe",null),Jt=Yt.exports,Kt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"registerContainer"},[e("div",{staticClass:"registerContent"},[e("a",{staticClass:"registerTitle"},[t._v("注册账号")]),e("el-form",{ref:"registerForm",staticClass:"registerForm",attrs:{model:t.registerForm,"status-icon":"",rules:t.rules,"label-position":"top","label-width":"100px"}},[e("el-form-item",{attrs:{label:"用户名",prop:"username"}},[e("el-input",{attrs:{type:"text",maxlength:"15",autocomplete:"off",placeholder:"请设置用户名"},model:{value:t.registerForm.username,callback:function(e){t.$set(t.registerForm,"username",e)},expression:"registerForm.username"}})],1),e("el-form-item",{attrs:{label:"密码",prop:"pass"}},[e("el-input",{attrs:{type:"password",maxlength:"16",autocomplete:"off",placeholder:"请设置登录密码"},model:{value:t.registerForm.pass,callback:function(e){t.$set(t.registerForm,"pass",e)},expression:"registerForm.pass"}})],1),e("el-form-item",{staticStyle:{marginBottom:"0.6rem"},attrs:{label:"确认密码",prop:"checkPass"}},[e("el-input",{attrs:{type:"password",maxlength:"16",autocomplete:"off",placeholder:"请再次输入密码"},model:{value:t.registerForm.checkPass,callback:function(e){t.$set(t.registerForm,"checkPass",e)},expression:"registerForm.checkPass"}})],1),e("el-form-item",{staticStyle:{margin:"0"}},[e("el-link",{attrs:{underline:!1},on:{click:t.toLogin}},[t._v("已有账号")])],1),e("el-checkbox",{model:{value:t.isRead,callback:function(e){t.isRead=e},expression:"isRead"}},[e("a",{on:{click:t.toAgreement}},[t._v("我已了解《社区指导原则》")])]),e("el-form-item",{staticClass:"btnContainer"},[e("el-button",{staticClass:"submitBtn",attrs:{type:"primary"},on:{click:function(e){return t.submitForm("registerForm")}}},[t._v("注册")]),e("el-button",{staticClass:"resetBtn",on:{click:function(e){return t.resetForm("registerForm")}}},[t._v("重置")])],1)],1)],1)])},Qt=[],Xt={name:"Register",data(){var t=(t,e,a)=>{for(let s=0;s<localStorage.length;s++)if(localStorage.getItem("username")===e)return a(new Error("该用户名已被注册"));return e?e.length<5?a(new Error("用户名应至少5个字符")):15===e.length?a(new Error("用户名长度已达上限")):(this.usernameState=!0,a()):a(new Error("用户名不能为空"))},e=(t,e,a)=>{if(""===e)a(new Error("请输入密码"));else if(e.length<6)a(new Error("密码长度至少为6个字符"));else{if(16===e.length)return a(new Error("密码长度已达上限"));""!==this.registerForm.checkPass&&this.$refs.registerForm.validateField("checkPass"),this.pwdState=!0,a()}},a=(t,e,a)=>{if(""===e)a(new Error("请再次输入密码"));else{if(16===e.length)return a(new Error("密码长度已达上限"));e!==this.registerForm.pass?a(new Error("两次输入密码不一致!")):(this.pwdCheckState=!0,a())}};return{isRead:!1,centerDialogVisible:!1,usernameState:!1,pwdState:!1,pwdCheckState:!1,registerForm:{username:"",pass:"",checkPass:""},rules:{username:[{validator:t,trigger:"change"}],pass:[{validator:e,trigger:"change"}],checkPass:[{validator:a,trigger:"change"}]}}},methods:{submitForm:kt()((function(t){const e=new Date;this.$refs[t].validate((t=>{if(!t)return this.$message.error("请正确填写注册所需的账号信息"),console.log("error submit!!"),!1;this.isRead?(localStorage.setItem("username",this.registerForm.username),localStorage.setItem("password",this.registerForm.pass),localStorage.setItem("time",e.toLocaleDateString()),this.$message({message:"恭喜你，注册成功",type:"success"}),setTimeout(this.toLogin(),1e3)):this.$message({message:"请您确认已了解《社区指导原则》",type:"warning"})}))}),2e3),resetForm(t){this.$refs[t].resetFields(),this.isRead=!1},toLogin(){this.$router.push({path:"/login"})},toAgreement(){this.$router.push({path:"/agreement"})}},beforeRouteLeave(t,e,a){"/agreement"===t.path?e.meta.keepAlive=!0:e.meta.keepAlive=!1,a()}},te=Xt,ee=(0,g.Z)(te,Kt,Qt,!1,null,"2a75fe94",null),ae=ee.exports,se=function(){var t=this,e=t._self._c;return e("div",{staticClass:"agreementContainer"},[e("div",{staticClass:"agreementContent"},[e("div",{staticClass:"agreementHeader"},[e("el-page-header",{attrs:{content:"详情页面"},on:{back:t.goBack}})],1),e("h2",{staticClass:"agreementTitle"},[t._v("社区指导原则")]),e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",{staticClass:"encourage"},[t._v("鼓励")])]),e("div",[e("ol",{staticClass:"rules"},[e("li",[t._v("鼓励分享、互助和开放；")]),e("li",[t._v("鼓励宽容和理性地对待不同的看法、喜好和意见；")]),e("li",[t._v("鼓励尊重他人的隐私和个人空间；")]),e("li",[t._v("鼓励转载注明原作者及来源；")]),e("li",[t._v("鼓励精彩原创内容；")]),e("li",[t._v("鼓励明确、及时的资源分享和点评；")]),e("li",[t._v("鼓励有始有终的自发福利活动。")])])])]),e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",{staticClass:"warn"},[t._v("不提倡")])]),e("div",[e("ol",{staticClass:"rules"},[e("li",[t._v("针对种族、国家、民族、宗教、性别、年龄、地缘、性取向、生理特征的歧视和仇恨言论；")]),e("li",[t._v("不雅词句、人身攻击、故意骚扰和恶意使用；")]),e("li",[t._v("色情、激进时政、意识形态方面的话题；")]),e("li",[t._v("使用妨碍视觉与心灵的文字；")]),e("li",[t._v("不提倡情绪激动而心灵枯槁的内容；")]),e("li",[t._v("不提倡转载过期变质内容；")]),e("li",[t._v("不提倡不知所谓的长篇大论；")]),e("li",[t._v("不提倡调查贴、投票贴、签名贴。")])])])]),e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",{staticClass:"danger"},[t._v("禁止")])]),e("div",[e("a",{staticClass:"suggest"},[t._v("以下行为视情况直接删除、锁定或删除ID、批量删除而不予通知；")]),e("ol",{staticClass:"rules"},[e("li",[t._v("违反中国或 BanViewer 成员所在地法律法规的行为和内容（政策法规）；")]),e("li",[t._v("威胁他人或 BanViewer 成员自身的人身安全、法律安全的行为；")]),e("li",[t._v("对网站的运营安全有潜在威胁的内容。")])])])])],1)])},ie=[],re={name:"Agreement",methods:{goBack(){this.$router.back()}}},ne=re,le=(0,g.Z)(ne,se,ie,!1,null,"2b5898a6",null),oe=le.exports,ce=function(){var t=this,e=t._self._c;return e("div",{staticClass:"profileContainer"},[e("div",{staticClass:"profileContent"},[e("el-container",[e("el-header",[e("div",{staticClass:"title"},[e("h2",[t._v("个人资料")])])]),e("el-container",[e("el-aside",{staticClass:"profileAside",attrs:{width:"300px"}},[e("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.imageUrl?e("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e("div",{staticClass:"time"},[e("a",[t._v(t._s(this.time)+"加入")])])],1),e("el-main",{staticClass:"profileMain"},[e("el-form",{ref:"profileForm",staticClass:"profileForm",attrs:{model:t.profileForm,rules:t.rules,"status-icon":"","label-width":"100px"}},[e("el-form-item",{attrs:{label:"用户名",prop:"user"}},[e("el-input",{attrs:{placeholder:this.profileForm.username},model:{value:t.profileForm.username,callback:function(e){t.$set(t.profileForm,"username",e)},expression:"profileForm.username"}})],1),e("el-form-item",{attrs:{label:"email",prop:"email"}},[e("el-input",{attrs:{placeholder:this.profileForm.email},model:{value:t.profileForm.email,callback:function(e){t.$set(t.profileForm,"email",e)},expression:"profileForm.email"}})],1),e("el-form-item",{attrs:{label:"性别",prop:"gender"}},[e("el-radio",{attrs:{label:"male"},model:{value:t.profileForm.gender,callback:function(e){t.$set(t.profileForm,"gender",e)},expression:"profileForm.gender"}},[t._v("男")]),e("el-radio",{attrs:{label:"female"},model:{value:t.profileForm.gender,callback:function(e){t.$set(t.profileForm,"gender",e)},expression:"profileForm.gender"}},[t._v("女")]),e("el-radio",{attrs:{label:"secret"},model:{value:t.profileForm.gender,callback:function(e){t.$set(t.profileForm,"gender",e)},expression:"profileForm.gender"}},[t._v("保密")])],1),e("el-form-item",{attrs:{label:"年龄",prop:"age"}},[e("el-input",{attrs:{placeholder:this.profileForm.age},model:{value:t.profileForm.age,callback:function(e){t.$set(t.profileForm,"age",t._n(e))},expression:"profileForm.age"}})],1),e("el-form-item",{attrs:{label:"生日",prop:"birth"}},[e("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.profileForm.birth,callback:function(e){t.$set(t.profileForm,"birth",e)},expression:"profileForm.birth"}})],1),e("el-form-item",{attrs:{label:"我的签名",prop:"sgin"}},[e("el-input",{attrs:{type:"textarea",rows:4,placeholder:this.profileForm.sgin?this.profileForm.sgin:"请输入内容"},model:{value:t.profileForm.sgin,callback:function(e){t.$set(t.profileForm,"sgin",e)},expression:"profileForm.sgin"}})],1),e("el-form-item",{attrs:{label:"国家",prop:"country"}},[e("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.profileForm.country,callback:function(e){t.$set(t.profileForm,"country",e)},expression:"profileForm.country"}},t._l(t.options,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),e("el-form-item",{attrs:{label:"密码",prop:"pwd"}},[e("el-link",{staticClass:"changepwd",attrs:{type:"primary",underline:!1},on:{click:function(e){t.dialogVisible=!0}}},[t._v("修改密码")])],1),e("el-form-item",[e("el-button",{staticStyle:{borderRadius:"0.5rem",width:"52%"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(e){return t.submitForm("profileForm")}}},[t._v("保存修改")]),e("el-button",{staticClass:"logout",attrs:{icon:"el-icon-circle-close",type:"danger",plain:""},on:{click:t.logout}},[t._v("退出登录")])],1)],1)],1)],1)],1),e("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"30%",modal:"",center:"","append-to-body":!0},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-form",{ref:"changepwdForm",staticClass:"changepwdForm",attrs:{model:t.changepwdForm,rules:t.pwdrules,"status-icon":"","label-width":"100px"}},[e("el-form-item",{attrs:{label:"旧密码",prop:"password"}},[e("el-input",{attrs:{"show-password":""},model:{value:t.changepwdForm.password,callback:function(e){t.$set(t.changepwdForm,"password",e)},expression:"changepwdForm.password"}})],1),e("el-form-item",{attrs:{label:"新密码",prop:"newpwd"}},[e("el-input",{attrs:{"show-password":""},model:{value:t.changepwdForm.newpwd,callback:function(e){t.$set(t.changepwdForm,"newpwd",e)},expression:"changepwdForm.newpwd"}})],1),e("el-form-item",{attrs:{label:"确认新密码",prop:"checkNewpwd"}},[e("el-input",{attrs:{"show-password":""},model:{value:t.changepwdForm.checkNewpwd,callback:function(e){t.$set(t.changepwdForm,"checkNewpwd",e)},expression:"changepwdForm.checkNewpwd"}})],1),e("el-form-item",[e("el-button",{staticStyle:{width:"80%"},attrs:{type:"primary"},on:{click:function(e){return t.changePassword("changepwdForm")}}},[t._v("确认修改")])],1)],1)],1)],1)])},me=[],he={name:"Profile",data(){var t=(t,e,a)=>{setTimeout((()=>{!Number.isInteger(e)&&e?a(new Error("请输入数字值")):e<0||e>150?a(new Error("请输入正确年龄")):a()}),1e3)},e=(t,e,a)=>{e||a(new Error("请输入原密码")),e!==this.password&&e?a(new Error("原密码不正确，请重试")):a()},a=(t,e,a)=>{if(""===e)a(new Error("请输入密码"));else if(e.length<6)a(new Error("密码长度至少为6个字符"));else if(e===this.changepwdForm.password)a(new Error("与旧密码一样"));else{if(16===e.length)return a(new Error("密码长度已达上限"));""!==this.changepwdForm.checkNewpwd&&this.$refs.changepwdForm.validateField("checkNewpwd"),this.pwdState=!0,a()}},s=(t,e,a)=>{if(""===e)a(new Error("请再次输入密码"));else{if(16===e.length)return a(new Error("密码长度已达上限"));e!==this.changepwdForm.newpwd?a(new Error("两次输入密码不一致!")):a()}};return{imageUrl:"",password:0,time:"",value:"",dialogVisible:!1,newpwd:"",checkpwd:"",profileForm:{username:"",age:"",email:"",birth:"",gender:"",sgin:"",country:""},rules:{age:[{validator:t,trigger:"blur"}],email:[{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}]},changepwdForm:{password:"",newpwd:"",checkNewpwd:""},pwdrules:{password:[{validator:e,trigger:"blur"}],newpwd:[{validator:a,trigger:"blur"}],checkNewpwd:[{validator:s,trigger:"change"}]},options:[{value:"America",label:"美国"},{value:"Brazil",label:"巴西"},{value:"Canada",label:"加拿大"},{value:"China",label:"中国"},{value:"Egypt",label:"埃及"},{value:"England",label:"英国"},{value:"Finland",label:"芬兰"},{value:"France",label:"法国"},{value:"Germany",label:"德国"},{value:"India",label:"印度"},{value:"Italy",label:"意大利"},{value:"Iran",label:"伊朗"},{value:"Japan",label:"日本"},{value:"Norway",label:"挪威"},{value:"Russia",label:"俄罗斯"},{value:"South Korea",label:"韩国"},{value:"Spain",label:"西班牙"},{value:"Sweden",label:"瑞典"},{value:"Vietnam",label:"越南"}]}},methods:{handleAvatarSuccess(t,e){this.imageUrl=URL.createObjectURL(e.raw)},beforeAvatarUpload(t){const e="image/jpeg"===t.type,a=t.size/1024/1024<2;return e||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),e&&a},submitForm(t){this.$refs[t].validate((t=>{if(!t)return console.log("error submit!!"),!1;localStorage.setItem("username",this.profileForm.username),localStorage.setItem("birth",this.profileForm.birth),localStorage.setItem("email",this.profileForm.email),localStorage.setItem("sgin",this.profileForm.sgin),localStorage.setItem("gender",this.profileForm.gender),this.$message({message:"资料修改成功",type:"success"})}))},changePassword(t){this.$refs[t].validate((t=>{if(!t)return console.log("error submit!!"),!1;localStorage.setItem("password",this.changepwdForm.newpwd),this.$message({message:"修改成功",type:"success"}),this.dialogVisible=!1}))},logout(){this.$message({message:"您已退出登录",type:"success"}),localStorage.setItem("isLogin",!1),this.$router.replace({path:"home"})}},created(){this.password=localStorage.getItem("password"),this.time=localStorage.getItem("time"),this.profileForm.username=localStorage.getItem("username"),this.profileForm.age=localStorage.getItem("age"),this.profileForm.birth=localStorage.getItem("birth"),this.profileForm.gender=localStorage.getItem("gender"),this.profileForm.email=localStorage.getItem("email"),this.profileForm.sgin=localStorage.getItem("sgin"),this.profileForm.country=localStorage.getItem("country")}},ge=he,de=(0,g.Z)(ge,ce,me,!1,null,"44ec4b0f",null),ue=de.exports,ve=function(){var t=this,e=t._self._c;return e("div",{staticClass:"rankingContainer"},[t.isloading?e("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"loading",attrs:{"element-loading-text":"正在加载中...请稍候"}}):this.apiError?e("div",{staticClass:"loading"},[e("el-alert",{staticStyle:{marginTop:"5rem"},attrs:{title:"加载错误...请稍后再试",type:"error",description:"错误代码："+this.errorMsg,"show-icon":""}})],1):t._e(),e("div",{staticClass:"rankingContent"},[e("el-container",[e("el-header",[t.isloading?t._e():e("div",{staticClass:"rankingHeader"},[e("a",[t._v("排行榜")])])]),e("el-container",[t.isloading?t._e():e("el-aside",{attrs:{width:"230px"}},[e("a",{staticClass:"datePickerTitle"},[t._v("时间")]),e("div",{staticClass:"datePicker"},[e("el-date-picker",{attrs:{type:"date",placeholder:"起始日期","value-format":"yyyy-MM-dd",size:"small"},model:{value:t.datePickStart,callback:function(e){t.datePickStart=e},expression:"datePickStart"}}),e("el-date-picker",{attrs:{type:"date",placeholder:"终止日期","value-format":"yyyy-MM-dd",size:"small"},model:{value:t.datePickEnd,callback:function(e){t.datePickEnd=e},expression:"datePickEnd"}}),e("el-button",{staticClass:"submitBtn",staticStyle:{width:"60%"},attrs:{type:"primary",icon:"el-icon-search",round:""},on:{click:t.datePickBtn}},[t._v("确认搜索")])],1)]),this.rankingTotal||t.isloading?e("el-main",{staticClass:"rankingMain"},[t._l(t.rankingItems,(function(t){return e("SearchCard",{key:t.id,attrs:{id:t.id,date:t.date,img:t.image,name:t.name,nameCN:t.name_cn,rank:t.rank,score:t.score,tags:t.tags,type:t.type}})})),t.rankingTotal?e("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":10,total:this.rankingTotal,"current-page":this.currentPage},on:{"current-change":t.handleCurrentChange}}):t._e()],2):e("el-main",{staticClass:"rankingMain"},[e("div",{staticClass:"nonePick"},[e("i",{staticClass:"el-icon-s-promotion"}),e("div",{staticClass:"nonePickContant"},[e("a",{staticStyle:{lineHeight:"1.8"}},[t._v("该日期范围内暂无符合条件的作品哦，请换个范围试试")])])])])],1)],1)],1)])},pe=[],Ce={name:"Ranking",components:{SearchCard:_t},data(){return{rankingItems:0,rankingTotal:0,currentPage:1,type:0,apiError:!1,errorMsg:"",isloading:!0,datePickStart:"",datePickEnd:"",datePick:"",searchdata:{sort:"rank",filter:{type:[2],air_date:[],rank:[">=1","<=50"]}}}},methods:{handleCurrentChange(t){this.currentPage=t,lt.Z.post("https://api.bgm.tv/v0/search/subjects?limit=10&offset="+10*(this.currentPage-1),this.searchdata).then((t=>{this.rankingItems=t.data.data,this.rankingTotal=t.data.total}),(t=>{this.apiError=!0,this.errorMsg=t.message,console.log(t.message)})),window.scrollTo({top:480,behavior:"smooth"})},datePickBtn:kt()((function(){this.datePickStart&&this.datePickEnd?(this.datePickStart=">="+this.datePickStart,this.datePickEnd="<"+this.datePickEnd,this.searchdata.filter.air_date[0]=this.datePickStart,this.searchdata.filter.air_date[1]=this.datePickEnd):this.datePickStart||this.datePickEnd?this.$message({message:"请正确选择起始日期哦",type:"warning"}):(this.searchdata.filter.air_date[0]=this.datePickStart,this.searchdata.filter.air_date[1]=this.datePickEnd),lt.Z.post("https://api.bgm.tv/v0/search/subjects?limit=10&offset=0",this.searchdata).then((t=>{this.rankingItems=t.data.data,this.rankingTotal=t.data.total}),(t=>{this.apiError=!0,this.errorMsg=t.message,console.log(t.message)}))}),2e3)},watch:{"$route.query.type":{handler:function(){location.reload()}}},created(){this.type=Number(this.$route.query.type),this.searchdata.filter.type[0]=Number(this.$route.query.type),lt.Z.post("https://api.bgm.tv/v0/search/subjects?limit=10&offset="+10*(this.currentPage-1),this.searchdata).then((t=>{this.rankingItems=t.data.data,this.rankingTotal=t.data.total;for(let e=0;e<this.rankingItems.length;e++)this.rankingItems[e].type=this.type;this.isloading=!1}),(t=>{this.apiError=!0,this.errorMsg=t.message,console.log(t.message)}))}},fe=Ce,_e=(0,g.Z)(fe,ve,pe,!1,null,"c820cf1c",null),we=_e.exports,ke=function(){var t=this,e=t._self._c;return e("div",{staticClass:"recentlyContainer"},[t.isloading?e("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"loading",attrs:{"element-loading-text":"正在加载中...请稍候"}}):this.apiError?e("div",{staticClass:"loading"},[e("el-alert",{staticStyle:{marginTop:"5rem"},attrs:{title:"加载错误...请稍后再试",type:"error",description:"错误代码："+this.errorMsg,"show-icon":""}})],1):e("div",{staticClass:"recentlyContent"},[e("el-container",[e("el-header",{staticClass:"recentlyHeader"},[t._v(" 近期新作 ")]),e("el-main",{staticClass:"recentlyMain"},[e("div",{staticClass:"MainContent"},[t._l(t.recentlyItems,(function(t){return e("SearchCard",{key:t.id,attrs:{id:t.id,date:t.date,img:t.image,name:t.name,nameCN:t.name_cn,rank:t.rank,score:t.score,tags:t.tags,type:t.type}})})),t.recentlyTotal?e("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":10,total:this.recentlyTotal,"current-page":this.currentPage},on:{"current-change":t.handleCurrentChange}}):t._e()],2)])],1)],1)])},Te=[],ye={name:"Recently",components:{SearchCard:_t},data(){return{recentlyItems:0,recentlyTotal:0,currentPage:1,type:0,dateStart:"",dateEnd:"",apiError:!1,errorMsg:"",isloading:!0,searchdata:{sort:"rank",filter:{type:[2],air_date:[]}}}},methods:{objArraySort(t,e){let a=t.slice(0);return a.sort(((t,a)=>a[e]-t[e]))},getMonth(){let t=new Date;return t=this.$moment(t).format("YYYY-MM-DD"),t},getlastMonth(){let t=new Date,e=t.getDate(),a=new Date(t.getTime());a.setMonth(a.getMonth()),a.setDate(0);let s=a.getDate();return a.setDate(e>s?s:e),a=this.$moment(a).format("YYYY-MM-DD"),a},handleCurrentChange(t){this.currentPage=t,lt.Z.post("https://api.bgm.tv/v0/search/subjects?limit=10&offset="+10*(this.currentPage-1),this.searchdata).then((t=>{this.recentlyItems=t.data.data,this.recentlyTotal=t.data.total}),(t=>{this.apiError=!0,this.errorMsg=t.message,console.log(t.message)})),window.scrollTo({top:480,behavior:"smooth"})}},watch:{"$route.query.type":{handler:function(){location.reload()}}},created(){this.dateStart=">="+this.getlastMonth(),this.dateEnd="<"+this.getMonth(),this.searchdata.filter.air_date[0]=this.dateStart,this.searchdata.filter.air_date[1]=this.dateEnd,this.type=Number(this.$route.query.type),this.searchdata.filter.type[0]=Number(this.$route.query.type),lt.Z.post("https://api.bgm.tv/v0/search/subjects?limit=10&offset="+10*(this.currentPage-1),this.searchdata).then((t=>{this.recentlyItems=this.objArraySort(t.data.data,"score");for(let e=0;e<this.recentlyItems.length;e++)this.recentlyItems[e].type=this.type;this.recentlyTotal=t.data.total,this.isloading=!1}),(t=>{this.apiError=!0,this.errorMsg=t.message}))}},be=ye,xe=(0,g.Z)(be,ke,Te,!1,null,"5fa05ed6",null),Se=xe.exports,Ne=function(){var t=this,e=t._self._c;return e("div",{staticClass:"characterContainer"},[e("div",{staticClass:"characterContent"},[this.isLoading?e("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"loading",attrs:{"element-loading-text":"正在加载中...请稍候"}}):this.apiError?e("div",{staticClass:"loading"},[e("el-alert",{staticStyle:{marginTop:"5rem"},attrs:{title:"加载错误...请稍后再试",type:"error",description:"错误代码："+this.errorMsg,"show-icon":""}})],1):e("el-container",[e("el-header",{style:{marginTop:"2rem"}},[e("a",{staticClass:"title"},[t._v(t._s(this.name_cn?this.name_cn:t.item.name))])]),e("el-container",[e("el-aside",{staticClass:"characterAside",attrs:{width:"350px"}},[e("div",{staticClass:"platform"},[e("a",[t._v(t._s(t.item.platform))])]),e("div",{staticClass:"block imgContainer"},[e("el-image",{attrs:{src:t.item.images.medium,fit:"fill","preview-src-list":[t.item.images.large]}},[e("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[t._v(" 加载中 "),e("span",{staticClass:"dot"},[t._v("...")])])])],1),this.nickname.length>0?e("div",{staticClass:"nicknameContainer"},[e("div",{staticClass:"nicknameTitle"},[e("a",[t._v("别名")])]),e("el-table",{staticClass:"nicknameTable",attrs:{data:this.nickname,"show-header":!1,"cell-style":t.cellStyle,size:"small"}},[e("el-table-column",{attrs:{prop:"v",label:"value",width:"180"}})],1)],1):t._e(),e("el-table",{staticClass:"infoTable",attrs:{data:t.item.infobox,"show-header":!1,"cell-style":t.cellStyle,size:"small"}},[e("el-table-column",{attrs:{prop:"key",label:"key",width:"70"}}),e("el-table-column",{attrs:{prop:"value",label:"value",width:"180"}})],1)],1),e("el-main",{staticClass:"characterMain"},[e("el-card",{staticClass:"box-card summary",attrs:{shadow:"never"}},[t.item.summary?e("a",[t._v(t._s(t.item.summary))]):e("a",[t._v("暂无角色简介...")]),e("a",{staticClass:"translateIcon",on:{click:t.translate}},[e("img",{attrs:{src:a(1126)}})]),t.isTrans?e("div",{staticClass:"translate"},[e("el-divider"),e("a",[t._v(t._s(this.translatedText))])],1):t._e()]),e("el-card",{staticClass:"relationsContainer"},[e("a",{staticClass:"relationsTitle"},[t._v("相关条目")]),this.isRelationLoading?e("div",{directives:[{name:"loading",rawName:"v-loading",value:this.isRelationLoading,expression:"this.isRelationLoading"}],staticClass:"loading",staticStyle:{"min-height":"100px"},attrs:{"element-loading-text":"正在加载中...请稍候"}}):t.relations.length>0?e("div",{staticClass:"relationsContent"},[t._l(t.sliceRelation,(function(t){return e("GridCard",{key:t.id,attrs:{id:t.id,img:t.image,name:t.name,name_cn:t.name_cn,relation:t.relation}})})),t.relationToggleBtn?e("el-button",{staticClass:"Toggle",attrs:{size:"mini",type:"text"},on:{click:t.relationToggle}},[t._v(" "+t._s(t.isRelationToggle?"收起":"展开")+" "),e("i",{staticClass:"el-icon--right",class:t.isRelationToggle?"el-icon-arrow-up":"el-icon-arrow-down"})]):t._e()],2):e("div",{staticClass:"relationsContent"},[t._v(" 暂无相关条目信息 ")])])],1)],1)],1)],1)])},Pe=[],$e={name:"Character",data(){return{item:[],isLoading:!0,isRelationLoading:!0,nickname:[],relations:[],name_cn:"",apiError:!1,errorMsg:"",isRelationToggle:!1,relationToggleBtn:!1,relationMax:16,isTrans:!1,translatedText:"",translatedata:{q:"",from:"auto",to:"zh",appid:"",salt:"",sign:""}}},components:{GridCard:rt},methods:{cellStyle(){return"background-color: var(--secondary-background)"},handleTag(t){this.$router.push({path:"searchresult",query:{tagValue:t}})},relationToggle(){this.isRelationToggle=!this.isRelationToggle,!1===this.isRelationToggle?this.relationMax=16:this.relationMax=99999},encodeUtf8(t){const e=new TextEncoder("utf8");return e.encode(t)},translate(){if(!this.isTrans&&0===this.translatedText.length){let t="",e="20230427001658354",a="BORIiVqIc6d4rWj6w4_D",s=parseInt(1e5*Math.random()),i=this.item.summary,r=e+i+s+a;t=this.$md5(r),this.translatedata.q=i,this.translatedata.appid=e,this.translatedata.salt=s,this.translatedata.sign=t,lt.Z.get(encodeURI(`https://fanyi-api.baidu.com/api/trans/vip/translate?q=${this.translatedata.q}&from=auto&to=zh&appid=${this.translatedata.appid}&salt=${this.translatedata.salt}&sign=${this.translatedata.sign}`)).then((t=>{console.log(t);for(let e=0;e<t.data.trans_result.length;e++)this.translatedText+=t.data.trans_result[e].dst;console.log(this.translatedText)}),(t=>{console.log(t)}))}this.isTrans=!this.isTrans}},computed:{sliceRelation(){return""===this.relations||void 0===this.relations?this.relations:this.relations.length>this.relationMax?this.relations.slice(0,this.relationMax):this.relations}},beforeCreate(){"Mobile"===this.$store.state.device&&this.$router.push({path:"mcharacter",query:{id:this.$route.query.id}})},created(){lt.Z.get(`https://api.bgm.tv/v0/characters/${this.$route.query.id}`).then((t=>{this.isLoading=!1,this.item=t.data;for(let e=0;e<this.item.infobox.length;e++){let t=null,a=null;"别名"===this.item.infobox[e].key&&(this.nickname=this.item.infobox[e].value,t=e),"简体中文名"===this.item.infobox[e].key&&(this.name_cn=this.item.infobox[e].value,a=e),delete this.item.infobox[t],delete this.item.infobox[a]}}),(t=>{this.isLoading=!1,this.apiError=!0,this.errorMsg=t.message,console.log(t.message)})),lt.Z.get(`https://api.bgm.tv/v0/characters/${this.$route.query.id}/subjects`).then((t=>{this.relations=t.data,this.isRelationLoading=!1,this.relations.length>this.relationMax&&(this.relationToggleBtn=!0)}),(t=>{console.log(t.message)}))}},Me=$e,je=(0,g.Z)(Me,Ne,Pe,!1,null,"b6807580",null),Fe=je.exports,Ee=function(){var t=this,e=t._self._c;return e("div",{staticClass:"personContainer"},[e("div",{staticClass:"personContent"},[this.isLoading?e("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"loading",attrs:{"element-loading-text":"正在加载中...请稍候"}}):this.apiError?e("div",{staticClass:"loading"},[e("el-alert",{staticStyle:{marginTop:"5rem"},attrs:{title:"加载错误...请稍后再试",type:"error",description:"错误代码："+this.errorMsg,"show-icon":""}})],1):e("el-container",[e("el-header",{style:{marginTop:"2rem"}},[e("a",{staticClass:"title"},[t._v(t._s(this.name_cn?this.name_cn:t.item.name))])]),e("el-container",[e("el-aside",{staticClass:"personAside",attrs:{width:"350px"}},[e("div",{staticClass:"platform"},[e("a",[t._v(t._s(t.item.platform))])]),e("div",{staticClass:"block imgContainer"},[e("el-image",{attrs:{src:t.item.images.medium,fit:"fill","preview-src-list":[t.item.images.large]}},[e("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[t._v(" 加载中 "),e("span",{staticClass:"dot"},[t._v("...")])])])],1),this.nickname.length>0?e("div",{staticClass:"nicknameContainer"},[e("div",{staticClass:"nicknameTitle"},[e("a",[t._v("别名")])]),e("el-table",{staticClass:"nicknameTable",attrs:{data:this.nickname,"show-header":!1,"cell-style":t.cellStyle,size:"small"}},[e("el-table-column",{attrs:{prop:"v",label:"value",width:"180"}})],1)],1):t._e(),e("el-table",{staticClass:"infoTable",attrs:{data:t.item.infobox,"show-header":!1,"cell-style":t.cellStyle,size:"small"}},[e("el-table-column",{attrs:{prop:"key",label:"key",width:"70"}}),e("el-table-column",{attrs:{prop:"value",label:"value",width:"180"}})],1)],1),e("el-main",{staticClass:"personMain"},[e("el-card",{staticClass:"box-card summary",attrs:{shadow:"never"}},[t.item.summary?e("a",[t._v(t._s(t.item.summary))]):e("a",[t._v("暂无角色简介...")])]),e("el-card",{staticClass:"relationsContainer"},[e("a",{staticClass:"relationsTitle"},[t._v("参演条目")]),this.isRelationLoading?e("div",{directives:[{name:"loading",rawName:"v-loading",value:this.isRelationLoading,expression:"this.isRelationLoading"}],staticClass:"loading",staticStyle:{"min-height":"100px"},attrs:{"element-loading-text":"正在加载中...请稍候"}}):t.relations.length>0?e("div",{staticClass:"relationsContent"},[t._l(t.sliceRelation,(function(t){return e("GridCard",{key:t.id,attrs:{id:t.id,img:t.image,name:t.name,name_cn:t.name_cn,relation:t.relation}})})),t.relationToggleBtn?e("el-button",{staticClass:"Toggle",attrs:{size:"mini",type:"text"},on:{click:t.relationToggle}},[t._v(" "+t._s(t.isRelationToggle?"收起":"展开")+" "),e("i",{staticClass:"el-icon--right",class:t.isRelationToggle?"el-icon-arrow-up":"el-icon-arrow-down"})]):t._e()],2):e("div",{staticClass:"relationsContent"},[t._v(" 暂无相关条目信息 ")])])],1)],1)],1)],1)])},Re=[],Ie={name:"Person",data(){return{item:[],isLoading:!0,isRelationLoading:!0,relations:[],nickname:[],name_cn:"",apiError:!1,errorMsg:"",isRelationToggle:!1,relationToggleBtn:!1,relationMax:16}},components:{GridCard:rt},methods:{cellStyle(){return"background-color: var(--secondary-background)"},handleTag(t){this.$router.push({path:"searchresult",query:{tagValue:t}})},relationToggle(){this.isRelationToggle=!this.isRelationToggle,!1===this.isRelationToggle?this.relationMax=16:this.relationMax=99999}},computed:{sliceRelation(){return""===this.relations||void 0===this.relations?this.relations:this.relations.length>this.relationMax?this.relations.slice(0,this.relationMax):this.relations}},beforeCreate(){"Mobile"===this.$store.state.device&&this.$router.push({path:"mperson",query:{actorId:this.$route.query.actorId}})},created(){lt.Z.get(`https://api.bgm.tv/v0/persons/${this.$route.query.actorId}`).then((t=>{this.isLoading=!1,this.item=t.data;for(let e=0;e<this.item.infobox.length;e++){let t=null,a=null;"别名"===this.item.infobox[e].key&&(this.nickname=this.item.infobox[e].value,t=e),"简体中文名"===this.item.infobox[e].key&&(this.name_cn=this.item.infobox[e].value,a=e),delete this.item.infobox[t],delete this.item.infobox[a]}}),(t=>{this.isLoading=!1,this.apiError=!0,this.errorMsg=t.message,console.log(t.message)})),lt.Z.get(`https://api.bgm.tv/v0/persons/${this.$route.query.actorId}/subjects`).then((t=>{this.relations=t.data,this.isRelationLoading=!1,this.relations.length>this.relationMax&&(this.relationToggleBtn=!0)}),(t=>{this.isRelationLoading=!1,console.log(t.message)}))}},Le=Ie,qe=(0,g.Z)(Le,Ee,Re,!1,null,"6d303508",null),De=qe.exports,Ve=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tagsContainer"},[e("div",{staticClass:"tagsContent"},[e("el-container",[e("el-header",{staticClass:"tagsHeader"},[t._v(" 热门标签 ")]),e("el-container",[e("el-main",{staticClass:"tagsMain"},[e("el-card",{staticClass:"tagsCard"},[e("a",{staticClass:"TagsTitle"},[e("i",{staticClass:"el-icon-collection-tag"}),t._v(" 动画标签")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,2)}}},[t._v("TV")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,2)}}},[t._v("剧场版")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,2)}}},[t._v("搞笑")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,2)}}},[t._v("原创")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,2)}}},[t._v("小说改")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,2)}}},[t._v("漫改")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,2)}}},[t._v("OVA")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,2)}}},[t._v("校园")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,2)}}},[t._v("治愈")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,2)}}},[t._v("热血")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,2)}}},[t._v("科幻")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,2)}}},[t._v("京阿尼")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,2)}}},[t._v("奇幻")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,2)}}},[t._v("游戏改")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,2)}}},[t._v("童年")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,2)}}},[t._v("日常")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,2)}}},[t._v("SUNRISE")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,2)}}},[t._v("BONES")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,2)}}},[t._v("萝卜")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,2)}}},[t._v("吉卜力")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,2)}}},[t._v("音乐")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,2)}}},[t._v("催泪")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,2)}}},[t._v("JUMP")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,2)}}},[t._v("Type-Moon")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,2)}}},[t._v("ufotable")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,2)}}},[t._v("宫崎骏")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,2)}}},[t._v("今敏")])],1),e("el-card",{staticClass:"tagsCard"},[e("a",{staticClass:"TagsTitle"},[e("i",{staticClass:"el-icon-collection-tag"}),t._v(" 音乐标签")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("OST")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("ED")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("OP")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("东方")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("Vocaloid")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("中国")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("古风")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("drama")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("single")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("动画")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("梶浦由记")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("EVA")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("OPED")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("μ's")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("CLANNAD")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("电子")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("治愈")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("童年")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("Punk")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("Rock")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("久石让")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("坂本龙一")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("Billboard")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("Pop")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("Sony")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("广播剧")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("插入曲")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("key")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("神曲")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("音乐")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("专辑")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("KTV")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("摇滚")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("主题曲")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("2016")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,3)}}},[t._v("原声")])],1),e("el-card",{staticClass:"tagsCard"},[e("a",{staticClass:"TagsTitle"},[e("i",{staticClass:"el-icon-collection-tag"}),t._v(" 漫画标签")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,1)}}},[t._v("漫画")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,1)}}},[t._v("轻小说")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,1)}}},[t._v("校园")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,1)}}},[t._v("漫画系列")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,1)}}},[t._v("已完结")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,1)}}},[t._v("搞笑")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,1)}}},[t._v("奇幻")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,1)}}},[t._v("科幻")]),e("el-tag",{staticClass:"tag",on:{click:function(e){t.handleTag(e,1)}}},[t._v("集英社")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,1)}}},[t._v("奇幻")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,1)}}},[t._v("穿越")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,1)}}},[t._v("冒险")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,1)}}},[t._v("系列")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,1)}}},[t._v("校园")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,1)}}},[t._v("治愈")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,1)}}},[t._v("热血")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,1)}}},[t._v("单行本")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,1)}}},[t._v("童年")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,1)}}},[t._v("日常")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,1)}}},[t._v("中国")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,1)}}},[t._v("小学馆")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,1)}}},[t._v("悬疑")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,1)}}},[t._v("短篇")])],1),e("el-card",{staticClass:"tagsCard"},[e("a",{staticClass:"TagsTitle"},[e("i",{staticClass:"el-icon-collection-tag"}),t._v(" 游戏标签")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,4)}}},[t._v("PC")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,4)}}},[t._v("RPG")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,4)}}},[t._v("ACT")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,4)}}},[t._v("PSP")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,4)}}},[t._v("PS4")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,4)}}},[t._v("任天堂")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,4)}}},[t._v("FPS")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,4)}}},[t._v("Switch")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,4)}}},[t._v("科幻")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,4)}}},[t._v("热血")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,4)}}},[t._v("电波")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,4)}}},[t._v("悬疑")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,4)}}},[t._v("RTS")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,4)}}},[t._v("解谜")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,4)}}},[t._v("NS")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,4)}}},[t._v("IOS")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,4)}}},[t._v("3DS")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,4)}}},[t._v("Android")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,4)}}},[t._v("童年")]),e("el-tag",{staticClass:"tag",on:{click:function(e){return t.handleTag(e,4)}}},[t._v("GBA")])],1)],1),e("el-aside",{attrs:{width:"320px"}},[e("div",{staticClass:"TagSearch"},[e("div",{staticClass:"TagSearchHeader"},[e("div",{staticClass:"TagSearchTitle"},[e("a",[t._v("标签搜索")])])]),e("el-form",{ref:"TagForm",staticClass:"Tagform",attrs:{model:t.TagForm,rules:t.rules}},[e("el-form-item",{attrs:{label:"分类"}},[e("el-select",{model:{value:t.TagForm.type,callback:function(e){t.$set(t.TagForm,"type",e)},expression:"TagForm.type"}},[e("el-option",{attrs:{label:"动画",value:2}}),e("el-option",{attrs:{label:"音乐",value:3}}),e("el-option",{attrs:{label:"书籍",value:1}}),e("el-option",{attrs:{label:"游戏",value:4}})],1)],1),e("el-form-item",{attrs:{prop:"tag"}},[e("el-input",{attrs:{"prefix-icon":"el-icon-search",size:"medium"},model:{value:t.TagForm.tag,callback:function(e){t.$set(t.TagForm,"tag",e)},expression:"TagForm.tag"}})],1),e("el-form-item",[e("el-button",{staticClass:"submitBtn",attrs:{type:"primary",size:"medium"},on:{click:function(e){return t.submitForm("TagForm")}}},[t._v("搜索")])],1)],1)],1)])],1)],1)],1)])},Ae=[],Be={name:"Tags",data(){return{TagForm:{type:2,tag:""},rules:{tag:[{required:!0,message:"搜索标签不能为空",trigger:"blur"}]}}},methods:{handleTag(t,e){this.$router.push({path:"searchresult",query:{tagValue:t.target.innerText,type:e}})},submitForm(t){this.$refs[t].validate((t=>{if(!t)return console.log("error submit!!"),!1;this.$router.push({path:"searchresult",query:{tagValue:this.TagForm.tag,type:this.TagForm.type}})}))}}},ze=Be,Ze=(0,g.Z)(ze,Ve,Ae,!1,null,"35542577",null),Oe=Ze.exports,Ge=function(){var t=this,e=t._self._c;return e("div",{staticClass:"aboutContainer"},[e("div",{staticClass:"aboutContent"},[e("el-container",[e("el-header",[e("div",{staticClass:"aboutHeader"},[e("a",[t._v("关于页面")])])]),e("el-container",[e("el-main",{staticClass:"aboutMain"},[e("div",{staticClass:"MainContent",attrs:{shadow:"never"}},[e("h3",[t._v("关于")]),e("a",{staticStyle:{letterSpacing:"1px"}},[t._v("此站点为个人演示站点，内容来自bangumi")]),e("h4",[t._v("技术支持")]),e("el-link",{staticStyle:{maxWidth:"80px"},attrs:{type:"success",href:"https://vuejs.org/"}},[t._v("Vue")]),e("el-link",{staticStyle:{maxWidth:"80px"},attrs:{type:"primary",href:"https://element.faas.ele.me/"}},[t._v("element-ui")]),e("el-link",{staticStyle:{maxWidth:"80px"},attrs:{type:"danger",href:"https://bangumi.github.io/api/"}},[t._v("bangumi")]),e("a",{staticStyle:{fontSize:"0.9rem",color:"#263349"}},[t._v("and so on...")]),e("h3",[t._v("相关链接")]),e("el-link",{staticStyle:{maxWidth:"150px"},attrs:{type:"info",href:"https://github.com/nanogenji/"}},[t._v("在Github上查看该项目")])],1)])],1)],1)],1)])},He=[],Ue={name:"About"},We=Ue,Ye=(0,g.Z)(We,Ge,He,!1,null,"1d8a3c65",null),Je=Ye.exports,Ke=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mdetailContainer"},[this.item.length==[]?e("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"loading",attrs:{"element-loading-text":"正在加载中...请稍候"}}):this.apiError?e("div",{staticClass:"loading"},[e("el-alert",{staticStyle:{marginTop:"5rem"},attrs:{title:"加载错误...请稍后再试",type:"error",description:"错误代码："+this.errorMsg,"show-icon":""}})],1):e("div",{staticClass:"mdetailContent"},[e("div",{staticClass:"mdetailHeader"},[e("div",{staticClass:"imgContainer"},[e("el-image",{attrs:{src:t.item.images.common,fit:"fill","preview-src-list":[t.item.images.large]}},[e("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[t._v(" 加载中 "),e("span",{staticClass:"dot"},[t._v("...")])])])],1),e("div",{staticClass:"headerRight"},[e("div",{staticClass:"info"},[e("div",{staticClass:"titleCN"},[e("a",[t._v(t._s(t.item.name_cn?t.item.name_cn:t.item.name))])]),e("div",{staticClass:"title"},[e("a",[t._v(t._s(t.item.name?t.item.name:""))])]),e("div",{staticClass:"platform"},[e("a",[t._v(t._s(t.item.platform))])]),e("div",{staticClass:"title"},[e("a",[t._v(t._s(t.item.date))])])]),e("div",{staticClass:"score"},[e("a",[t._v(t._s(t.item.rating.score.toString()))])])])]),e("el-card",{staticClass:"rating"},[e("div",[e("a",[t._v("站内评分排名： "),e("a",[t._v(t._s(0===t.item.rating.rank?"暂无排名":t.item.rating.rank))])])]),e("el-rate",{attrs:{disabled:"","show-score":"","text-color":"#ff9900",max:Number(10),"score-template":t.item.rating.score.toString()},model:{value:t.item.rating.score,callback:function(e){t.$set(t.item.rating,"score",e)},expression:"item.rating.score"}}),e("div",{staticClass:"collection"},[e("a",{staticStyle:{marginRight:"0.6rem"}},[t._v(t._s(t.item.collection.wish)+"想看")]),e("a",{staticStyle:{marginRight:"0.6rem"}},[t._v(t._s(t.item.collection.collect)+"看过")]),e("a",{staticStyle:{marginRight:"0.6rem"}},[t._v(t._s(t.item.collection.doing)+"在看")]),e("a",{staticStyle:{marginRight:"0.6rem"}},[t._v(t._s(t.item.collection.on_hold)+"搁置")]),e("a",{staticStyle:{marginRight:"0.6rem"}},[t._v(t._s(t.item.collection.dropped)+"抛弃")])])],1),e("div",{staticClass:"player"},[e("a",{staticClass:"playerTitle"},[t._v("播放源:")]),e("el-button",{directives:[{name:"show",rawName:"v-show",value:t.findShow,expression:"findShow"}],staticClass:"findplayer",attrs:{round:"",plain:"",size:"mini",loading:t.findPlayerLoading},on:{click:t.findPlayer}},[t._v("查找播放源")]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.findShow,expression:"!findShow"}],staticClass:"playerResource"},[e("a",{directives:[{name:"show",rawName:"v-show",value:t.isbili,expression:"isbili"}],staticStyle:{marginRight:"0.3rem"},attrs:{href:t.bilisrc}},[e("img",{attrs:{src:a(6756)}})]),e("a",{directives:[{name:"show",rawName:"v-show",value:t.isacfun,expression:"isacfun"}],staticStyle:{marginRight:"0.3rem"},attrs:{href:t.acfunsrc}},[e("img",{attrs:{src:a(9261)}})]),e("a",{directives:[{name:"show",rawName:"v-show",value:t.iswetv,expression:"iswetv"}],staticStyle:{marginRight:"0.3rem"},attrs:{href:t.wetvsrc}},[e("img",{attrs:{src:a(6383)}})]),e("a",{directives:[{name:"show",rawName:"v-show",value:t.isiqiyi,expression:"isiqiyi"}],staticStyle:{marginRight:"0.3rem"},attrs:{href:t.iqiyisrc}},[e("img",{attrs:{src:a(4612)}})]),e("a",{directives:[{name:"show",rawName:"v-show",value:t.isyouku,expression:"isyouku"}],staticStyle:{marginRight:"0.3rem"},attrs:{href:t.youkusrc}},[e("img",{attrs:{src:a(8030)}})])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.notfound,expression:"notfound"}],staticClass:"notfound"},[e("a",[t._v("未找到播放源")])])],1),e("el-card",{staticClass:"summary"},[t.item.summary?e("a",{staticStyle:{padding:"1rem 1.1rem 1rem 1.1rem",display:"block"}},[t._v(t._s(t.sliceStr))]):e("a",[t._v("暂无剧集简介...")]),t.textToggleBtn?e("el-button",{staticClass:"Toggle",attrs:{size:"mini",type:"text"},on:{click:t.textToggle}},[t._v(" "+t._s(t.isTextToggle?"收起":"展开")+" "),e("i",{staticClass:"el-icon--right",class:t.isTextToggle?"el-icon-arrow-up":"el-icon-arrow-down"})]):t._e()],1),e("el-card",{staticClass:"tagContainer"},[t.item.tags.length>0?e("a",{staticClass:"tagTitle"},[t._v("大家把"+t._s(t.item.name_cn?t.item.name_cn:t.item.name)+"标注为：")]):e("a",{staticClass:"tagTitle"},[t._v("该作品还没有标签")]),t._l(t.sliceTag,(function(a){return e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(a.name),expression:"(event)=>handleTag(tag.name)",arg:"tap"}],key:a.id,staticClass:"tag",attrs:{type:"info",size:"mini"}},[e("a",{staticClass:"tagName"},[t._v(t._s(a.name))]),e("a",{staticClass:"tagCount"},[t._v(t._s(a.count))])])})),t.tagToggleBtn?e("el-button",{staticClass:"Toggle",attrs:{size:"mini",type:"text"},on:{click:t.tagToggle}},[t._v(" "+t._s(t.isTagToggle?"收起":"展开")+" "),e("i",{staticClass:"el-icon--right",class:t.isTagToggle?"el-icon-arrow-up":"el-icon-arrow-down"})]):t._e()],2),e("el-card",{staticClass:"charactersContainer"},[e("a",{staticClass:"charactersTitle"},[t._v("角色介绍")]),t.characters.length>0?e("div",{staticClass:"charactersContent"},[t._l(t.sliceCha,(function(t){return e("CharacterCard",{key:t.id,attrs:{id:t.id,actor:t.actors[0]?t.actors[0].name:"",actorId:t.actors[0]?t.actors[0].id:0,img:t.images.grid,name:t.name,relation:t.relation}})})),t.chaToggleBtn?e("el-button",{staticClass:"Toggle",attrs:{size:"mini",type:"text"},on:{click:t.chaToggle}},[t._v(" "+t._s(t.isChaToggle?"收起":"展开")+" "),e("i",{staticClass:"el-icon--right",class:t.isChaToggle?"el-icon-arrow-up":"el-icon-arrow-down"})]):t._e()],2):e("div",{staticClass:"charactersContent"},[t._v(" 暂无相关角色信息 ")])])],1)])},Qe=[],Xe={name:"mDetail",data(){return{item:[],characters:[],infoList:[],apiError:!1,errorMsg:"",isDark:!1,findPlayerLoading:!1,notfound:!1,findShow:!0,isbili:!1,isacfun:!1,iswetv:!1,isiqiyi:!1,isyouku:!1,bilisrc:"",acfunsrc:"",wetvsrc:"",iqiyisrc:"",youkusrc:"",isTextToggle:!1,textToggleBtn:!1,textMax:120,isTagToggle:!1,tagToggleBtn:!1,tagMax:8,isChaToggle:!1,chaToggleBtn:!1,chaMax:8}},components:{CharacterCard:U},methods:{findPlayer(){this.findPlayerLoading=!0,lt.Z.get(`https://cdn.jsdelivr.net/gh/ekibot/bangumi-onair/onair/${Math.floor(this.item.id/1e3)}/${this.item.id}.json`).then((t=>{this.findPlayerLoading=!1,console.log(t.data),this.findShow=!1;for(let e=0;e<t.data.sites.length;e++)if("iqiyi"===t.data.sites[e].site){this.isiqiyi=!0;for(let e=0;e<t.data.eps[0].sites.length;e++)"iqiyi"===t.data.eps[0].sites[e].site&&(this.iqiyisrc=t.data.eps[0].sites[e].url)}else if("qq"===t.data.sites[e].site){this.iswetv=!0;for(let e=0;e<t.data.eps[0].sites.length;e++)"qq"===t.data.eps[0].sites[e].site&&(this.wetvsrc=t.data.eps[0].sites[e].url)}else if("youku"===t.data.sites[e].site){this.isyouku=!0;for(let e=0;e<t.data.eps[0].sites.length;e++)"youku"===t.data.eps[0].sites[e].site&&(this.youkusrc=t.data.eps[0].sites[e].url)}else if("bilibili"===t.data.sites[e].site){this.isbili=!0;for(let e=0;e<t.data.eps[0].sites.length;e++)"bilibili"===t.data.eps[0].sites[e].site&&(this.bilisrc=t.data.eps[0].sites[e].url)}else if("acfun"===t.data.sites[e].site){this.isacfun=!0;for(let e=0;e<t.data.eps[0].sites.length;e++)"acfun"===t.data.eps[0].sites[e].site&&(this.acfunsrc=t.data.eps[0].sites[e].url)}}),(t=>{this.findPlayerLoading=!1,this.findShow=!1,this.notfound=!0,console.log(t.message)}))},cellStyle(){return"background-color: var(--secondary-background)"},handleTag(t){this.$router.push({path:"msearchresult",query:{tagValue:t}})},textToggle(){this.isTextToggle=!this.isTextToggle,!1===this.isTextToggle?this.textMax=120:this.textMax=99999},tagToggle(){this.isTagToggle=!this.isTagToggle,!1===this.isTagToggle?this.tagMax=8:this.tagMax=99999},chaToggle(){this.isChaToggle=!this.isChaToggle,!1===this.isChaToggle?this.chaMax=8:this.chaMax=99999}},computed:{sliceStr(){return""===this.item.summary||void 0===this.item.summary?this.item.summary:this.item.summary.length>this.textMax?this.item.summary.substring(0,this.textMax)+"...":this.item.summary},sliceTag(){return""===this.item.tags||void 0===this.item.tags?this.item.tags:this.item.tags.length>this.tagMax?this.item.tags.slice(0,this.tagMax):this.item.tags},sliceCha(){return""===this.characters||void 0===this.characters?this.characters:this.characters.length>this.chaMax?this.characters.slice(0,this.chaMax):this.characters}},beforeCreate(){"PC"===this.$store.state.device&&this.$router.push({path:"detail",query:{id:this.$route.query.id}})},created(){this.isDark=JSON.parse(localStorage.getItem("isDark")),lt.Z.get(`https://api.bgm.tv/v0/subjects/${this.$route.query.id}`).then((t=>{this.item=t.data,console.log(this.item);for(let e=0;e<this.item.infobox.length;e++)"object"===typeof this.item.infobox[e].value&&(this.item.infobox[e].value=this.item.name?this.item.name:"无");for(let e=0;e<this.item.tags.length;e++)this.item.tags[e].id=(0,nt.x0)(8);this.item.summary.length>this.textMax&&(this.textToggleBtn=!0),this.item.tags.length>this.tagMax&&(this.tagToggleBtn=!0)}),(t=>{this.apiError=!0,this.errorMsg=t.message,console.log(t.messgae)})),lt.Z.get(`https://api.bgm.tv/v0/subjects/${this.$route.query.id}/characters`).then((t=>{this.characters=t.data,this.characters.length>this.chaMax&&(this.chaToggleBtn=!0)}),(t=>{console.log(t.message)}))}},ta=Xe,ea=(0,g.Z)(ta,Ke,Qe,!1,null,"0d1e98fa",null),aa=ea.exports,sa=function(){var t=this,e=t._self._c;return e("div",{staticClass:"msearchResultContainer"},[this.isloading?e("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"loading",attrs:{"element-loading-text":"正在加载中...请稍候"}}):this.apiError?e("div",{staticClass:"loading"},[e("el-alert",{staticStyle:{marginTop:"5rem"},attrs:{title:"加载错误...请稍后再试",type:"error",description:"错误代码："+this.errorMsg,"show-icon":""}})],1):e("div",{staticClass:"msearchResultContent"},[e("div",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t.tomSearch,expression:"tomSearch",arg:"tap"}],staticClass:"fullSearch"},[t._v("更多搜索")]),t._l(t.searchResItems,(function(t){return e("mSearchCard",{key:t.id,attrs:{id:t.id,date:t.date,img:t.image,name:t.name,nameCN:t.name_cn,rank:t.rank,score:t.score,tags:t.tags}})})),t.searchResTotal?e("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":10,total:this.searchResTotal,"current-page":this.currentPage},on:{"current-change":t.handleCurrentChange}}):t._e()],2)])},ia=[],ra=function(){var t=this,e=t._self._c;return e("div",{staticClass:"searchCardContainer"},[e("el-container",[e("el-aside",{staticClass:"searchResAside",attrs:{width:"120px"}},[e("div",{staticClass:"imgContainer"},[e("el-image",{staticClass:"img",staticStyle:{width:"90px",height:"125px"},attrs:{src:t.img,"preview-src-list":[t.img],fit:"fill"}})],1)]),e("el-main",{staticClass:"searchResMain"},[e("div",{staticClass:"MainHeader"},[e("div",{staticClass:"titleContainer",on:{click:t.toDetail}},[e("a",{staticClass:"titleCN"},[t._v(t._s(t.nameCN.length?t.nameCN:t.name))])]),e("el-tag",{attrs:{type:"warning",effect:"light"}},[e("a",[t._v(t._s(t.rank?"排名 "+t.rank:"暂无排名"))])])],1),e("div",{staticClass:"date"},[e("a",[t._v("放映时间："+t._s(t.date))])]),e("div",{staticClass:"tags"},t._l(t.itemtags,(function(a){return e("el-tag",{key:a.id,staticClass:"tag",attrs:{type:"info",effect:"plain",size:"small"},on:{click:function(e){return t.handleTag(a.name)}}},[t._v(t._s(a.name))])})),1),e("div",{staticClass:"score"},[e("el-rate",{attrs:{disabled:"","show-score":"","text-color":"#ff9900",max:Number(5),"score-template":(2*t.itemScore).toString()},model:{value:t.itemScore,callback:function(e){t.itemScore=e},expression:"itemScore"}})],1)])],1)],1)},na=[],la={name:"mSearchCard",data(){return{itemtags:[],searchdata:{keyword:"string",sort:"rank",filter:{type:[2],tag:["s"]}}}},props:{id:Number,date:String,img:String,name:String,nameCN:String,rank:Number,score:Number,tags:Array,type:Number},computed:{itemScore:{get(){return this.score?Number(this.score)/2:0},set(t){return t}}},methods:{toDetail(){this.$router.push({path:"mdetail",query:{id:this.id}})},handleTag(t){this.searchdata.filter.tag[0]=t,"/searchresult"!==this.$route.path?this.$router.push({path:"searchresult",query:{tagValue:t,type:this.type}}):this.$store.dispatch("getTag",this.searchdata.filter.tag[0])}},created(){this.itemtags=this.tags.slice(0,3)}},oa=la,ca=(0,g.Z)(oa,ra,na,!1,null,"205bf42b",null),ma=ca.exports,ha={name:"mSearchResult",components:{mSearchCard:ma},data(){return{searchResItems:0,searchResTotal:0,currentPage:1,isloading:!0,apiError:!1,errorMsg:"",datePickStart:"",datePickEnd:"",searchdata:{keyword:"string",sort:"rank",filter:{type:[2],tag:[],air_date:[]}}}},methods:{tomSearch(){this.$router.push({path:"/msearch"})},handleCurrentChange(t){this.currentPage=t,lt.Z.post("https://api.bgm.tv/v0/search/subjects?limit=10&offset="+10*(this.currentPage-1),this.searchdata).then((t=>{this.searchResItems=t.data.data,this.searchResTotal=t.data.total,this.isloading=!1}),(t=>{this.apiError=!0,this.errorMsg=t.message,console.log(t.message)})),window.scrollTo({top:280,behavior:"smooth"})}},watch:{"$route.query.inputValue":{handler:function(){location.reload()},deep:!0},"$store.state.tag":{handler(t){this.searchdata.filter.tag[0]=t,this.searchdata.keyword=void 0,lt.Z.post("https://api.bgm.tv/v0/search/subjects?limit=10&offset="+10*(this.currentPage-1),this.searchdata).then((t=>{this.searchResItems=t.data.data,this.searchResTotal=t.data.total,this.isloading=!1}),(t=>{this.apiError=!0,this.errorMsg=t.message,console.log(t.message)})),window.scrollTo({top:280,behavior:"smooth"})}}},created(){this.searchdata.keyword=this.$route.query.inputValue,this.$route.query.tagValue&&(this.searchdata.filter.tag[0]=this.$route.query.tagValue),this.$route.query.type&&(this.searchdata.filter.type[0]=Number(this.$route.query.type)),this.$route.query.dateStart&&this.$route.query.dateEnd&&(this.searchdata.filter.air_date[0]=this.$route.query.dateStart,this.searchdata.filter.air_date[1]=this.$route.query.dateEnd,console.log(this.$route.query.dateStart,this.$route.query.dateEnd)),lt.Z.post("https://api.bgm.tv/v0/search/subjects?limit=10&offset="+10*(this.currentPage-1),this.searchdata).then((t=>{this.searchResItems=t.data.data,this.searchResTotal=t.data.total,this.isloading=!1}),(t=>{this.apiError=!0,this.errorMsg=t.message,console.log(t.message)}))}},ga=ha,da=(0,g.Z)(ga,sa,ia,!1,null,"86549f9c",null),ua=da.exports,va=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mRankingContainer"},[this.rankingItems.length==[]?e("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"loading",attrs:{"element-loading-text":"正在加载中...请稍候"}}):this.apiError?e("div",{staticClass:"loading"},[e("el-alert",{staticStyle:{marginTop:"5rem"},attrs:{title:"加载错误...请稍后再试",type:"error",description:"错误代码："+this.errorMsg,"show-icon":""}})],1):e("div",{staticClass:"mRankingContent"},[t._l(t.rankingItems,(function(t){return e("mSearchCard",{key:t.id,attrs:{id:t.id,date:t.date,img:t.image,name:t.name,nameCN:t.name_cn,rank:t.rank,score:t.score,tags:t.tags,type:t.type}})})),t.rankingTotal?e("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":10,total:this.rankingTotal,"current-page":this.currentPage},on:{"current-change":t.handleCurrentChange}}):t._e()],2)])},pa=[],Ca={name:"mRanking",components:{mSearchCard:ma},data(){return{rankingItems:0,rankingTotal:0,currentPage:1,type:0,apiError:!1,errorMsg:"",isloading:!0,datePickStart:"",datePickEnd:"",datePick:"",searchdata:{sort:"rank",filter:{type:[2],air_date:[],rank:[">=1","<=50"]}}}},methods:{handleCurrentChange(t){this.currentPage=t,lt.Z.post("https://api.bgm.tv/v0/search/subjects?limit=10&offset="+10*(this.currentPage-1),this.searchdata).then((t=>{this.rankingItems=t.data.data,this.rankingTotal=t.data.total}),(t=>{this.apiError=!0,this.errorMsg=t.message,console.log(t.message)})),window.scrollTo({top:480,behavior:"smooth"})}},watch:{"$route.query.type":{handler:function(){location.reload()}}},created(){this.type=Number(this.$route.query.type),this.searchdata.filter.type[0]=Number(this.$route.query.type),lt.Z.post("https://api.bgm.tv/v0/search/subjects?limit=10&offset="+10*(this.currentPage-1),this.searchdata).then((t=>{this.rankingItems=t.data.data,this.rankingTotal=t.data.total;for(let e=0;e<this.rankingItems.length;e++)this.rankingItems[e].type=this.type;this.isloading=!1}),(t=>{this.apiError=!0,this.errorMsg=t.message,console.log(t.message)}))}},fa=Ca,_a=(0,g.Z)(fa,va,pa,!1,null,"448f0b67",null),wa=_a.exports,ka=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tagsContainer"},[e("div",{staticClass:"tagsContent"},[e("el-card",{staticClass:"tagsCard"},[e("a",{staticClass:"TagsTitle"},[e("i",{staticClass:"el-icon-collection-tag"}),t._v(" 动画标签")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,2),expression:"(evnet)=> handleTag(evnet,2)",arg:"tap"}],staticClass:"tag"},[t._v("TV")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,2),expression:"(evnet)=> handleTag(evnet,2)",arg:"tap"}],staticClass:"tag"},[t._v("剧场版")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[t._v("搞笑")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[t._v("原创")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[t._v("小说改")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[t._v("漫改")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[t._v("OVA")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[t._v("校园")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[t._v("治愈")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[t._v("热血")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[t._v("科幻")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[t._v("京阿尼")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[t._v("奇幻")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[t._v("游戏改")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[t._v("童年")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[t._v("日常")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[t._v("SUNRISE")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[t._v("BONES")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[t._v("萝卜")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[t._v("吉卜力")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[t._v("音乐")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[t._v("催泪")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[t._v("JUMP")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[t._v("Type-Moon")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[t._v("ufotable")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[t._v("宫崎骏")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[t._v("今敏")])],1),e("el-card",{staticClass:"tagsCard"},[e("a",{staticClass:"TagsTitle"},[e("i",{staticClass:"el-icon-collection-tag"}),t._v(" 音乐标签")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("OST")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("ED")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("OP")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("东方")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("Vocaloid")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("中国")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("古风")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("drama")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("single")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("动画")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("梶浦由记")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("EVA")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("OPED")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("μ's")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("CLANNAD")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("电子")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("治愈")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("童年")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("Punk")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("Rock")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("久石让")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("坂本龙一")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("Billboard")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("Pop")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("Sony")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("广播剧")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("插入曲")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("key")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("神曲")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("音乐")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("专辑")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("KTV")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("摇滚")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("主题曲")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("2016")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[t._v("原声")])],1),e("el-card",{staticClass:"tagsCard"},[e("a",{staticClass:"TagsTitle"},[e("i",{staticClass:"el-icon-collection-tag"}),t._v(" 漫画标签")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[t._v("漫画")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[t._v("轻小说")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[t._v("校园")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[t._v("漫画系列")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[t._v("已完结")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[t._v("搞笑")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[t._v("奇幻")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[t._v("科幻")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[t._v("集英社")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[t._v("奇幻")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[t._v("穿越")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[t._v("冒险")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[t._v("系列")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[t._v("校园")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[t._v("治愈")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[t._v("热血")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[t._v("单行本")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[t._v("童年")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[t._v("日常")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[t._v("中国")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[t._v("小学馆")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[t._v("悬疑")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[t._v("短篇")])],1),e("el-card",{staticClass:"tagsCard"},[e("a",{staticClass:"TagsTitle"},[e("i",{staticClass:"el-icon-collection-tag"}),t._v(" 游戏标签")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[t._v("PC")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[t._v("RPG")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[t._v("ACT")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[t._v("PSP")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[t._v("PS4")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[t._v("任天堂")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[t._v("FPS")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[t._v("Switch")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[t._v("科幻")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[t._v("热血")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[t._v("电波")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[t._v("悬疑")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[t._v("RTS")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[t._v("解谜")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[t._v("NS")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[t._v("IOS")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[t._v("3DS")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[t._v("Android")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[t._v("童年")]),e("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.handleTag(e,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[t._v("GBA")])],1)],1)])},Ta=[],ya={name:"mTags",data(){return{TagForm:{type:2,tag:""},rules:{tag:[{required:!0,message:"搜索标签不能为空",trigger:"blur"}]}}},methods:{handleTag(t,e){this.$router.push({path:"msearchresult",query:{tagValue:t.target.innerText,type:e}})}}},ba=ya,xa=(0,g.Z)(ba,ka,Ta,!1,null,"4f3b1f90",null),Sa=xa.exports,Na=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mrecentlyContainer"},[t.isloading?e("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"loading",attrs:{"element-loading-text":"正在加载中...请稍候"}}):this.apiError?e("div",{staticClass:"loading"},[e("el-alert",{staticStyle:{marginTop:"5rem"},attrs:{title:"加载错误...请稍后再试",type:"error",description:"错误代码："+this.errorMsg,"show-icon":""}})],1):e("div",{staticClass:"mrecentlyContent"},[t._l(t.recentlyItems,(function(t){return e("mSearchCard",{key:t.id,attrs:{id:t.id,date:t.date,img:t.image,name:t.name,nameCN:t.name_cn,rank:t.rank,score:t.score,tags:t.tags,type:t.type}})})),t.recentlyTotal?e("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":10,total:this.recentlyTotal,"current-page":this.currentPage},on:{"current-change":t.handleCurrentChange}}):t._e()],2)])},Pa=[],$a={name:"Recently",components:{mSearchCard:ma},data(){return{recentlyItems:0,recentlyTotal:0,currentPage:1,type:0,dateStart:"",dateEnd:"",apiError:!1,errorMsg:"",isloading:!0,searchdata:{sort:"rank",filter:{type:[2],air_date:[]}}}},methods:{objArraySort(t,e){let a=t.slice(0);return a.sort(((t,a)=>a[e]-t[e]))},getMonth(){let t=new Date;return t=this.$moment(t).format("YYYY-MM-DD"),t},getlastMonth(){let t=new Date,e=t.getDate(),a=new Date(t.getTime());a.setMonth(a.getMonth()),a.setDate(0);let s=a.getDate();return a.setDate(e>s?s:e),a=this.$moment(a).format("YYYY-MM-DD"),a},handleCurrentChange(t){this.currentPage=t,lt.Z.post("https://api.bgm.tv/v0/search/subjects?limit=10&offset="+10*(this.currentPage-1),this.searchdata).then((t=>{this.recentlyItems=t.data.data,this.recentlyTotal=t.data.total}),(t=>{this.apiError=!0,this.errorMsg=t.message,console.log(t.message)})),window.scrollTo({top:480,behavior:"smooth"})}},watch:{"$route.query.type":{handler:function(){location.reload()}}},created(){this.dateStart=">="+this.getlastMonth(),this.dateEnd="<"+this.getMonth(),this.searchdata.filter.air_date[0]=this.dateStart,this.searchdata.filter.air_date[1]=this.dateEnd,this.type=Number(this.$route.query.type),this.searchdata.filter.type[0]=Number(this.$route.query.type),lt.Z.post("https://api.bgm.tv/v0/search/subjects?limit=10&offset="+10*(this.currentPage-1),this.searchdata).then((t=>{this.recentlyItems=this.objArraySort(t.data.data,"score");for(let e=0;e<this.recentlyItems.length;e++)this.recentlyItems[e].type=this.type;this.recentlyTotal=t.data.total,this.isloading=!1}),(t=>{this.apiError=!0,this.errorMsg=t.message}))}},Ma=$a,ja=(0,g.Z)(Ma,Na,Pa,!1,null,"2c0d1a28",null),Fa=ja.exports,Ea=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mCharacterContainer"},[this.item.length==[]?e("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"loading",attrs:{"element-loading-text":"正在加载中...请稍候"}}):this.apiError?e("div",{staticClass:"loading"},[e("el-alert",{staticStyle:{marginTop:"5rem"},attrs:{title:"加载错误...请稍后再试",type:"error",description:"错误代码："+this.errorMsg,"show-icon":""}})],1):e("div",{staticClass:"mCharacterContent"},[e("div",{staticClass:"titleContainer"},[e("a",{staticClass:"titleCN"},[t._v(t._s(this.name_cn?this.name_cn:t.item.name))]),e("a",{staticClass:"title"},[t._v(t._s(this.name_cn?t.item.name:""))])]),e("div",{staticClass:"platform"},[e("a",[t._v(t._s(t.item.platform))])]),e("div",{staticClass:"imgContainer"},[e("el-image",{attrs:{src:t.item.images.medium,fit:"fill","preview-src-list":[t.item.images.large]}},[e("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[t._v(" 加载中 "),e("span",{staticClass:"dot"},[t._v("...")])])])],1),e("el-card",{staticClass:"summary",attrs:{shadow:"never"}},[t.item.summary?e("a",[t._v(t._s(t.item.summary))]):e("a",[t._v("暂无角色简介...")])]),this.nickname.length>0?e("div",{staticClass:"nicknameContainer"},[t._m(0),e("el-table",{staticClass:"nicknameTable",attrs:{data:this.nickname,"show-header":!1,"cell-style":t.cellStyle,size:"small"}},[e("el-table-column",{attrs:{prop:"v",label:"value",width:"180"}})],1)],1):t._e(),e("el-table",{staticClass:"infoTable",attrs:{data:t.item.infobox,"show-header":!1,"cell-style":t.cellStyle,size:"small"}},[e("el-table-column",{attrs:{prop:"key",label:"key",width:"70"}}),e("el-table-column",{attrs:{prop:"value",label:"value",width:"180"}})],1)],1)])},Ra=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"nicknameTitle"},[e("a",[t._v("别名")])])}],Ia={name:"mCharacter",data(){return{item:[],characters:[],infoList:[],nickname:[],name_cn:"",apiError:!1,errorMsg:""}},methods:{cellStyle(){return"background-color: var(--secondary-background)"}},beforeCreate(){"PC"===this.$store.state.device&&this.$router.push({path:"character",query:{id:this.$route.query.id}})},created(){lt.Z.get(`https://api.bgm.tv/v0/characters/${this.$route.query.id}`).then((t=>{this.item=t.data;for(let e=0;e<this.item.infobox.length;e++){let t=null,a=null;"别名"===this.item.infobox[e].key&&(this.nickname=this.item.infobox[e].value,t=e),"简体中文名"===this.item.infobox[e].key&&(this.name_cn=this.item.infobox[e].value,a=e),delete this.item.infobox[t],delete this.item.infobox[a]}}),(t=>{this.apiError=!0,this.errorMsg=t.message,console.log(t.messgae)}))}},La=Ia,qa=(0,g.Z)(La,Ea,Ra,!1,null,"17f85dfe",null),Da=qa.exports,Va=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mPersonContainer"},[this.item.length==[]?e("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"loading",attrs:{"element-loading-text":"正在加载中...请稍候"}}):this.apiError?e("div",{staticClass:"loading"},[e("el-alert",{staticStyle:{marginTop:"5rem"},attrs:{title:"加载错误...请稍后再试",type:"error",description:"错误代码："+this.errorMsg,"show-icon":""}})],1):e("div",{staticClass:"mPersonContent"},[e("div",{staticClass:"titleContainer"},[e("a",{staticClass:"titleCN"},[t._v(t._s(this.name_cn?this.name_cn:t.item.name))]),e("a",{staticClass:"title"},[t._v(t._s(this.name_cn?t.item.name:""))])]),e("div",{staticClass:"platform"},[e("a",[t._v(t._s(t.item.platform))])]),e("div",{staticClass:"imgContainer"},[e("el-image",{attrs:{src:t.item.images.medium,fit:"fill","preview-src-list":[t.item.images.large]}},[e("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[t._v(" 加载中 "),e("span",{staticClass:"dot"},[t._v("...")])])])],1),e("el-card",{staticClass:"summary",attrs:{shadow:"never"}},[t.item.summary?e("a",[t._v(t._s(t.item.summary))]):e("a",[t._v("暂无角色简介...")])]),this.nickname.length>0?e("div",{staticClass:"nicknameContainer"},[t._m(0),e("el-table",{staticClass:"nicknameTable",attrs:{data:this.nickname,"show-header":!1,"cell-style":t.cellStyle,size:"small"}},[e("el-table-column",{attrs:{prop:"v",label:"value",width:"180"}})],1)],1):t._e(),e("el-table",{staticClass:"infoTable",attrs:{data:t.item.infobox,"show-header":!1,"cell-style":t.cellStyle,size:"small"}},[e("el-table-column",{attrs:{prop:"key",label:"key",width:"70"}}),e("el-table-column",{attrs:{prop:"value",label:"value",width:"180"}})],1)],1)])},Aa=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"nicknameTitle"},[e("a",[t._v("别名")])])}],Ba={name:"mCharacter",data(){return{item:[],characters:[],infoList:[],nickname:[],name_cn:"",apiError:!1,errorMsg:""}},methods:{cellStyle(){return"background-color: var(--secondary-background)"}},beforeCreate(){"PC"===this.$store.state.device&&this.$router.push({path:"person",query:{actorId:this.$route.query.actorId}})},created(){lt.Z.get(`https://api.bgm.tv/v0/persons/${this.$route.query.actorId}`).then((t=>{this.item=t.data;for(let e=0;e<this.item.infobox.length;e++){let t=null,a=null;"别名"===this.item.infobox[e].key&&(this.nickname=this.item.infobox[e].value,t=e),"简体中文名"===this.item.infobox[e].key&&(this.name_cn=this.item.infobox[e].value,a=e),delete this.item.infobox[t],delete this.item.infobox[a]}}),(t=>{this.apiError=!0,this.errorMsg=t.message,console.log(t.messgae)}))}},za=Ba,Za=(0,g.Z)(za,Va,Aa,!1,null,"6a6db06f",null),Oa=Za.exports,Ga=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mSearchContainer"},[e("div",{staticClass:"mSearchContent"},[t._m(0),e("el-form",{ref:"TagForm",staticClass:"Tagform",attrs:{model:t.TagForm}},[e("el-form-item",[e("el-select",{staticClass:"type",attrs:{"popper-append-to-body":!1},model:{value:t.TagForm.type,callback:function(e){t.$set(t.TagForm,"type",e)},expression:"TagForm.type"}},[e("el-option",{attrs:{label:"动画",value:2}}),e("el-option",{attrs:{label:"音乐",value:3}}),e("el-option",{attrs:{label:"书籍",value:1}}),e("el-option",{attrs:{label:"游戏",value:4}})],1)],1),e("el-form-item",{staticClass:"datePicker"},[e("el-date-picker",{attrs:{type:"date",placeholder:"起始日期","value-format":"yyyy-MM-dd",size:"small"},model:{value:t.TagForm.datePickStart,callback:function(e){t.$set(t.TagForm,"datePickStart",e)},expression:"TagForm.datePickStart"}}),e("el-date-picker",{attrs:{type:"date",placeholder:"终止日期","value-format":"yyyy-MM-dd",size:"small"},model:{value:t.TagForm.datePickEnd,callback:function(e){t.$set(t.TagForm,"datePickEnd",e)},expression:"TagForm.datePickEnd"}})],1),e("el-form-item",{attrs:{prop:"tag"}},[e("el-input",{attrs:{"prefix-icon":"el-icon-search",size:"medium"},model:{value:t.TagForm.tag,callback:function(e){t.$set(t.TagForm,"tag",e)},expression:"TagForm.tag"}})],1),e("el-form-item",[e("el-button",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e=>t.submitForm("TagForm"),expression:"(event)=> submitForm('TagForm')",arg:"tap"}],staticClass:"submitBtn",attrs:{type:"primary",size:"medium"}},[t._v("搜索")])],1)],1)],1)])},Ha=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"title"},[e("a",[t._v("搜索")])])}],Ua={name:"mSearch",data(){return{TagForm:{type:2,tag:"",datePickStart:"",datePickEnd:""}}},methods:{submitForm(t){var e="",a="",s=!0;this.TagForm.datePickStart&&this.TagForm.datePickEnd?">="===this.TagForm.datePickStart.substr(0,2)&&"<"===this.TagForm.datePickEnd.substr(0,1)?(e=this.TagForm.datePickStart,a=this.TagForm.datePickEnd):(this.TagForm.datePickStart=">="+this.TagForm.datePickStart,this.TagForm.datePickEnd="<"+this.TagForm.datePickEnd,e=this.TagForm.datePickStart,a=this.TagForm.datePickEnd):this.TagForm.datePickStart||this.TagForm.datePickEnd?(this.$message({message:"请正确选择起始日期哦",type:"warning"}),s=!1):(e=this.TagForm.datePickStart,a=this.TagForm.datePickEnd),this.$refs[t].validate((t=>{if(!t||!s)return console.log("error submit!!"),!1;this.$router.push({path:"msearchresult",query:{tagValue:this.TagForm.tag,type:this.TagForm.type,dateStart:e,dateEnd:a}})}))}}},Wa=Ua,Ya=(0,g.Z)(Wa,Ga,Ha,!1,null,"6db2ec78",null),Ja=Ya.exports,Ka=new V.ZP({routes:[{path:"/detail",component:ht,meta:{scrollToMain:!0}},{path:"/searchresult",component:xt,meta:{scrollToMain:!0}},{path:"/home",component:Ot,meta:{scrollToTop:!0}},{path:"/login",component:Jt,meta:{scrollToMain:!0}},{path:"/register",component:ae,meta:{scrollToMain:!0,keepAlive:!1}},{path:"/homeInfo",component:w},{path:"/ranking",component:we,meta:{scrollToMain:!0}},{path:"/agreement",component:oe,meta:{scrollToMain:!0}},{path:"/profile",component:ue,meta:{scrollToMain:!0}},{path:"/recently",component:Se,meta:{scrollToMain:!0}},{path:"/character",component:Fe,meta:{scrollToMain:!0}},{path:"/person",component:De,meta:{scrollToMain:!0}},{path:"/tags",component:Oe,meta:{scrollToMain:!0}},{path:"/about",component:Je,meta:{scrollToMain:!0}},{path:"/",redirect:"/home"},{path:"/mdetail",component:aa,meta:{scrollToMobile:!0}},{path:"/msearchresult",component:ua,meta:{scrollToMobile:!0}},{path:"/mranking",component:wa,meta:{scrollToMobile:!0}},{path:"/mtags",component:Sa,meta:{scrollToMobile:!0}},{path:"/mrecently",component:Fa,meta:{scrollToMobile:!0}},{path:"/mcharacter",component:Da,meta:{scrollToMobile:!0}},{path:"/mperson",component:Oa,meta:{scrollToMobile:!0}},{path:"/msearch",component:Ja,meta:{scrollToMobile:!0}}],scrollBehavior(t,e,a){if(a)return a;{const a={};return t.hash&&(a.selector=t.hash),t.matched.some((t=>t.meta.scrollToMain))&&t.path!==e.path&&(a.x=0,a.y=480,a.behavior="smooth"),t.matched.some((t=>t.meta.scrollToTop))&&t.path!==e.path&&(a.x=0,a.y=0,a.behavior="smooth"),t.matched.some((t=>t.meta.scrollToMobile))&&t.path!==e.path&&(a.x=0,a.y=280,a.behavior="smooth"),a}}});function Qa(){const t=localStorage.setItem;localStorage.setItem=function(e,a){const s=new Event("setItemEvent");s.key=e,s.value=a,window.dispatchEvent(s),t.apply(this,arguments)}}var Xa=a(629);s["default"].use(Xa.ZP);var ts=new Xa.ZP.Store({state:{currentWeekNumber:0,tag:"",username:"",isDark:!1,device:"PC"},getters:{},mutations:{GET_WEEKNUMBER(t,e){t.currentWeekNumber=e},GET_TAG(t,e){t.tag=e},GET_USERNAME(t,e){t.username=e},GET_ISDARK(t){t.isDark=!t.isDark,localStorage.setItem("isDark",t.isDark)},GET_DIVICE(t,e){t.device="mobile"===e?"Mobile":"PC"}},actions:{getWeekNumber(t,e){t.commit("GET_WEEKNUMBER",e)},getTag(t,e){t.commit("GET_TAG",e)},getUsername(t){JSON.parse(localStorage.getItem("isLogin"))?t.commit("GET_USERNAME",localStorage.getItem("username")):t.commit("GET_USERNAME","")},getIsDark(t){t.commit("GET_ISDARK")},getDevice(t,e){t.commit("GET_DIVICE",e)}},modules:{}}),es=a(963),as=a(8495),ss=a.n(as);s["default"].use(es.A),s["default"].config.productionTip=!1,s["default"].use(L()),s["default"].use(V.ZP),s["default"].use(Qa),D().locale("en"),s["default"].prototype.$moment=D(),s["default"].prototype.$md5=ss(),new s["default"]({render:t=>t(R),beforeCreate(){s["default"].prototype.$bus=this},store:ts,router:Ka}).$mount("#app")},9261:function(t,e,a){"use strict";t.exports=a.p+"img/acfun.8db785c2.svg"},6756:function(t,e,a){"use strict";t.exports=a.p+"img/bilibili.66ab292e.svg"},4612:function(t,e,a){"use strict";t.exports=a.p+"img/iqiyi.54a936dd.svg"},1126:function(t,e,a){"use strict";t.exports=a.p+"img/translate.be6f8c88.svg"},6383:function(t,e,a){"use strict";t.exports=a.p+"img/wetv.92557c35.svg"},8030:function(t,e,a){"use strict";t.exports=a.p+"img/youku.61b78396.svg"}},e={};function a(s){var i=e[s];if(void 0!==i)return i.exports;var r=e[s]={id:s,loaded:!1,exports:{}};return t[s].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}a.m=t,function(){a.amdO={}}(),function(){var t=[];a.O=function(e,s,i,r){if(!s){var n=1/0;for(m=0;m<t.length;m++){s=t[m][0],i=t[m][1],r=t[m][2];for(var l=!0,o=0;o<s.length;o++)(!1&r||n>=r)&&Object.keys(a.O).every((function(t){return a.O[t](s[o])}))?s.splice(o--,1):(l=!1,r<n&&(n=r));if(l){t.splice(m--,1);var c=i();void 0!==c&&(e=c)}}return e}r=r||0;for(var m=t.length;m>0&&t[m-1][2]>r;m--)t[m]=t[m-1];t[m]=[s,i,r]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){a.p="/"}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var i,r,n=s[0],l=s[1],o=s[2],c=0;if(n.some((function(e){return 0!==t[e]}))){for(i in l)a.o(l,i)&&(a.m[i]=l[i]);if(o)var m=o(a)}for(e&&e(s);c<n.length;c++)r=n[c],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(m)},s=self["webpackChunkban_viewer"]=self["webpackChunkban_viewer"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(2245)}));s=a.O(s)})();
//# sourceMappingURL=app.2987b7cf.js.map