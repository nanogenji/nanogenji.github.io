(function(){var e={6700:function(e,t,a){var s={"./af":2786,"./af.js":2786,"./ar":867,"./ar-dz":4130,"./ar-dz.js":4130,"./ar-kw":6135,"./ar-kw.js":6135,"./ar-ly":6440,"./ar-ly.js":6440,"./ar-ma":7702,"./ar-ma.js":7702,"./ar-sa":6040,"./ar-sa.js":6040,"./ar-tn":7100,"./ar-tn.js":7100,"./ar.js":867,"./az":1083,"./az.js":1083,"./be":9808,"./be.js":9808,"./bg":8338,"./bg.js":8338,"./bm":7438,"./bm.js":7438,"./bn":8905,"./bn-bd":6225,"./bn-bd.js":6225,"./bn.js":8905,"./bo":1560,"./bo.js":1560,"./br":1278,"./br.js":1278,"./bs":622,"./bs.js":622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":877,"./cv.js":877,"./cy":7373,"./cy.js":7373,"./da":4780,"./da.js":4780,"./de":9740,"./de-at":217,"./de-at.js":217,"./de-ch":894,"./de-ch.js":894,"./de.js":9740,"./dv":5300,"./dv.js":5300,"./el":837,"./el.js":837,"./en-au":8348,"./en-au.js":8348,"./en-ca":7925,"./en-ca.js":7925,"./en-gb":2243,"./en-gb.js":2243,"./en-ie":6436,"./en-ie.js":6436,"./en-il":941,"./en-il.js":941,"./en-in":4175,"./en-in.js":4175,"./en-nz":6319,"./en-nz.js":6319,"./en-sg":1662,"./en-sg.js":1662,"./eo":2915,"./eo.js":2915,"./es":5655,"./es-do":5251,"./es-do.js":5251,"./es-mx":6112,"./es-mx.js":6112,"./es-us":3939,"./es-us.js":3939,"./es.js":5655,"./et":5603,"./et.js":5603,"./eu":7763,"./eu.js":7763,"./fa":6959,"./fa.js":6959,"./fi":1897,"./fi.js":1897,"./fil":2549,"./fil.js":2549,"./fo":4694,"./fo.js":4694,"./fr":4470,"./fr-ca":3049,"./fr-ca.js":3049,"./fr-ch":2330,"./fr-ch.js":2330,"./fr.js":4470,"./fy":5044,"./fy.js":5044,"./ga":9295,"./ga.js":9295,"./gd":2101,"./gd.js":2101,"./gl":8794,"./gl.js":8794,"./gom-deva":7884,"./gom-deva.js":7884,"./gom-latn":3168,"./gom-latn.js":3168,"./gu":5349,"./gu.js":5349,"./he":4206,"./he.js":4206,"./hi":94,"./hi.js":94,"./hr":316,"./hr.js":316,"./hu":2138,"./hu.js":2138,"./hy-am":1423,"./hy-am.js":1423,"./id":9218,"./id.js":9218,"./is":135,"./is.js":135,"./it":626,"./it-ch":150,"./it-ch.js":150,"./it.js":626,"./ja":9183,"./ja.js":9183,"./jv":4286,"./jv.js":4286,"./ka":2105,"./ka.js":2105,"./kk":7772,"./kk.js":7772,"./km":8758,"./km.js":8758,"./kn":9282,"./kn.js":9282,"./ko":3730,"./ko.js":3730,"./ku":1408,"./ku.js":1408,"./ky":3291,"./ky.js":3291,"./lb":6841,"./lb.js":6841,"./lo":5466,"./lo.js":5466,"./lt":7010,"./lt.js":7010,"./lv":7595,"./lv.js":7595,"./me":9861,"./me.js":9861,"./mi":5493,"./mi.js":5493,"./mk":5966,"./mk.js":5966,"./ml":7341,"./ml.js":7341,"./mn":5115,"./mn.js":5115,"./mr":370,"./mr.js":370,"./ms":9847,"./ms-my":1237,"./ms-my.js":1237,"./ms.js":9847,"./mt":2126,"./mt.js":2126,"./my":6165,"./my.js":6165,"./nb":4924,"./nb.js":4924,"./ne":6744,"./ne.js":6744,"./nl":3901,"./nl-be":9814,"./nl-be.js":9814,"./nl.js":3901,"./nn":3877,"./nn.js":3877,"./oc-lnc":2135,"./oc-lnc.js":2135,"./pa-in":5858,"./pa-in.js":5858,"./pl":4495,"./pl.js":4495,"./pt":9520,"./pt-br":7971,"./pt-br.js":7971,"./pt.js":9520,"./ro":6459,"./ro.js":6459,"./ru":1793,"./ru.js":1793,"./sd":950,"./sd.js":950,"./se":490,"./se.js":490,"./si":124,"./si.js":124,"./sk":4249,"./sk.js":4249,"./sl":4985,"./sl.js":4985,"./sq":1104,"./sq.js":1104,"./sr":9131,"./sr-cyrl":9915,"./sr-cyrl.js":9915,"./sr.js":9131,"./ss":5893,"./ss.js":5893,"./sv":8760,"./sv.js":8760,"./sw":1172,"./sw.js":1172,"./ta":7333,"./ta.js":7333,"./te":3110,"./te.js":3110,"./tet":2095,"./tet.js":2095,"./tg":7321,"./tg.js":7321,"./th":9041,"./th.js":9041,"./tk":9005,"./tk.js":9005,"./tl-ph":5768,"./tl-ph.js":5768,"./tlh":9444,"./tlh.js":9444,"./tr":2397,"./tr.js":2397,"./tzl":8254,"./tzl.js":8254,"./tzm":1106,"./tzm-latn":699,"./tzm-latn.js":699,"./tzm.js":1106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":7691,"./uk.js":7691,"./ur":3795,"./ur.js":3795,"./uz":6791,"./uz-latn":588,"./uz-latn.js":588,"./uz.js":6791,"./vi":5666,"./vi.js":5666,"./x-pseudo":4378,"./x-pseudo.js":4378,"./yo":5805,"./yo.js":5805,"./zh-cn":3839,"./zh-cn.js":3839,"./zh-hk":5726,"./zh-hk.js":5726,"./zh-mo":9807,"./zh-mo.js":9807,"./zh-tw":4152,"./zh-tw.js":4152};function i(e){var t=r(e);return a(t)}function r(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}i.keys=function(){return Object.keys(s)},i.resolve=r,e.exports=i,i.id=6700},7070:function(e,t,a){"use strict";var s=a(144),i=function(){var e=this,t=e._self._c;return t("div",{class:{dark:e.isDark,light:!e.isDark},attrs:{id:"app"}},[t("Header"),t("keep-alive",[e.$route.meta.keepAlive?t("router-view"):e._e()],1),e.$route.meta.keepAlive?e._e():t("router-view"),t("Footer"),"PC"===e.$store.state.device?t("el-backtop",{attrs:{bottom:80,right:80}}):e._e()],1)},r=[],n=function(){var e=this,t=e._self._c;return t("div",{class:{header:"PC"===e.$store.state.device,headerMobile:"Mobile"===e.$store.state.device}},[t("Navigator"),t("HomeInfo")],1)},l=[],o=function(){var e=this,t=e._self._c;return t("div",{class:{navi:!0,dark:e.isDark,light:!e.isDark}},["PC"===e.$store.state.device?t("div",{staticClass:"navbar"},[t("div",{staticClass:"brand",on:{click:e.toHome}},[e._v("BanViewer")]),t("ul",{staticClass:"collapse"},[t("li",{staticClass:"collapse-item"},[t("a",{staticStyle:{letterSpacing:"3px"}},[e._v("影视")]),t("div",{staticClass:"dropdown-container"},[t("ul",{staticClass:"dropdown"},[t("li",{staticClass:"dropdown-item",on:{click:function(t){return e.toRanking(2)}}},[t("i",{staticClass:"el-icon-trophy"}),t("a",{staticStyle:{marginLeft:"12px"}},[e._v("Top50")])]),t("li",{staticClass:"dropdown-item",on:{click:function(t){return e.toRecently(2)}}},[t("i",{staticClass:"el-icon-time"}),t("a",{staticStyle:{marginLeft:"12px"}},[e._v("近期新作")])]),t("li",{staticClass:"dropdown-item",on:{click:function(t){return e.toTags(2)}}},[t("i",{staticClass:"el-icon-guide"}),t("a",{staticStyle:{marginLeft:"12px"}},[e._v("热门标签")])]),t("li",{staticClass:"dropdown-item",on:{click:function(t){return e.toViewAll(2)}}},[t("i",{staticClass:"el-icon-files"}),t("a",{staticStyle:{marginLeft:"12px"}},[e._v("查看全部")])])])])]),t("li",{staticClass:"collapse-item"},[t("a",{staticStyle:{letterSpacing:"3px"}},[e._v("音乐")]),t("div",{staticClass:"dropdown-container"},[t("ul",{staticClass:"dropdown"},[t("li",{staticClass:"dropdown-item",on:{click:function(t){return e.toRanking(3)}}},[t("i",{staticClass:"el-icon-trophy"}),t("a",{staticStyle:{marginLeft:"12px"}},[e._v("Top50")])]),t("li",{staticClass:"dropdown-item",on:{click:function(t){return e.toRecently(3)}}},[t("i",{staticClass:"el-icon-time"}),t("a",{staticStyle:{marginLeft:"12px"}},[e._v("近期新作")])]),t("li",{staticClass:"dropdown-item",on:{click:function(t){return e.toTags(3)}}},[t("i",{staticClass:"el-icon-guide"}),t("a",{staticStyle:{marginLeft:"12px"}},[e._v("热门标签")])]),t("li",{staticClass:"dropdown-item",on:{click:function(t){return e.toViewAll(3)}}},[t("i",{staticClass:"el-icon-files"}),t("a",{staticStyle:{marginLeft:"12px"}},[e._v("查看全部")])])])])]),t("li",{staticClass:"collapse-item"},[t("a",{staticStyle:{letterSpacing:"3px"}},[e._v("图书")]),t("div",{staticClass:"dropdown-container"},[t("ul",{staticClass:"dropdown"},[t("li",{staticClass:"dropdown-item",on:{click:function(t){return e.toRanking(1)}}},[t("i",{staticClass:"el-icon-trophy"}),t("a",{staticStyle:{marginLeft:"12px"}},[e._v("Top50")])]),t("li",{staticClass:"dropdown-item",on:{click:function(t){return e.toRecently(1)}}},[t("i",{staticClass:"el-icon-time"}),t("a",{staticStyle:{marginLeft:"12px"}},[e._v("近期新作")])]),t("li",{staticClass:"dropdown-item",on:{click:function(t){return e.toTags(1)}}},[t("i",{staticClass:"el-icon-guide"}),t("a",{staticStyle:{marginLeft:"12px"}},[e._v("热门标签")])]),t("li",{staticClass:"dropdown-item",on:{click:function(t){return e.toViewAll(1)}}},[t("i",{staticClass:"el-icon-files"}),t("a",{staticStyle:{marginLeft:"12px"}},[e._v("查看全部")])])])])]),t("li",{staticClass:"collapse-item"},[t("a",{staticStyle:{letterSpacing:"3px"}},[e._v("游戏")]),t("div",{staticClass:"dropdown-container"},[t("ul",{staticClass:"dropdown"},[t("li",{staticClass:"dropdown-item",on:{click:function(t){return e.toRanking(4)}}},[t("i",{staticClass:"el-icon-trophy"}),t("a",{staticStyle:{marginLeft:"10px"}},[e._v("Top50")])]),t("li",{staticClass:"dropdown-item",on:{click:function(t){return e.toRecently(4)}}},[t("i",{staticClass:"el-icon-time"}),t("a",{staticStyle:{marginLeft:"10px"}},[e._v("近期新作")])]),t("li",{staticClass:"dropdown-item",on:{click:function(t){return e.toTags(4)}}},[t("i",{staticClass:"el-icon-guide"}),t("a",{staticStyle:{marginLeft:"10px"}},[e._v("热门标签")])]),t("li",{staticClass:"dropdown-item",on:{click:function(t){return e.toViewAll(4)}}},[t("i",{staticClass:"el-icon-files"}),t("a",{staticStyle:{marginLeft:"10px"}},[e._v("查看全部")])])])])]),t("li",{staticClass:"collapse-item",on:{click:e.toAbout}},[t("a",[e._v("关于")])])]),t("div",[t("a",{on:{click:function(t){return e.switchTheme("default")}}},[t("i",{directives:[{name:"show",rawName:"v-show",value:!e.isDark,expression:"!isDark"}],staticClass:"el-icon-sunny"})]),t("a",{on:{click:function(t){return e.switchTheme("dark")}}},[t("i",{directives:[{name:"show",rawName:"v-show",value:e.isDark,expression:"isDark"}],staticClass:"el-icon-moon-night"})])]),this.btnFlag?t("button",{staticClass:"user",on:{click:e.toProfile}},[e._v(e._s(this.username))]):t("button",{staticClass:"login",on:{click:e.toLogin}},[e._v("登录账号")])]):e._e(),"Mobile"===e.$store.state.device?t("div",{staticClass:"navbar-mobile"},[t("div",{staticClass:"navbar-title-mobile"},[t("div",{staticClass:"brand-mobile",on:{click:e.toHome}},[e._v("BanViewer")]),t("button",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e.showList,expression:"showList",arg:"tap"}],staticClass:"menuBtn-mobile"},[t("i",{directives:[{name:"show",rawName:"v-show",value:!this.isShowList,expression:"!this.isShowList"}],staticClass:"el-icon-menu"}),t("i",{directives:[{name:"show",rawName:"v-show",value:this.isShowList,expression:"this.isShowList"}],staticClass:"el-icon-close"})])]),t("el-collapse-transition",[t("div",{directives:[{name:"show",rawName:"v-show",value:this.isShowList,expression:"this.isShowList"}],staticClass:"menu-mobile"},[t("div",{staticClass:"menu-col"},[t("ul",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e.showListAnime,expression:"showListAnime",arg:"tap"}],staticClass:"menu-col-list"},[t("a",[e._v("影视")]),t("el-collapse-transition",[t("div",{directives:[{name:"show",rawName:"v-show",value:this.isShowAnime,expression:"this.isShowAnime"}]},[t("li",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.tomRanking(2),expression:"(event)=> tomRanking(2)",arg:"tap"}],staticClass:"menu-dropdown"},[t("i",{staticClass:"el-icon-trophy"}),t("a",{staticStyle:{marginLeft:"12px"}},[e._v("Top50")])]),t("li",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.tomRecently(2),expression:"(event)=> tomRecently(2)",arg:"tap"}],staticClass:"menu-dropdown"},[t("i",{staticClass:"el-icon-time"}),t("a",{staticStyle:{marginLeft:"10px"}},[e._v("近期新作")])]),t("li",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e.tomTags,expression:"tomTags",arg:"tap"}],staticClass:"menu-dropdown"},[t("i",{staticClass:"el-icon-guide"}),t("a",{staticStyle:{marginLeft:"10px"}},[e._v("热门标签")])]),t("li",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.toViewAll(2),expression:"(event)=> toViewAll(2)",arg:"tap"}],staticClass:"menu-dropdown"},[t("i",{staticClass:"el-icon-files"}),t("a",{staticStyle:{marginLeft:"10px"}},[e._v("查看全部")])])])])],1),t("ul",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e.showListMusic,expression:"showListMusic",arg:"tap"}],staticClass:"menu-col-list"},[t("a",[e._v("音乐")]),t("el-collapse-transition",[t("div",{directives:[{name:"show",rawName:"v-show",value:this.isShowMusic,expression:"this.isShowMusic"}]},[t("li",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.tomRanking(3),expression:"(event)=> tomRanking(3)",arg:"tap"}],staticClass:"menu-dropdown"},[t("i",{staticClass:"el-icon-trophy"}),t("a",{staticStyle:{marginLeft:"12px"}},[e._v("Top50")])]),t("li",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.tomRecently(3),expression:"(event)=> tomRecently(3)",arg:"tap"}],staticClass:"menu-dropdown"},[t("i",{staticClass:"el-icon-time"}),t("a",{staticStyle:{marginLeft:"10px"}},[e._v("近期新作")])]),t("li",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e.tomTags,expression:"tomTags",arg:"tap"}],staticClass:"menu-dropdown"},[t("i",{staticClass:"el-icon-guide"}),t("a",{staticStyle:{marginLeft:"10px"}},[e._v("热门标签")])]),t("li",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.toViewAll(3),expression:"(event)=> toViewAll(3)",arg:"tap"}],staticClass:"menu-dropdown"},[t("i",{staticClass:"el-icon-files"}),t("a",{staticStyle:{marginLeft:"10px"}},[e._v("查看全部")])])])])],1),t("ul",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e.showListBook,expression:"showListBook",arg:"tap"}],staticClass:"menu-col-list"},[t("a",[e._v("图书")]),t("el-collapse-transition",[t("div",{directives:[{name:"show",rawName:"v-show",value:this.isShowBook,expression:"this.isShowBook"}]},[t("li",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.tomRanking(1),expression:"(event)=> tomRanking(1)",arg:"tap"}],staticClass:"menu-dropdown"},[t("i",{staticClass:"el-icon-trophy"}),t("a",{staticStyle:{marginLeft:"12px"}},[e._v("Top50")])]),t("li",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.tomRecently(1),expression:"(event)=> tomRecently(1)",arg:"tap"}],staticClass:"menu-dropdown"},[t("i",{staticClass:"el-icon-time"}),t("a",{staticStyle:{marginLeft:"10px"}},[e._v("近期新作")])]),t("li",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e.tomTags,expression:"tomTags",arg:"tap"}],staticClass:"menu-dropdown"},[t("i",{staticClass:"el-icon-guide"}),t("a",{staticStyle:{marginLeft:"10px"}},[e._v("热门标签")])]),t("li",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.toViewAll(1),expression:"(event)=> toViewAll(1)",arg:"tap"}],staticClass:"menu-dropdown"},[t("i",{staticClass:"el-icon-files"}),t("a",{staticStyle:{marginLeft:"10px"}},[e._v("查看全部")])])])])],1),t("ul",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e.showListGame,expression:"showListGame",arg:"tap"}],staticClass:"menu-col-list"},[t("a",[e._v("游戏")]),t("el-collapse-transition",[t("div",{directives:[{name:"show",rawName:"v-show",value:this.isShowGame,expression:"this.isShowGame"}]},[t("li",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.tomRanking(4),expression:"(event)=> tomRanking(4)",arg:"tap"}],staticClass:"menu-dropdown"},[t("i",{staticClass:"el-icon-trophy"}),t("a",{staticStyle:{marginLeft:"12px"}},[e._v("Top50")])]),t("li",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.tomRecently(4),expression:"(event)=> tomRecently(4)",arg:"tap"}],staticClass:"menu-dropdown"},[t("i",{staticClass:"el-icon-time"}),t("a",{staticStyle:{marginLeft:"10px"}},[e._v("近期新作")])]),t("li",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e.tomTags,expression:"tomTags",arg:"tap"}],staticClass:"menu-dropdown"},[t("i",{staticClass:"el-icon-guide"}),t("a",{staticStyle:{marginLeft:"10px"}},[e._v("热门标签")])]),t("li",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.toViewAll(4),expression:"(event)=> toViewAll(4)",arg:"tap"}],staticClass:"menu-dropdown"},[t("i",{staticClass:"el-icon-files"}),t("a",{staticStyle:{marginLeft:"10px"}},[e._v("查看全部")])])])])],1)])])])],1):e._e()])},c=[],m=(a(7658),{name:"Navigator",data(){return{btnFlag:!1,username:"",isDark:!1,theme:"default",isShowList:!1,isShowAnime:!1,isShowMusic:!1,isShowBook:!1,isShowGame:!1}},methods:{toLogin(){this.$router.push({path:"/login"})},toHome(){this.$router.push({path:"/home"})},toProfile(){this.$router.push({path:"/profile",query:{username:this.username}})},toRanking(e){this.$router.push({path:"/ranking",query:{type:e}})},toRecently(e){this.$router.push({path:"/recently",query:{type:e}})},toTags(e){this.$router.push({path:"/tags",query:{type:e}})},toViewAll(e){"Mobile"===this.$store.state.device?(this.$router.push({path:"/msearchresult",query:{type:e}}),this.isShowList=!1):this.$router.push({path:"/searchresult",query:{type:e}})},toAbout(){this.$router.push({path:"/about"})},isLogin(){this.btnFlag=!0},isntLogin(){this.btnFlag=!1},watchStorage(e,t){window.addEventListener("setItemEvent",(function(a){"isLogin"===a.key&&(a.value?e():t())}))},switchTheme(){this.$store.dispatch("getIsDark")},showList(){this.isShowList=!this.isShowList,this.isShowAnime=!1,this.isShowMusic=!1,this.isShowBook=!1,this.isShowGame=!1},showListAnime(){this.isShowAnime=!this.isShowAnime,this.isShowMusic=!1,this.isShowBook=!1,this.isShowGame=!1},showListMusic(){this.isShowMusic=!this.isShowMusic,this.isShowAnime=!1,this.isShowBook=!1,this.isShowGame=!1},showListBook(){this.isShowBook=!this.isShowBook,this.isShowAnime=!1,this.isShowMusic=!1,this.isShowGame=!1},showListGame(){this.isShowGame=!this.isShowGame,this.isShowAnime=!1,this.isShowMusic=!1,this.isShowBook=!1},tomRanking(e){this.$router.push({path:"/mranking",query:{type:e}}),this.isShowList=!1},tomTags(){this.$router.push({path:"/mtags"}),this.isShowList=!1},tomRecently(e){this.$router.push({path:"/mrecently",query:{type:e}}),this.isShowList=!1}},watch:{"$store.state.isDark":{handler:function(e){this.isDark=e,console.log("vuex"+this.isDark)}}},created(){this.isDark=JSON.parse(localStorage.getItem("isDark")),this.btnFlag=JSON.parse(localStorage.getItem("isLogin")),this.username=localStorage.getItem("username")},beforeMount(){this.watchStorage(this.isLogin,this.isntLogin)}}),h=m,g=a(1001),d=(0,g.Z)(h,o,c,!1,null,"25e28398",null),u=d.exports,v=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[e._m(0),t("div",{directives:[{name:"show",rawName:"v-show",value:"PC"===e.$store.state.device,expression:"$store.state.device === 'PC'"}],staticClass:"introduction"},[t("a",[e._v("欢迎使用BanViewer，这是一个专注于影视，音乐，书籍信息的站点，致力于发现生活中有趣的作品。")])]),t("div",{staticClass:"search"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.inputValue,expression:"inputValue"}],staticClass:"search-content",attrs:{type:"text"},domProps:{value:e.inputValue},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.toSearch.apply(null,arguments)},input:function(t){t.target.composing||(e.inputValue=t.target.value)}}}),t("button",{staticClass:"submitbtn",attrs:{type:"button",disabled:0===this.inputValue.length},on:{click:e.toSearch}},[t("i",{staticClass:"el-icon-search"})])])])},p=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"title"},[t("h1",{staticClass:"banviewer"},[e._v("BanViewer")])])}],f={name:"HomeInfo",data(){return{inputValue:"",oldInputValue:""}},methods:{toSearch(){if("Mobile"===this.$store.state.device){if(this.inputValue===this.oldInputValue&&"/home"!==this.$route.path)return!1;this.$router.push({path:"msearchresult",query:{inputValue:this.inputValue}}),this.oldInputValue=this.inputValue}if(this.inputValue===this.oldInputValue&&"/home"!==this.$route.path)return!1;this.$router.push({path:"searchresult",query:{inputValue:this.inputValue}}),this.oldInputValue=this.inputValue}}},C=f,_=(0,g.Z)(C,v,p,!1,null,"c289703a",null),w=_.exports,k={name:"Header",components:{Navigator:u,HomeInfo:w}},y=k,T=(0,g.Z)(y,n,l,!1,null,null,null),b=T.exports,x=function(){var e=this,t=e._self._c;return t("div",{class:{footer:!0,light:!e.isDark,dark:e.isDark}},[e._m(0),e._m(1)])},S=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"footerMain"},[t("div",{staticClass:"footerInfo"},[t("i",{staticClass:"el-icon-video-camera-solid"}),t("a",{staticClass:"brand"},[e._v("BanViewer")]),t("div",{staticClass:"icons"},[t("i",{staticClass:"el-icon-s-platform icon"}),t("i",{staticClass:"el-icon-s-data icon"}),t("i",{staticClass:"el-icon-eleme icon"}),t("i",{staticClass:"el-icon-s-custom icon"}),t("i",{staticClass:"el-icon-share icon"})])]),t("div",{staticClass:"footerCol"},[t("div",{staticClass:"title"},[t("a",[e._v("信息")])]),t("a",{staticClass:"content"},[e._v("关于我们")]),t("a",{staticClass:"content"},[e._v("联系我们")]),t("a",{staticClass:"content"},[e._v("用户协议")]),t("a",{staticClass:"content"},[e._v("加入我们")])]),t("div",{staticClass:"footerCol"},[t("div",{staticClass:"title"},[t("a",[e._v("资源与社区")])]),t("a",{staticClass:"content"},[e._v("友情链接")]),t("a",{staticClass:"content"},[e._v("广告合作")]),t("a",{staticClass:"content"},[e._v("开发日志")])]),t("div",{staticClass:"footerCol"},[t("div",{staticClass:"title"},[t("a",[e._v("支持服务")])]),t("a",{staticClass:"content"},[e._v("帮助中心")]),t("a",{staticClass:"content"},[e._v("侵权申诉")]),t("a",{staticClass:"content"},[e._v("协议汇总")]),t("a",{staticClass:"content"},[e._v("公告")])]),t("div",{staticClass:"footerCol"},[t("div",{staticClass:"title"},[t("a",[e._v("鸣谢")])]),t("a",{staticClass:"content",attrs:{href:"https://v2.vuejs.org/"}},[e._v("Vue")]),t("a",{staticClass:"content",attrs:{href:"https://bangumi.github.io/api/"}},[e._v("bangumi")]),t("a",{staticClass:"content",attrs:{href:"https://element.eleme.io/"}},[e._v("element")]),t("a",{staticClass:"content"},[e._v("and so on...")])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"copyright"},[e._v("All rights reserved. Copyright © 2023 BanViewer by "),t("a",{staticClass:"copyright",attrs:{href:"https://github.com/nanogenji"}},[e._v("personal")])])}],N={name:"Footer",data(){return{isDark:!1}},watch:{"$store.state.isDark":{handler:function(e){this.isDark=e}}},created(){this.isDark=JSON.parse(localStorage.getItem("isDark"))}},P=N,$=(0,g.Z)(P,x,S,!1,null,"02536d61",null),j=$.exports,F={name:"App",data(){return{isDark:!1}},components:{Header:b,Footer:j},watch:{"$store.state.isDark":{handler:function(e){const t=document.querySelector(":root");this.isDark=e,this.isDark?t.style.setProperty("color-scheme","dark"):t.style.setProperty("color-scheme","light")}}},beforeCreate(){navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)?this.$store.dispatch("getDevice","mobile"):this.$store.dispatch("getDevice","PC")},created(){this.isDark=JSON.parse(localStorage.getItem("isDark"))}},M=F,E=(0,g.Z)(M,i,r,!1,null,null,null),I=E.exports,R=a(4720),q=a.n(R),D=a(381),L=a.n(D),V=a(8345),A=function(){var e=this,t=e._self._c;return t("div",{staticClass:"detailContainer"},[t("div",{staticClass:"detailContent"},[this.item.length==[]?t("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"loading",attrs:{"element-loading-text":"正在加载中...请稍候"}}):this.apiError?t("div",{staticClass:"loading"},[t("el-alert",{staticStyle:{marginTop:"5rem"},attrs:{title:"加载错误...请稍后再试",type:"error",description:"错误代码："+this.errorMsg,"show-icon":""}})],1):t("el-container",[t("el-header",{style:{marginTop:"2rem"}},[t("a",{staticClass:"title"},[e._v(e._s(e.item.name_cn?e.item.name_cn:e.item.name))])]),e._v(" "),t("el-container",[t("el-aside",{staticClass:"detailAside",attrs:{width:"350px"}},[t("div",{staticClass:"platform"},[t("a",[e._v(e._s(e.item.platform))])]),t("div",{staticClass:"block imgContainer"},[t("el-image",{attrs:{src:e.item.images.common,fit:"fill","preview-src-list":[e.item.images.large]}},[t("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[e._v(" 加载中 "),t("span",{staticClass:"dot"},[e._v("...")])])])],1),t("div",{staticClass:"player",staticStyle:{padding:"10px"},attrs:{shadow:"never"}},[t("a",{staticClass:"playerTitle"},[e._v("播放源:")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.findShow,expression:"findShow"}],staticClass:"findplayer",attrs:{round:"",plain:"",size:"mini",loading:e.findPlayerLoading},on:{click:e.findPlayer}},[e._v("查找播放源")]),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.findShow,expression:"!findShow"}],staticClass:"playerResource"},[t("a",{directives:[{name:"show",rawName:"v-show",value:e.isbili,expression:"isbili"}],staticStyle:{marginRight:"0.3rem"},attrs:{href:e.bilisrc}},[t("img",{attrs:{src:a(6756)}})]),t("a",{directives:[{name:"show",rawName:"v-show",value:e.isacfun,expression:"isacfun"}],staticStyle:{marginRight:"0.3rem"},attrs:{href:e.acfunsrc}},[t("img",{attrs:{src:a(9261)}})]),t("a",{directives:[{name:"show",rawName:"v-show",value:e.iswetv,expression:"iswetv"}],staticStyle:{marginRight:"0.3rem"},attrs:{href:e.wetvsrc}},[t("img",{attrs:{src:a(6383)}})]),t("a",{directives:[{name:"show",rawName:"v-show",value:e.isiqiyi,expression:"isiqiyi"}],staticStyle:{marginRight:"0.3rem"},attrs:{href:e.iqiyisrc}},[t("img",{attrs:{src:a(4612)}})]),t("a",{directives:[{name:"show",rawName:"v-show",value:e.isyouku,expression:"isyouku"}],staticStyle:{marginRight:"0.3rem"},attrs:{href:e.youkusrc}},[t("img",{attrs:{src:a(8030)}})])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.notfound,expression:"notfound"}],staticClass:"notfound"},[t("a",[e._v("未找到播放源")])])],1),t("el-table",{staticClass:"infoTable",attrs:{data:e.item.infobox,"show-header":!1,"cell-style":e.cellStyle,size:"small"}},[t("el-table-column",{attrs:{prop:"key",label:"key",width:"70"}}),t("el-table-column",{attrs:{prop:"value",label:"value",width:"180"}})],1)],1),t("el-main",{staticClass:"detailMain"},[t("el-card",{staticClass:"rating",attrs:{shadow:"never"}},[t("div",[t("a",[e._v("站内评分排名： "),t("a",[e._v(e._s(0===e.item.rating.rank?"暂无排名":e.item.rating.rank))])])]),t("el-rate",{attrs:{disabled:"","show-score":"","text-color":"#ff9900",max:Number(10),"score-template":e.item.rating.score.toString()},model:{value:e.item.rating.score,callback:function(t){e.$set(e.item.rating,"score",t)},expression:"item.rating.score"}}),t("div",{staticClass:"collection"},[t("a",{staticStyle:{marginRight:"0.6rem"}},[e._v(e._s(e.item.rating.total)+"评分")]),t("a",{staticStyle:{marginRight:"0.6rem"}},[e._v(e._s(e.item.collection.wish)+"想看")]),t("a",{staticStyle:{marginRight:"0.6rem"}},[e._v(e._s(e.item.collection.collect)+"看过")]),t("a",{staticStyle:{marginRight:"0.6rem"}},[e._v(e._s(e.item.collection.doing)+"在看")]),t("a",{staticStyle:{marginRight:"0.6rem"}},[e._v(e._s(e.item.collection.on_hold)+"搁置")]),t("a",{staticStyle:{marginRight:"0.6rem"}},[e._v(e._s(e.item.collection.dropped)+"抛弃")])])],1),t("el-card",{staticClass:"box-card summary",attrs:{shadow:"never"}},[e.item.summary?t("a",{staticStyle:{padding:"1rem 1.1rem 1rem 1.1rem",display:"block"}},[e._v(e._s(e.item.summary))]):t("a",[e._v("暂无剧集简介...")])]),t("el-card",{staticClass:"tagContainer"},[e.item.tags.length>0?t("a",{staticClass:"tagTitle"},[e._v("大家把"+e._s(e.item.name_cn?e.item.name_cn:e.item.name)+"标注为：")]):t("a",{staticClass:"tagTitle"},[e._v("该作品还没有标签")]),e._l(e.item.tags,(function(a){return t("el-tag",{key:a.id,staticClass:"tag",attrs:{type:"info"},on:{click:function(t){return e.handleTag(a.name)}}},[t("a",{staticClass:"tagName"},[e._v(e._s(a.name))]),t("a",{staticClass:"tagCount"},[e._v(e._s(a.count))])])}))],2),t("el-card",{staticClass:"charactersContainer"},[t("a",{staticClass:"charactersTitle"},[e._v("角色介绍")]),e.characters.length>0?t("div",{staticClass:"charactersContent"},e._l(e.characters,(function(e){return t("CharacterCard",{key:e.id,attrs:{id:e.id,actor:e.actors[0]?e.actors[0].name:"",actorId:e.actors[0]?e.actors[0].id:0,img:e.images.grid,name:e.name,relation:e.relation}})})),1):t("div",{staticClass:"charactersContent"},[e._v(" 暂无相关角色信息 ")])])],1)],1)],1)],1)])},z=[],B=function(){var e=this,t=e._self._c;return t("div",{staticClass:"chaContainer"},[t("el-avatar",{staticClass:"chaAva",attrs:{shape:"square",size:"large",src:e.img,fit:"cover"}}),t("div",{staticClass:"Info"},[t("div",{staticClass:"chaInfo"},[t("a",{staticClass:"chaKey"},[e._v(e._s(e.relation))]),t("a",{staticClass:"chaValue active",on:{click:e.toCharacter}},[e._v(e._s(e.name))])]),t("div",{staticClass:"actorInfo"},[t("a",{staticClass:"chaKey"},[e._v("配音")]),e.actor?t("a",{staticClass:"chaValue active",on:{click:e.toPerson}},[e._v(e._s(e.actor))]):t("a",{staticClass:"chaValue"},[e._v("暂无信息")])])])],1)},Z=[],O={name:"CharacterCard",props:{id:Number,actorId:Number,actor:String,img:String,name:String,relation:String},methods:{toCharacter(){"Mobile"===this.$store.state.device?this.$router.push({path:"mcharacter",query:{id:this.id}}):this.$router.push({path:"character",query:{id:this.id}})},toPerson(){this.actorId&&("Mobile"===this.$store.state.device?this.$router.push({path:"mperson",query:{actorId:this.actorId}}):this.$router.push({path:"person",query:{actorId:this.actorId}}))}}},G=O,H=(0,g.Z)(G,B,Z,!1,null,"ce43cad4",null),U=H.exports,W=a(9879),Y=a(594),J={name:"Detail",data(){return{item:[],characters:[],infoList:[],apiError:!1,errorMsg:"",isDark:!1,findPlayerLoading:!1,notfound:!1,findShow:!0,isbili:!1,isacfun:!1,iswetv:!1,isiqiyi:!1,isyouku:!1,bilisrc:"",acfunsrc:"",wetvsrc:"",iqiyisrc:"",youkusrc:""}},components:{CharacterCard:U},methods:{findPlayer(){this.findPlayerLoading=!0,Y.Z.get(`https://cdn.jsdelivr.net/gh/ekibot/bangumi-onair/onair/${Math.floor(this.item.id/1e3)}/${this.item.id}.json`).then((e=>{this.findPlayerLoading=!1,console.log(e.data),this.findShow=!1;for(let t=0;t<e.data.sites.length;t++)if("iqiyi"===e.data.sites[t].site){this.isiqiyi=!0;for(let t=0;t<e.data.eps[0].sites.length;t++)"iqiyi"===e.data.eps[0].sites[t].site&&(this.iqiyisrc=e.data.eps[0].sites[t].url)}else if("qq"===e.data.sites[t].site){this.iswetv=!0;for(let t=0;t<e.data.eps[0].sites.length;t++)"qq"===e.data.eps[0].sites[t].site&&(this.wetvsrc=e.data.eps[0].sites[t].url)}else if("youku"===e.data.sites[t].site){this.isyouku=!0;for(let t=0;t<e.data.eps[0].sites.length;t++)"youku"===e.data.eps[0].sites[t].site&&(this.youkusrc=e.data.eps[0].sites[t].url)}else if("bilibili"===e.data.sites[t].site){this.isbili=!0;for(let t=0;t<e.data.eps[0].sites.length;t++)"bilibili"===e.data.eps[0].sites[t].site&&(this.bilisrc=e.data.eps[0].sites[t].url)}else if("acfun"===e.data.sites[t].site){this.isacfun=!0;for(let t=0;t<e.data.eps[0].sites.length;t++)"acfun"===e.data.eps[0].sites[t].site&&(this.acfunsrc=e.data.eps[0].sites[t].url)}}),(e=>{this.findPlayerLoading=!1,this.findShow=!1,this.notfound=!0,console.log(e.message)}))},cellStyle(){return"background-color: var(--secondary-background)"},handleTag(e){this.$router.push({path:"searchresult",query:{tagValue:e}})}},beforeCreate(){"Mobile"===this.$store.state.device&&this.$router.push({path:"mdetail",query:{id:this.$route.query.id}})},created(){this.isDark=JSON.parse(localStorage.getItem("isDark")),Y.Z.get(`https://api.bgm.tv/v0/subjects/${this.$route.query.id}`).then((e=>{this.item=e.data,console.log(this.item);for(let t=0;t<this.item.infobox.length;t++)"object"===typeof this.item.infobox[t].value&&(this.item.infobox[t].value=this.item.name?this.item.name:"无");for(let t=0;t<this.item.tags.length;t++)this.item.tags[t].id=(0,W.x0)(8)}),(e=>{this.apiError=!0,this.errorMsg=e.message,console.log(e.messgae)})),Y.Z.get(`https://api.bgm.tv/v0/subjects/${this.$route.query.id}/characters`).then((e=>{this.characters=e.data,this.characters=this.characters.slice(0,41)}),(e=>{console.log(e.message)}))}},K=J,Q=(0,g.Z)(K,A,z,!1,null,"e9dae74e",null),X=Q.exports,ee=function(){var e=this,t=e._self._c;return t("div",{staticClass:"searchResContainer"},[e.isloading?t("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"loading",attrs:{"element-loading-text":"正在加载中...请稍候"}}):this.apiError?t("div",{staticClass:"loading"},[t("el-alert",{staticStyle:{marginTop:"5rem"},attrs:{title:"加载错误...请稍后再试",type:"error",description:"错误代码："+this.errorMsg,"show-icon":""}})],1):e._e(),this.searchResTotal||e.isloading?e._e():t("div",[e._m(0)]),!e.isloading&&this.searchResTotal?t("div",{staticClass:"searchResContent"},[t("el-container",[t("el-aside",{staticClass:"searchResAside",attrs:{width:"200px"}},[t("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":String(this.searchdata.filter.type[0]),"active-text-color":"#ff8b88"},on:{select:e.handleSelect}},[t("el-menu-item",{attrs:{index:"2"}},[t("i",{staticClass:"el-icon-film"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("anime")])]),t("el-menu-item",{attrs:{index:"1"}},[t("i",{staticClass:"el-icon-notebook-2"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("books")])]),t("el-menu-item",{attrs:{index:"3"}},[t("i",{staticClass:"el-icon-headset"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("music")])]),t("el-menu-item",{attrs:{index:"4"}},[t("i",{staticClass:"el-icon-coordinate"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("game")])])],1),t("a",{staticClass:"datePickerTitle"},[e._v("日期筛选")]),t("div",{staticClass:"datePicker"},[t("el-date-picker",{attrs:{type:"date",placeholder:"起始日期","value-format":"yyyy-MM-dd",size:"small"},model:{value:e.datePickStart,callback:function(t){e.datePickStart=t},expression:"datePickStart"}}),t("el-date-picker",{attrs:{type:"date",placeholder:"终止日期","value-format":"yyyy-MM-dd",size:"small"},model:{value:e.datePickEnd,callback:function(t){e.datePickEnd=t},expression:"datePickEnd"}}),t("el-button",{staticClass:"datePickerBtn",attrs:{size:"samll",round:""},on:{click:e.datePickBtn}},[e._v("确定")])],1)],1),t("el-main",{staticClass:"searchResMain"},[e._l(e.searchResItems,(function(e){return t("SearchCard",{key:e.id,attrs:{id:e.id,date:e.date,img:e.image,name:e.name,nameCN:e.name_cn,rank:e.rank,score:e.score,tags:e.tags}})})),e.searchResTotal?t("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":10,total:this.searchResTotal,"current-page":this.currentPage},on:{"current-change":e.handleCurrentChange}}):e._e()],2)],1)],1):e._e()])},te=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"nonePick"},[t("i",{staticClass:"el-icon-s-promotion"}),t("div",{staticClass:"nonePickContant"},[t("a",{staticStyle:{lineHeight:"1.8"}},[e._v("未搜索到符合条件的作品")])])])}],ae=function(){var e=this,t=e._self._c;return t("div",{staticClass:"searchCardContainer"},[t("el-container",[t("el-aside",{staticClass:"searchResAside",attrs:{width:"120px"}},[t("div",{staticClass:"imgContainer"},[t("el-image",{staticClass:"img",staticStyle:{width:"90px",height:"125px"},attrs:{src:e.img,"preview-src-list":[e.img],fit:"fill"}})],1)]),t("el-main",{staticClass:"searchResMain"},[t("div",{staticClass:"MainHeader"},[t("div",{staticClass:"titleContainer",on:{click:e.toDetail}},[t("a",{staticClass:"titleCN"},[e._v(e._s(e.nameCN.length?e.nameCN:e.name))]),e.nameCN.length<10?t("a",{staticClass:"title"},[e._v(e._s(e.name))]):e._e()]),t("el-tag",{attrs:{type:"warning",effect:"light"}},[t("a",[e._v(e._s(e.rank?"排名 "+e.rank:"暂无排名"))])])],1),t("div",{staticClass:"date"},[t("a",[e._v("放映时间："+e._s(e.date))])]),t("div",{staticClass:"tags"},e._l(e.itemtags,(function(a){return t("el-tag",{key:a.id,staticClass:"tag",attrs:{type:"info",effect:"plain",size:"small"},on:{click:function(t){return e.handleTag(a.name)}}},[e._v(e._s(a.name))])})),1),t("div",{staticClass:"score"},[t("el-rate",{attrs:{disabled:"","show-score":"","text-color":"#ff9900",max:Number(10),"score-template":e.itemScore.toString()},model:{value:e.itemScore,callback:function(t){e.itemScore=t},expression:"itemScore"}})],1)])],1)],1)},se=[],ie={name:"SearchCard",data(){return{itemtags:[],searchdata:{keyword:"string",sort:"rank",filter:{type:[2],tag:["s"]}}}},props:{id:Number,date:String,img:String,name:String,nameCN:String,rank:Number,score:Number,tags:Array,type:Number},computed:{itemScore:{get(){return this.score?this.score:0},set(e){return e}}},methods:{toDetail(){this.$router.push({path:"detail",query:{id:this.id}})},handleTag(e){this.searchdata.filter.tag[0]=e,"/searchresult"!==this.$route.path?this.$router.push({path:"searchresult",query:{tagValue:e,type:this.type}}):this.$store.dispatch("getTag",this.searchdata.filter.tag[0])}},created(){this.itemtags=this.tags.slice(0,7)}},re=ie,ne=(0,g.Z)(re,ae,se,!1,null,"7873bd80",null),le=ne.exports,oe=a(3493),ce=a.n(oe),me={name:"SearchResult",components:{SearchCard:le},data(){return{searchResItems:0,searchResTotal:0,currentPage:1,isloading:!0,apiError:!1,errorMsg:"",datePickStart:"",datePickEnd:"",searchdata:{keyword:"string",sort:"rank",filter:{type:[2],tag:[],air_date:[]}}}},methods:{handleSelect(e){this.searchdata.filter.type[0]!==Number(e)&&(this.currentPage=1,this.searchdata.filter.type[0]=Number(e),this.searchdata.keyword=this.$route.query.inputValue,Y.Z.post("https://api.bgm.tv/v0/search/subjects?limit=10&offset="+10*(this.currentPage-1),this.searchdata).then((e=>{this.searchResItems=e.data.data,this.searchResTotal=e.data.total,this.isloading=!1}),(e=>{this.apiError=!0,this.errorMsg=e.message,console.log(e.message)})))},handleCurrentChange(e){this.currentPage=e,Y.Z.post("https://api.bgm.tv/v0/search/subjects?limit=10&offset="+10*(this.currentPage-1),this.searchdata).then((e=>{this.searchResItems=e.data.data,this.searchResTotal=e.data.total,this.isloading=!1}),(e=>{this.apiError=!0,this.errorMsg=e.message,console.log(e.message)})),window.scrollTo({top:480,behavior:"smooth"})},datePickBtn:ce()((function(){this.datePickStart&&this.datePickEnd?">="===this.datePickStart.substr(0,2)&&"<"===this.datePickEnd.substr(0,1)?(this.searchdata.filter.air_date[0]=this.datePickStart,this.searchdata.filter.air_date[1]=this.datePickEnd):(this.datePickStart=">="+this.datePickStart,this.datePickEnd="<"+this.datePickEnd,this.searchdata.filter.air_date[0]=this.datePickStart,this.searchdata.filter.air_date[1]=this.datePickEnd):this.datePickStart||this.datePickEnd?this.$message({message:"请正确选择起始日期哦",type:"warning"}):(this.searchdata.filter.air_date[0]=this.datePickStart,this.searchdata.filter.air_date[1]=this.datePickEnd),Y.Z.post("https://api.bgm.tv/v0/search/subjects?limit=10&offset=0",this.searchdata).then((e=>{this.searchResItems=e.data.data,this.searchResTotal=e.data.total}),(e=>{this.apiError=!0,this.errorMsg=e.message,console.log(e.message)}))}),2e3)},watch:{"$route.query.inputValue":{handler:function(){location.reload()},deep:!0},"$store.state.tag":{handler(e){this.searchdata.filter.tag[0]=e,this.searchdata.keyword=void 0,Y.Z.post("https://api.bgm.tv/v0/search/subjects?limit=10&offset="+10*(this.currentPage-1),this.searchdata).then((e=>{this.searchResItems=e.data.data,this.searchResTotal=e.data.total,this.isloading=!1}),(e=>{this.apiError=!0,this.errorMsg=e.message,console.log(e.message)})),window.scrollTo({top:480,behavior:"smooth"})}}},created(){this.searchdata.keyword=this.$route.query.inputValue,this.$route.query.tagValue&&(this.searchdata.filter.tag[0]=this.$route.query.tagValue),this.$route.query.type&&(this.searchdata.filter.type[0]=Number(this.$route.query.type)),Y.Z.post("https://api.bgm.tv/v0/search/subjects?limit=10&offset="+10*(this.currentPage-1),this.searchdata).then((e=>{this.searchResItems=e.data.data,this.searchResTotal=e.data.total,this.isloading=!1}),(e=>{this.apiError=!0,this.errorMsg=e.message,console.log(e.message)}))}},he=me,ge=(0,g.Z)(he,ee,te,!1,null,"51b8463e",null),de=ge.exports,ue=function(){var e=this,t=e._self._c;return t("div",{class:{Home:!0,dark:e.isDark,light:!e.isDark}},[t("div",{staticClass:"weekContainer"},[t("WeekdayNavi")],1),this.totalData.length==[]?t("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"loading",attrs:{"element-loading-text":"正在加载中...请稍候"}}):this.apiError?t("div",{staticClass:"loading"},[t("el-alert",{attrs:{title:"加载错误...请稍后再试",type:"error",effect:"dark"}})],1):e._e(),t("div",{staticClass:"itemContainer"},e._l(e.items,(function(e){return t("MainCard",{key:e.id,attrs:{id:e.id,img:e.images?e.images.large:"无图片",name:e.name_cn?e.name_cn:e.name,collection:e.collection}})})),1)])},ve=[],pe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"cardItem",on:{click:e.toDetail}},[t("div",{staticClass:"imgContainer"},[t("el-image",{staticClass:"itemImg",attrs:{src:e.img,fit:"fill"}},[t("div",{staticClass:"alt",attrs:{slot:"error"},slot:"error"},[t("i",{staticClass:"el-icon-picture-outline"}),t("a",{staticStyle:{fontSize:"1rem"}},[e._v("暂无图片")])]),t("div",{staticClass:"alt",attrs:{slot:"placeholder"},slot:"placeholder"},[t("i",{staticClass:"el-icon-loading"}),t("a",{staticStyle:{fontSize:"0.8rem"}},[e._v("加载中...")])])])],1),t("div",{staticClass:"title"},[t("a",[e._v(e._s(e.name))])]),t("div",{directives:[{name:"show",rawName:"v-show",value:"PC"===this.$store.state.device,expression:"this.$store.state.device === 'PC'"}],staticClass:"doing"},[0!==e.collection.doing?t("a",[e._v(e._s(e.collection.doing)+"人在看")]):t("a",[e._v("暂时没人在看哦")])])])},fe=[],Ce={name:"MainCard",data(){return{metaData:[]}},props:{id:Number,name:String,img:String,collection:Object},methods:{toDetail(){"Mobile"===this.$store.state.device?this.$router.push({path:"mdetail",query:{id:this.id}}):this.$router.push({path:"detail",query:{id:this.id}})}}},_e=Ce,we=(0,g.Z)(_e,pe,fe,!1,null,"3c68e4b2",null),ke=we.exports,ye=function(){var e=this,t=e._self._c;return t("div",{staticClass:"week"},["PC"===e.$store.state.device?t("ul",{staticClass:"weekbar"},[t("li",{class:0==this.current?"active weekbarItem":"weekbarItem",on:{click:function(t){return e.weekNumber(0)}}},[e._v("星期日")]),t("li",{class:1==this.current?"active weekbarItem":"weekbarItem",on:{click:function(t){return e.weekNumber(1)}}},[e._v("星期一")]),t("li",{class:2==this.current?"active weekbarItem":"weekbarItem",on:{click:function(t){return e.weekNumber(2)}}},[e._v("星期二")]),t("li",{class:3==this.current?"active weekbarItem":"weekbarItem",on:{click:function(t){return e.weekNumber(3)}}},[e._v("星期三")]),t("li",{class:4==this.current?"active weekbarItem":"weekbarItem",on:{click:function(t){return e.weekNumber(4)}}},[e._v("星期四")]),t("li",{class:5==this.current?"active weekbarItem":"weekbarItem",on:{click:function(t){return e.weekNumber(5)}}},[e._v("星期五")]),t("li",{class:6==this.current?"active weekbarItem":"weekbarItem",on:{click:function(t){return e.weekNumber(6)}}},[e._v("星期六")])]):e._e(),"Mobile"===e.$store.state.device?t("ul",{staticClass:"weekbar"},[t("li",{class:0==this.current?"active weekbarItem":"weekbarItem",on:{click:function(t){return e.weekNumber(0)}}},[e._v("周日")]),t("li",{class:1==this.current?"active weekbarItem":"weekbarItem",on:{click:function(t){return e.weekNumber(1)}}},[e._v("周一")]),t("li",{class:2==this.current?"active weekbarItem":"weekbarItem",on:{click:function(t){return e.weekNumber(2)}}},[e._v("周二")]),t("li",{class:3==this.current?"active weekbarItem":"weekbarItem",on:{click:function(t){return e.weekNumber(3)}}},[e._v("周三")]),t("li",{class:4==this.current?"active weekbarItem":"weekbarItem",on:{click:function(t){return e.weekNumber(4)}}},[e._v("周四")]),t("li",{class:5==this.current?"active weekbarItem":"weekbarItem",on:{click:function(t){return e.weekNumber(5)}}},[e._v("周五")]),t("li",{class:6==this.current?"active weekbarItem":"weekbarItem",on:{click:function(t){return e.weekNumber(6)}}},[e._v("周六")])]):e._e()])},Te=[],be={name:"WeekdayNavi",data(){return{current:0}},methods:{weekNumber(e){this.current=e,this.$store.dispatch("getWeekNumber",e)}}},xe=be,Se=(0,g.Z)(xe,ye,Te,!1,null,"36a40a08",null),Ne=Se.exports;const Pe=a(7218);var $e={name:"Home",data(){return{items:[],current:0,totalData:[],apiError:"",doing:"",isDark:!1}},components:{MainCard:ke,WeekdayNavi:Ne},methods:{compare(e,t){let a=e.collection.doing?e.collection.doing:0,s=t.collection.doing?t.collection.doing:0;return a<s?1:a>s?-1:0}},watch:{"$store.state.currentWeekNumber":{handler:function(e){this.items=this.totalData.data[e].items}},"$store.state.isDark":{handler:function(e){this.isDark=e}}},created(){this.isDark=JSON.parse(localStorage.getItem("isDark")),localStorage.getItem("isLogin")||localStorage.setItem("isLogin",!1),Pe.get("https://api.bgm.tv/calendar").then((e=>{this.items=e.data[0].items;for(let t=0;t<7;t++){for(let a=0;a<e.data[t].items.length;a++)e.data[t].items[a].collection||(e.data[t].items[a].collection={doing:0});e.data[t].items.sort(this.compare)}this.totalData=e}),(e=>{this.apiError=e.message,console.log(e.message)}))}},je=$e,Fe=(0,g.Z)(je,ue,ve,!1,null,"1e1a90e8",null),Me=Fe.exports,Ee=function(){var e=this,t=e._self._c;return t("div",{staticClass:"loginContainer"},[t("div",{staticClass:"loginContent"},[t("a",{staticClass:"loginTitle"},[e._v("登录账号")]),t("a",{staticClass:"welcome"},[e._v("欢迎回到BanViewer")]),t("el-form",{ref:"loginForm",staticClass:"loginForm",attrs:{model:e.loginForm,"status-icon":"",rules:e.rules,"label-position":"top","label-width":"100px"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{type:"text",maxlength:"15",autocomplete:"off",placeholder:"请输入用户名"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"pass"}},[t("el-input",{attrs:{type:"password",maxlength:"16",autocomplete:"off","show-password":!0,placeholder:"请输入密码"},model:{value:e.loginForm.pass,callback:function(t){e.$set(e.loginForm,"pass",t)},expression:"loginForm.pass"}})],1),t("el-form-item",[t("el-link",{attrs:{underline:!1},on:{click:e.toRegister}},[e._v("没有账号？点击注册")])],1),t("el-form-item",{staticClass:"btnContainer"},[t("el-button",{staticClass:"submitBtn",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("loginForm")}}},[e._v("登录")]),t("el-button",{staticClass:"resetBtn",on:{click:function(t){return e.resetForm("loginForm")}}},[e._v("重置")])],1)],1)],1)])},Ie=[],Re={name:"Login",data(){var e=(e,t,a)=>t?t.length<5?a(new Error("用户名应至少5个字符")):15===t.length?a(new Error("用户名长度已达上限")):a():a(new Error("用户名不能为空")),t=(e,t,a)=>{if(""===t)a(new Error("请输入密码"));else if(t.length<6)a(new Error("密码长度至少为6个字符"));else if(16===t.length)return a(new Error("密码长度已达上限"));return a()};return{loginForm:{username:"",pass:""},rules:{username:[{validator:e,trigger:"change"}],pass:[{validator:t,trigger:"blur"}]}}},methods:{submitForm:ce()((function(e){this.$refs[e].validate((e=>{if(!e)return this.$message({message:"请正确填写登录信息",type:"warning"}),console.log("error submit!!"),!1;this.loginForm.username===localStorage.getItem("username")&&this.loginForm.pass===localStorage.getItem("password")?(localStorage.setItem("isLogin",!0),this.$message({message:"欢迎回来",type:"success"}),setTimeout(this.toHome(),1e3)):this.$message.error("登录失败，请检查账号信息")}))}),2e3),resetForm(e){this.$refs[e].resetFields()},toRegister(){this.$router.push({path:"register"})},toHome(){this.$router.replace({path:"home",query:{username:this.loginForm.username}})}}},qe=Re,De=(0,g.Z)(qe,Ee,Ie,!1,null,"5f08eebe",null),Le=De.exports,Ve=function(){var e=this,t=e._self._c;return t("div",{staticClass:"registerContainer"},[t("div",{staticClass:"registerContent"},[t("a",{staticClass:"registerTitle"},[e._v("注册账号")]),t("el-form",{ref:"registerForm",staticClass:"registerForm",attrs:{model:e.registerForm,"status-icon":"",rules:e.rules,"label-position":"top","label-width":"100px"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{type:"text",maxlength:"15",autocomplete:"off",placeholder:"请设置用户名"},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"pass"}},[t("el-input",{attrs:{type:"password",maxlength:"16",autocomplete:"off",placeholder:"请设置登录密码"},model:{value:e.registerForm.pass,callback:function(t){e.$set(e.registerForm,"pass",t)},expression:"registerForm.pass"}})],1),t("el-form-item",{staticStyle:{marginBottom:"0.6rem"},attrs:{label:"确认密码",prop:"checkPass"}},[t("el-input",{attrs:{type:"password",maxlength:"16",autocomplete:"off",placeholder:"请再次输入密码"},model:{value:e.registerForm.checkPass,callback:function(t){e.$set(e.registerForm,"checkPass",t)},expression:"registerForm.checkPass"}})],1),t("el-form-item",{staticStyle:{margin:"0"}},[t("el-link",{attrs:{underline:!1},on:{click:e.toLogin}},[e._v("已有账号")])],1),t("el-checkbox",{model:{value:e.isRead,callback:function(t){e.isRead=t},expression:"isRead"}},[t("a",{on:{click:e.toAgreement}},[e._v("我已了解《社区指导原则》")])]),t("el-form-item",{staticClass:"btnContainer"},[t("el-button",{staticClass:"submitBtn",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("registerForm")}}},[e._v("注册")]),t("el-button",{staticClass:"resetBtn",on:{click:function(t){return e.resetForm("registerForm")}}},[e._v("重置")])],1)],1)],1)])},Ae=[],ze={name:"Register",data(){var e=(e,t,a)=>{for(let s=0;s<localStorage.length;s++)if(localStorage.getItem("username")===t)return a(new Error("该用户名已被注册"));return t?t.length<5?a(new Error("用户名应至少5个字符")):15===t.length?a(new Error("用户名长度已达上限")):(this.usernameState=!0,a()):a(new Error("用户名不能为空"))},t=(e,t,a)=>{if(""===t)a(new Error("请输入密码"));else if(t.length<6)a(new Error("密码长度至少为6个字符"));else{if(16===t.length)return a(new Error("密码长度已达上限"));""!==this.registerForm.checkPass&&this.$refs.registerForm.validateField("checkPass"),this.pwdState=!0,a()}},a=(e,t,a)=>{if(""===t)a(new Error("请再次输入密码"));else{if(16===t.length)return a(new Error("密码长度已达上限"));t!==this.registerForm.pass?a(new Error("两次输入密码不一致!")):(this.pwdCheckState=!0,a())}};return{isRead:!1,centerDialogVisible:!1,usernameState:!1,pwdState:!1,pwdCheckState:!1,registerForm:{username:"",pass:"",checkPass:""},rules:{username:[{validator:e,trigger:"change"}],pass:[{validator:t,trigger:"change"}],checkPass:[{validator:a,trigger:"change"}]}}},methods:{submitForm:ce()((function(e){const t=new Date;this.$refs[e].validate((e=>{if(!e)return this.$message.error("请正确填写注册所需的账号信息"),console.log("error submit!!"),!1;this.isRead?(localStorage.setItem("username",this.registerForm.username),localStorage.setItem("password",this.registerForm.pass),localStorage.setItem("time",t.toLocaleDateString()),this.$message({message:"恭喜你，注册成功",type:"success"}),setTimeout(this.toLogin(),1e3)):this.$message({message:"请您确认已了解《社区指导原则》",type:"warning"})}))}),2e3),resetForm(e){this.$refs[e].resetFields(),this.isRead=!1},toLogin(){this.$router.push({path:"/login"})},toAgreement(){this.$router.push({path:"/agreement"})}},beforeRouteLeave(e,t,a){"/agreement"===e.path?t.meta.keepAlive=!0:t.meta.keepAlive=!1,a()}},Be=ze,Ze=(0,g.Z)(Be,Ve,Ae,!1,null,"2a75fe94",null),Oe=Ze.exports,Ge=function(){var e=this,t=e._self._c;return t("div",{staticClass:"agreementContainer"},[t("div",{staticClass:"agreementContent"},[t("div",{staticClass:"agreementHeader"},[t("el-page-header",{attrs:{content:"详情页面"},on:{back:e.goBack}})],1),t("h2",{staticClass:"agreementTitle"},[e._v("社区指导原则")]),t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",{staticClass:"encourage"},[e._v("鼓励")])]),t("div",[t("ol",{staticClass:"rules"},[t("li",[e._v("鼓励分享、互助和开放；")]),t("li",[e._v("鼓励宽容和理性地对待不同的看法、喜好和意见；")]),t("li",[e._v("鼓励尊重他人的隐私和个人空间；")]),t("li",[e._v("鼓励转载注明原作者及来源；")]),t("li",[e._v("鼓励精彩原创内容；")]),t("li",[e._v("鼓励明确、及时的资源分享和点评；")]),t("li",[e._v("鼓励有始有终的自发福利活动。")])])])]),t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",{staticClass:"warn"},[e._v("不提倡")])]),t("div",[t("ol",{staticClass:"rules"},[t("li",[e._v("针对种族、国家、民族、宗教、性别、年龄、地缘、性取向、生理特征的歧视和仇恨言论；")]),t("li",[e._v("不雅词句、人身攻击、故意骚扰和恶意使用；")]),t("li",[e._v("色情、激进时政、意识形态方面的话题；")]),t("li",[e._v("使用妨碍视觉与心灵的文字；")]),t("li",[e._v("不提倡情绪激动而心灵枯槁的内容；")]),t("li",[e._v("不提倡转载过期变质内容；")]),t("li",[e._v("不提倡不知所谓的长篇大论；")]),t("li",[e._v("不提倡调查贴、投票贴、签名贴。")])])])]),t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",{staticClass:"danger"},[e._v("禁止")])]),t("div",[t("a",{staticClass:"suggest"},[e._v("以下行为视情况直接删除、锁定或删除ID、批量删除而不予通知；")]),t("ol",{staticClass:"rules"},[t("li",[e._v("违反中国或 BanViewer 成员所在地法律法规的行为和内容（政策法规）；")]),t("li",[e._v("威胁他人或 BanViewer 成员自身的人身安全、法律安全的行为；")]),t("li",[e._v("对网站的运营安全有潜在威胁的内容。")])])])])],1)])},He=[],Ue={name:"Agreement",methods:{goBack(){this.$router.back()}}},We=Ue,Ye=(0,g.Z)(We,Ge,He,!1,null,"2b5898a6",null),Je=Ye.exports,Ke=function(){var e=this,t=e._self._c;return t("div",{staticClass:"profileContainer"},[t("div",{staticClass:"profileContent"},[t("el-container",[t("el-header",[t("div",{staticClass:"title"},[t("h2",[e._v("个人资料")])])]),t("el-container",[t("el-aside",{staticClass:"profileAside",attrs:{width:"300px"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?t("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t("div",{staticClass:"time"},[t("a",[e._v(e._s(this.time)+"加入")])])],1),t("el-main",{staticClass:"profileMain"},[t("el-form",{ref:"profileForm",staticClass:"profileForm",attrs:{model:e.profileForm,rules:e.rules,"status-icon":"","label-width":"100px"}},[t("el-form-item",{attrs:{label:"用户名",prop:"user"}},[t("el-input",{attrs:{placeholder:this.profileForm.username},model:{value:e.profileForm.username,callback:function(t){e.$set(e.profileForm,"username",t)},expression:"profileForm.username"}})],1),t("el-form-item",{attrs:{label:"email",prop:"email"}},[t("el-input",{attrs:{placeholder:this.profileForm.email},model:{value:e.profileForm.email,callback:function(t){e.$set(e.profileForm,"email",t)},expression:"profileForm.email"}})],1),t("el-form-item",{attrs:{label:"性别",prop:"gender"}},[t("el-radio",{attrs:{label:"male"},model:{value:e.profileForm.gender,callback:function(t){e.$set(e.profileForm,"gender",t)},expression:"profileForm.gender"}},[e._v("男")]),t("el-radio",{attrs:{label:"female"},model:{value:e.profileForm.gender,callback:function(t){e.$set(e.profileForm,"gender",t)},expression:"profileForm.gender"}},[e._v("女")]),t("el-radio",{attrs:{label:"secret"},model:{value:e.profileForm.gender,callback:function(t){e.$set(e.profileForm,"gender",t)},expression:"profileForm.gender"}},[e._v("保密")])],1),t("el-form-item",{attrs:{label:"年龄",prop:"age"}},[t("el-input",{attrs:{placeholder:this.profileForm.age},model:{value:e.profileForm.age,callback:function(t){e.$set(e.profileForm,"age",e._n(t))},expression:"profileForm.age"}})],1),t("el-form-item",{attrs:{label:"生日",prop:"birth"}},[t("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.profileForm.birth,callback:function(t){e.$set(e.profileForm,"birth",t)},expression:"profileForm.birth"}})],1),t("el-form-item",{attrs:{label:"我的签名",prop:"sgin"}},[t("el-input",{attrs:{type:"textarea",rows:4,placeholder:this.profileForm.sgin?this.profileForm.sgin:"请输入内容"},model:{value:e.profileForm.sgin,callback:function(t){e.$set(e.profileForm,"sgin",t)},expression:"profileForm.sgin"}})],1),t("el-form-item",{attrs:{label:"国家",prop:"country"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.profileForm.country,callback:function(t){e.$set(e.profileForm,"country",t)},expression:"profileForm.country"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"密码",prop:"pwd"}},[t("el-link",{staticClass:"changepwd",attrs:{type:"primary",underline:!1},on:{click:function(t){e.dialogVisible=!0}}},[e._v("修改密码")])],1),t("el-form-item",[t("el-button",{staticStyle:{borderRadius:"0.5rem",width:"52%"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.submitForm("profileForm")}}},[e._v("保存修改")]),t("el-button",{staticClass:"logout",attrs:{icon:"el-icon-circle-close",type:"danger",plain:""},on:{click:e.logout}},[e._v("退出登录")])],1)],1)],1)],1)],1),t("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"30%",modal:"",center:"","append-to-body":!0},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-form",{ref:"changepwdForm",staticClass:"changepwdForm",attrs:{model:e.changepwdForm,rules:e.pwdrules,"status-icon":"","label-width":"100px"}},[t("el-form-item",{attrs:{label:"旧密码",prop:"password"}},[t("el-input",{attrs:{"show-password":""},model:{value:e.changepwdForm.password,callback:function(t){e.$set(e.changepwdForm,"password",t)},expression:"changepwdForm.password"}})],1),t("el-form-item",{attrs:{label:"新密码",prop:"newpwd"}},[t("el-input",{attrs:{"show-password":""},model:{value:e.changepwdForm.newpwd,callback:function(t){e.$set(e.changepwdForm,"newpwd",t)},expression:"changepwdForm.newpwd"}})],1),t("el-form-item",{attrs:{label:"确认新密码",prop:"checkNewpwd"}},[t("el-input",{attrs:{"show-password":""},model:{value:e.changepwdForm.checkNewpwd,callback:function(t){e.$set(e.changepwdForm,"checkNewpwd",t)},expression:"changepwdForm.checkNewpwd"}})],1),t("el-form-item",[t("el-button",{staticStyle:{width:"80%"},attrs:{type:"primary"},on:{click:function(t){return e.changePassword("changepwdForm")}}},[e._v("确认修改")])],1)],1)],1)],1)])},Qe=[],Xe={name:"Profile",data(){var e=(e,t,a)=>{setTimeout((()=>{!Number.isInteger(t)&&t?a(new Error("请输入数字值")):t<0||t>150?a(new Error("请输入正确年龄")):a()}),1e3)},t=(e,t,a)=>{t||a(new Error("请输入原密码")),t!==this.password&&t?a(new Error("原密码不正确，请重试")):a()},a=(e,t,a)=>{if(""===t)a(new Error("请输入密码"));else if(t.length<6)a(new Error("密码长度至少为6个字符"));else if(t===this.changepwdForm.password)a(new Error("与旧密码一样"));else{if(16===t.length)return a(new Error("密码长度已达上限"));""!==this.changepwdForm.checkNewpwd&&this.$refs.changepwdForm.validateField("checkNewpwd"),this.pwdState=!0,a()}},s=(e,t,a)=>{if(""===t)a(new Error("请再次输入密码"));else{if(16===t.length)return a(new Error("密码长度已达上限"));t!==this.changepwdForm.newpwd?a(new Error("两次输入密码不一致!")):a()}};return{imageUrl:"",password:0,time:"",value:"",dialogVisible:!1,newpwd:"",checkpwd:"",profileForm:{username:"",age:"",email:"",birth:"",gender:"",sgin:"",country:""},rules:{age:[{validator:e,trigger:"blur"}],email:[{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}]},changepwdForm:{password:"",newpwd:"",checkNewpwd:""},pwdrules:{password:[{validator:t,trigger:"blur"}],newpwd:[{validator:a,trigger:"blur"}],checkNewpwd:[{validator:s,trigger:"change"}]},options:[{value:"America",label:"美国"},{value:"Brazil",label:"巴西"},{value:"Canada",label:"加拿大"},{value:"China",label:"中国"},{value:"Egypt",label:"埃及"},{value:"England",label:"英国"},{value:"Finland",label:"芬兰"},{value:"France",label:"法国"},{value:"Germany",label:"德国"},{value:"India",label:"印度"},{value:"Italy",label:"意大利"},{value:"Iran",label:"伊朗"},{value:"Japan",label:"日本"},{value:"Norway",label:"挪威"},{value:"Russia",label:"俄罗斯"},{value:"South Korea",label:"韩国"},{value:"Spain",label:"西班牙"},{value:"Sweden",label:"瑞典"},{value:"Vietnam",label:"越南"}]}},methods:{handleAvatarSuccess(e,t){this.imageUrl=URL.createObjectURL(t.raw)},beforeAvatarUpload(e){const t="image/jpeg"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a},submitForm(e){this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),!1;localStorage.setItem("username",this.profileForm.username),localStorage.setItem("birth",this.profileForm.birth),localStorage.setItem("email",this.profileForm.email),localStorage.setItem("sgin",this.profileForm.sgin),localStorage.setItem("gender",this.profileForm.gender),this.$message({message:"资料修改成功",type:"success"})}))},changePassword(e){this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),!1;localStorage.setItem("password",this.changepwdForm.newpwd),this.$message({message:"修改成功",type:"success"}),this.dialogVisible=!1}))},logout(){this.$message({message:"您已退出登录",type:"success"}),localStorage.setItem("isLogin",!1),this.$router.replace({path:"home"})}},created(){this.password=localStorage.getItem("password"),this.time=localStorage.getItem("time"),this.profileForm.username=localStorage.getItem("username"),this.profileForm.age=localStorage.getItem("age"),this.profileForm.birth=localStorage.getItem("birth"),this.profileForm.gender=localStorage.getItem("gender"),this.profileForm.email=localStorage.getItem("email"),this.profileForm.sgin=localStorage.getItem("sgin"),this.profileForm.country=localStorage.getItem("country")}},et=Xe,tt=(0,g.Z)(et,Ke,Qe,!1,null,"44ec4b0f",null),at=tt.exports,st=function(){var e=this,t=e._self._c;return t("div",{staticClass:"rankingContainer"},[e.isloading?t("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"loading",attrs:{"element-loading-text":"正在加载中...请稍候"}}):this.apiError?t("div",{staticClass:"loading"},[t("el-alert",{staticStyle:{marginTop:"5rem"},attrs:{title:"加载错误...请稍后再试",type:"error",description:"错误代码："+this.errorMsg,"show-icon":""}})],1):e._e(),t("div",{staticClass:"rankingContent"},[t("el-container",[t("el-header",[e.isloading?e._e():t("div",{staticClass:"rankingHeader"},[t("a",[e._v("排行榜")])])]),t("el-container",[e.isloading?e._e():t("el-aside",{attrs:{width:"230px"}},[t("a",{staticClass:"datePickerTitle"},[e._v("时间")]),t("div",{staticClass:"datePicker"},[t("el-date-picker",{attrs:{type:"date",placeholder:"起始日期","value-format":"yyyy-MM-dd",size:"small"},model:{value:e.datePickStart,callback:function(t){e.datePickStart=t},expression:"datePickStart"}}),t("el-date-picker",{attrs:{type:"date",placeholder:"终止日期","value-format":"yyyy-MM-dd",size:"small"},model:{value:e.datePickEnd,callback:function(t){e.datePickEnd=t},expression:"datePickEnd"}}),t("el-button",{staticClass:"submitBtn",staticStyle:{width:"60%"},attrs:{type:"primary",icon:"el-icon-search",round:""},on:{click:e.datePickBtn}},[e._v("确认搜索")])],1)]),this.rankingTotal||e.isloading?t("el-main",{staticClass:"rankingMain"},[e._l(e.rankingItems,(function(e){return t("SearchCard",{key:e.id,attrs:{id:e.id,date:e.date,img:e.image,name:e.name,nameCN:e.name_cn,rank:e.rank,score:e.score,tags:e.tags,type:e.type}})})),e.rankingTotal?t("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":10,total:this.rankingTotal,"current-page":this.currentPage},on:{"current-change":e.handleCurrentChange}}):e._e()],2):t("el-main",{staticClass:"rankingMain"},[t("div",{staticClass:"nonePick"},[t("i",{staticClass:"el-icon-s-promotion"}),t("div",{staticClass:"nonePickContant"},[t("a",{staticStyle:{lineHeight:"1.8"}},[e._v("该日期范围内暂无符合条件的作品哦，请换个范围试试")])])])])],1)],1)],1)])},it=[],rt={name:"Ranking",components:{SearchCard:le},data(){return{rankingItems:0,rankingTotal:0,currentPage:1,type:0,apiError:!1,errorMsg:"",isloading:!0,datePickStart:"",datePickEnd:"",datePick:"",searchdata:{sort:"rank",filter:{type:[2],air_date:[],rank:[">=1","<=50"]}}}},methods:{handleCurrentChange(e){this.currentPage=e,Y.Z.post("https://api.bgm.tv/v0/search/subjects?limit=10&offset="+10*(this.currentPage-1),this.searchdata).then((e=>{this.rankingItems=e.data.data,this.rankingTotal=e.data.total}),(e=>{this.apiError=!0,this.errorMsg=e.message,console.log(e.message)})),window.scrollTo({top:480,behavior:"smooth"})},datePickBtn:ce()((function(){this.datePickStart&&this.datePickEnd?(this.datePickStart=">="+this.datePickStart,this.datePickEnd="<"+this.datePickEnd,this.searchdata.filter.air_date[0]=this.datePickStart,this.searchdata.filter.air_date[1]=this.datePickEnd):this.datePickStart||this.datePickEnd?this.$message({message:"请正确选择起始日期哦",type:"warning"}):(this.searchdata.filter.air_date[0]=this.datePickStart,this.searchdata.filter.air_date[1]=this.datePickEnd),Y.Z.post("https://api.bgm.tv/v0/search/subjects?limit=10&offset=0",this.searchdata).then((e=>{this.rankingItems=e.data.data,this.rankingTotal=e.data.total}),(e=>{this.apiError=!0,this.errorMsg=e.message,console.log(e.message)}))}),2e3)},watch:{"$route.query.type":{handler:function(){location.reload()}}},created(){this.type=Number(this.$route.query.type),this.searchdata.filter.type[0]=Number(this.$route.query.type),Y.Z.post("https://api.bgm.tv/v0/search/subjects?limit=10&offset="+10*(this.currentPage-1),this.searchdata).then((e=>{this.rankingItems=e.data.data,this.rankingTotal=e.data.total;for(let t=0;t<this.rankingItems.length;t++)this.rankingItems[t].type=this.type;this.isloading=!1}),(e=>{this.apiError=!0,this.errorMsg=e.message,console.log(e.message)}))}},nt=rt,lt=(0,g.Z)(nt,st,it,!1,null,"c820cf1c",null),ot=lt.exports,ct=function(){var e=this,t=e._self._c;return t("div",{staticClass:"recentlyContainer"},[e.isloading?t("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"loading",attrs:{"element-loading-text":"正在加载中...请稍候"}}):this.apiError?t("div",{staticClass:"loading"},[t("el-alert",{staticStyle:{marginTop:"5rem"},attrs:{title:"加载错误...请稍后再试",type:"error",description:"错误代码："+this.errorMsg,"show-icon":""}})],1):t("div",{staticClass:"recentlyContent"},[t("el-container",[t("el-header",{staticClass:"recentlyHeader"},[e._v(" 近期新作 ")]),t("el-main",{staticClass:"recentlyMain"},[t("div",{staticClass:"MainContent"},[e._l(e.recentlyItems,(function(e){return t("SearchCard",{key:e.id,attrs:{id:e.id,date:e.date,img:e.image,name:e.name,nameCN:e.name_cn,rank:e.rank,score:e.score,tags:e.tags,type:e.type}})})),e.recentlyTotal?t("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":10,total:this.recentlyTotal,"current-page":this.currentPage},on:{"current-change":e.handleCurrentChange}}):e._e()],2)])],1)],1)])},mt=[],ht={name:"Recently",components:{SearchCard:le},data(){return{recentlyItems:0,recentlyTotal:0,currentPage:1,type:0,dateStart:"",dateEnd:"",apiError:!1,errorMsg:"",isloading:!0,searchdata:{sort:"rank",filter:{type:[2],air_date:[]}}}},methods:{objArraySort(e,t){let a=e.slice(0);return a.sort(((e,a)=>a[t]-e[t]))},getMonth(){let e=new Date;return e=this.$moment(e).format("YYYY-MM-DD"),e},getlastMonth(){let e=new Date,t=e.getDate(),a=new Date(e.getTime());a.setMonth(a.getMonth()),a.setDate(0);let s=a.getDate();return a.setDate(t>s?s:t),a=this.$moment(a).format("YYYY-MM-DD"),a},handleCurrentChange(e){this.currentPage=e,Y.Z.post("https://api.bgm.tv/v0/search/subjects?limit=10&offset="+10*(this.currentPage-1),this.searchdata).then((e=>{this.recentlyItems=e.data.data,this.recentlyTotal=e.data.total}),(e=>{this.apiError=!0,this.errorMsg=e.message,console.log(e.message)})),window.scrollTo({top:480,behavior:"smooth"})}},watch:{"$route.query.type":{handler:function(){location.reload()}}},created(){this.dateStart=">="+this.getlastMonth(),this.dateEnd="<"+this.getMonth(),this.searchdata.filter.air_date[0]=this.dateStart,this.searchdata.filter.air_date[1]=this.dateEnd,this.type=Number(this.$route.query.type),this.searchdata.filter.type[0]=Number(this.$route.query.type),Y.Z.post("https://api.bgm.tv/v0/search/subjects?limit=10&offset="+10*(this.currentPage-1),this.searchdata).then((e=>{this.recentlyItems=this.objArraySort(e.data.data,"score");for(let t=0;t<this.recentlyItems.length;t++)this.recentlyItems[t].type=this.type;this.recentlyTotal=e.data.total,this.isloading=!1}),(e=>{this.apiError=!0,this.errorMsg=e.message}))}},gt=ht,dt=(0,g.Z)(gt,ct,mt,!1,null,"5fa05ed6",null),ut=dt.exports,vt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"characterContainer"},[t("div",{staticClass:"characterContent"},[this.item.length==[]?t("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"loading",attrs:{"element-loading-text":"正在加载中...请稍候"}}):this.apiError?t("div",{staticClass:"loading"},[t("el-alert",{staticStyle:{marginTop:"5rem"},attrs:{title:"加载错误...请稍后再试",type:"error",description:"错误代码："+this.errorMsg,"show-icon":""}})],1):t("el-container",[t("el-header",{style:{marginTop:"2rem"}},[t("a",{staticClass:"title"},[e._v(e._s(this.name_cn?this.name_cn:e.item.name))])]),t("el-container",[t("el-aside",{staticClass:"characterAside",attrs:{width:"350px"}},[t("div",{staticClass:"platform"},[t("a",[e._v(e._s(e.item.platform))])]),t("div",{staticClass:"block imgContainer"},[t("el-image",{attrs:{src:e.item.images.medium,fit:"fill","preview-src-list":[e.item.images.large]}},[t("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[e._v(" 加载中 "),t("span",{staticClass:"dot"},[e._v("...")])])])],1),this.nickname.length>0?t("div",{staticClass:"nicknameContainer"},[t("div",{staticClass:"nicknameTitle"},[t("a",[e._v("别名")])]),t("el-table",{staticClass:"nicknameTable",attrs:{data:this.nickname,"show-header":!1,"cell-style":e.cellStyle,size:"small"}},[t("el-table-column",{attrs:{prop:"v",label:"value",width:"180"}})],1)],1):e._e(),t("el-table",{staticClass:"infoTable",attrs:{data:e.item.infobox,"show-header":!1,"cell-style":e.cellStyle,size:"small"}},[t("el-table-column",{attrs:{prop:"key",label:"key",width:"70"}}),t("el-table-column",{attrs:{prop:"value",label:"value",width:"180"}})],1)],1),t("el-main",{staticClass:"characterMain"},[t("el-card",{staticClass:"box-card summary",attrs:{shadow:"never"}},[e.item.summary?t("a",[e._v(e._s(e.item.summary))]):t("a",[e._v("暂无角色简介...")])])],1)],1)],1)],1)])},pt=[],ft={name:"Character",data(){return{item:[],characters:[],infoList:[],nickname:[],name_cn:"",apiError:!1,errorMsg:""}},methods:{cellStyle(){return"background-color: var(--secondary-background)"},handleTag(e){this.$router.push({path:"searchresult",query:{tagValue:e}})}},beforeCreate(){"Mobile"===this.$store.state.device&&this.$router.push({path:"mcharacter",query:{id:this.$route.query.id}})},created(){Y.Z.get(`https://api.bgm.tv/v0/characters/${this.$route.query.id}`).then((e=>{this.item=e.data;for(let t=0;t<this.item.infobox.length;t++){let e=null,a=null;"别名"===this.item.infobox[t].key&&(this.nickname=this.item.infobox[t].value,e=t),"简体中文名"===this.item.infobox[t].key&&(this.name_cn=this.item.infobox[t].value,a=t),delete this.item.infobox[e],delete this.item.infobox[a]}}),(e=>{this.apiError=!0,this.errorMsg=e.message,console.log(e.messgae)}))}},Ct=ft,_t=(0,g.Z)(Ct,vt,pt,!1,null,"7d13c30e",null),wt=_t.exports,kt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"personContainer"},[t("div",{staticClass:"personContent"},[this.item.length==[]?t("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"loading",attrs:{"element-loading-text":"正在加载中...请稍候"}}):this.apiError?t("div",{staticClass:"loading"},[t("el-alert",{staticStyle:{marginTop:"5rem"},attrs:{title:"加载错误...请稍后再试",type:"error",description:"错误代码："+this.errorMsg,"show-icon":""}})],1):t("el-container",[t("el-header",{style:{marginTop:"2rem"}},[t("a",{staticClass:"title"},[e._v(e._s(this.name_cn?this.name_cn:e.item.name))])]),t("el-container",[t("el-aside",{staticClass:"personAside",attrs:{width:"350px"}},[t("div",{staticClass:"platform"},[t("a",[e._v(e._s(e.item.platform))])]),t("div",{staticClass:"block imgContainer"},[t("el-image",{attrs:{src:e.item.images.medium,fit:"fill","preview-src-list":[e.item.images.large]}},[t("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[e._v(" 加载中 "),t("span",{staticClass:"dot"},[e._v("...")])])])],1),this.nickname.length>0?t("div",{staticClass:"nicknameContainer"},[t("div",{staticClass:"nicknameTitle"},[t("a",[e._v("别名")])]),t("el-table",{staticClass:"nicknameTable",attrs:{data:this.nickname,"show-header":!1,"cell-style":e.cellStyle,size:"small"}},[t("el-table-column",{attrs:{prop:"v",label:"value",width:"180"}})],1)],1):e._e(),t("el-table",{staticClass:"infoTable",attrs:{data:e.item.infobox,"show-header":!1,"cell-style":e.cellStyle,size:"small"}},[t("el-table-column",{attrs:{prop:"key",label:"key",width:"70"}}),t("el-table-column",{attrs:{prop:"value",label:"value",width:"180"}})],1)],1),t("el-main",{staticClass:"personMain"},[t("el-card",{staticClass:"box-card summary",attrs:{shadow:"never"}},[e.item.summary?t("a",[e._v(e._s(e.item.summary))]):t("a",[e._v("暂无角色简介...")])])],1)],1)],1)],1)])},yt=[],Tt={name:"Person",data(){return{item:[],infoList:[],nickname:[],name_cn:"",apiError:!1,errorMsg:""}},methods:{cellStyle(){return"background-color: var(--secondary-background)"},handleTag(e){this.$router.push({path:"searchresult",query:{tagValue:e}})}},beforeCreate(){"Mobile"===this.$store.state.device&&this.$router.push({path:"mperson",query:{actorId:this.$route.query.actorId}})},created(){Y.Z.get(`https://api.bgm.tv/v0/persons/${this.$route.query.actorId}`).then((e=>{this.item=e.data;for(let t=0;t<this.item.infobox.length;t++){let e=null,a=null;"别名"===this.item.infobox[t].key&&(this.nickname=this.item.infobox[t].value,e=t),"简体中文名"===this.item.infobox[t].key&&(this.name_cn=this.item.infobox[t].value,a=t),delete this.item.infobox[e],delete this.item.infobox[a]}}),(e=>{this.apiError=!0,this.errorMsg=e.message,console.log(e.messgae)}))}},bt=Tt,xt=(0,g.Z)(bt,kt,yt,!1,null,"108b8ece",null),St=xt.exports,Nt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"tagsContainer"},[t("div",{staticClass:"tagsContent"},[t("el-container",[t("el-header",{staticClass:"tagsHeader"},[e._v(" 热门标签 ")]),t("el-container",[t("el-main",{staticClass:"tagsMain"},[t("el-card",{staticClass:"tagsCard"},[t("a",{staticClass:"TagsTitle"},[t("i",{staticClass:"el-icon-collection-tag"}),e._v(" 动画标签")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,2)}}},[e._v("TV")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,2)}}},[e._v("剧场版")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,2)}}},[e._v("搞笑")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,2)}}},[e._v("原创")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,2)}}},[e._v("小说改")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,2)}}},[e._v("漫改")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,2)}}},[e._v("OVA")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,2)}}},[e._v("校园")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,2)}}},[e._v("治愈")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,2)}}},[e._v("热血")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,2)}}},[e._v("科幻")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,2)}}},[e._v("京阿尼")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,2)}}},[e._v("奇幻")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,2)}}},[e._v("游戏改")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,2)}}},[e._v("童年")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,2)}}},[e._v("日常")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,2)}}},[e._v("SUNRISE")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,2)}}},[e._v("BONES")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,2)}}},[e._v("萝卜")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,2)}}},[e._v("吉卜力")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,2)}}},[e._v("音乐")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,2)}}},[e._v("催泪")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,2)}}},[e._v("JUMP")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,2)}}},[e._v("Type-Moon")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,2)}}},[e._v("ufotable")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,2)}}},[e._v("宫崎骏")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,2)}}},[e._v("今敏")])],1),t("el-card",{staticClass:"tagsCard"},[t("a",{staticClass:"TagsTitle"},[t("i",{staticClass:"el-icon-collection-tag"}),e._v(" 音乐标签")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("OST")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("ED")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("OP")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("东方")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("Vocaloid")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("中国")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("古风")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("drama")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("single")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("动画")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("梶浦由记")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("EVA")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("OPED")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("μ's")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("CLANNAD")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("电子")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("治愈")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("童年")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("Punk")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("Rock")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("久石让")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("坂本龙一")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("Billboard")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("Pop")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("Sony")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("广播剧")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("插入曲")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("key")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("神曲")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("音乐")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("专辑")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("KTV")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("摇滚")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("主题曲")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("2016")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,3)}}},[e._v("原声")])],1),t("el-card",{staticClass:"tagsCard"},[t("a",{staticClass:"TagsTitle"},[t("i",{staticClass:"el-icon-collection-tag"}),e._v(" 漫画标签")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,1)}}},[e._v("漫画")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,1)}}},[e._v("轻小说")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,1)}}},[e._v("校园")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,1)}}},[e._v("漫画系列")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,1)}}},[e._v("已完结")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,1)}}},[e._v("搞笑")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,1)}}},[e._v("奇幻")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,1)}}},[e._v("科幻")]),t("el-tag",{staticClass:"tag",on:{click:function(t){e.handleTag(t,1)}}},[e._v("集英社")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,1)}}},[e._v("奇幻")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,1)}}},[e._v("穿越")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,1)}}},[e._v("冒险")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,1)}}},[e._v("系列")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,1)}}},[e._v("校园")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,1)}}},[e._v("治愈")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,1)}}},[e._v("热血")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,1)}}},[e._v("单行本")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,1)}}},[e._v("童年")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,1)}}},[e._v("日常")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,1)}}},[e._v("中国")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,1)}}},[e._v("小学馆")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,1)}}},[e._v("悬疑")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,1)}}},[e._v("短篇")])],1),t("el-card",{staticClass:"tagsCard"},[t("a",{staticClass:"TagsTitle"},[t("i",{staticClass:"el-icon-collection-tag"}),e._v(" 游戏标签")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,4)}}},[e._v("PC")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,4)}}},[e._v("RPG")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,4)}}},[e._v("ACT")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,4)}}},[e._v("PSP")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,4)}}},[e._v("PS4")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,4)}}},[e._v("任天堂")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,4)}}},[e._v("FPS")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,4)}}},[e._v("Switch")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,4)}}},[e._v("科幻")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,4)}}},[e._v("热血")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,4)}}},[e._v("电波")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,4)}}},[e._v("悬疑")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,4)}}},[e._v("RTS")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,4)}}},[e._v("解谜")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,4)}}},[e._v("NS")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,4)}}},[e._v("IOS")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,4)}}},[e._v("3DS")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,4)}}},[e._v("Android")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,4)}}},[e._v("童年")]),t("el-tag",{staticClass:"tag",on:{click:function(t){return e.handleTag(t,4)}}},[e._v("GBA")])],1)],1),t("el-aside",{attrs:{width:"320px"}},[t("div",{staticClass:"TagSearch"},[t("div",{staticClass:"TagSearchHeader"},[t("div",{staticClass:"TagSearchTitle"},[t("a",[e._v("标签搜索")])])]),t("el-form",{ref:"TagForm",staticClass:"Tagform",attrs:{model:e.TagForm,rules:e.rules}},[t("el-form-item",{attrs:{label:"分类"}},[t("el-select",{model:{value:e.TagForm.type,callback:function(t){e.$set(e.TagForm,"type",t)},expression:"TagForm.type"}},[t("el-option",{attrs:{label:"动画",value:2}}),t("el-option",{attrs:{label:"音乐",value:3}}),t("el-option",{attrs:{label:"书籍",value:1}}),t("el-option",{attrs:{label:"游戏",value:4}})],1)],1),t("el-form-item",{attrs:{prop:"tag"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-search",size:"medium"},model:{value:e.TagForm.tag,callback:function(t){e.$set(e.TagForm,"tag",t)},expression:"TagForm.tag"}})],1),t("el-form-item",[t("el-button",{staticClass:"submitBtn",attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.submitForm("TagForm")}}},[e._v("搜索")])],1)],1)],1)])],1)],1)],1)])},Pt=[],$t={name:"Tags",data(){return{TagForm:{type:2,tag:""},rules:{tag:[{required:!0,message:"搜索标签不能为空",trigger:"blur"}]}}},methods:{handleTag(e,t){this.$router.push({path:"searchresult",query:{tagValue:e.target.innerText,type:t}})},submitForm(e){this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),!1;this.$router.push({path:"searchresult",query:{tagValue:this.TagForm.tag,type:this.TagForm.type}})}))}}},jt=$t,Ft=(0,g.Z)(jt,Nt,Pt,!1,null,"35542577",null),Mt=Ft.exports,Et=function(){var e=this,t=e._self._c;return t("div",{staticClass:"aboutContainer"},[t("div",{staticClass:"aboutContent"},[t("el-container",[t("el-header",[t("div",{staticClass:"aboutHeader"},[t("a",[e._v("关于页面")])])]),t("el-container",[t("el-main",{staticClass:"aboutMain"},[t("div",{staticClass:"MainContent",attrs:{shadow:"never"}},[t("h3",[e._v("关于")]),t("a",{staticStyle:{letterSpacing:"1px"}},[e._v("此站点为个人演示站点，内容来自bangumi")]),t("h4",[e._v("技术支持")]),t("el-link",{staticStyle:{maxWidth:"80px"},attrs:{type:"success",href:"https://vuejs.org/"}},[e._v("Vue")]),t("el-link",{staticStyle:{maxWidth:"80px"},attrs:{type:"primary",href:"https://element.faas.ele.me/"}},[e._v("element-ui")]),t("el-link",{staticStyle:{maxWidth:"80px"},attrs:{type:"danger",href:"https://bangumi.github.io/api/"}},[e._v("bangumi")]),t("a",{staticStyle:{fontSize:"0.9rem",color:"#263349"}},[e._v("and so on...")]),t("h3",[e._v("相关链接")]),t("el-link",{staticStyle:{maxWidth:"150px"},attrs:{type:"info",href:"https://github.com/nanogenji/"}},[e._v("在Github上查看该项目")])],1)])],1)],1)],1)])},It=[],Rt={name:"About"},qt=Rt,Dt=(0,g.Z)(qt,Et,It,!1,null,"1d8a3c65",null),Lt=Dt.exports,Vt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"mdetailContainer"},[this.item.length==[]?t("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"loading",attrs:{"element-loading-text":"正在加载中...请稍候"}}):this.apiError?t("div",{staticClass:"loading"},[t("el-alert",{staticStyle:{marginTop:"5rem"},attrs:{title:"加载错误...请稍后再试",type:"error",description:"错误代码："+this.errorMsg,"show-icon":""}})],1):t("div",{staticClass:"mdetailContent"},[t("div",{staticClass:"mdetailHeader"},[t("div",{staticClass:"imgContainer"},[t("el-image",{attrs:{src:e.item.images.common,fit:"fill","preview-src-list":[e.item.images.large]}},[t("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[e._v(" 加载中 "),t("span",{staticClass:"dot"},[e._v("...")])])])],1),t("div",{staticClass:"headerRight"},[t("div",{staticClass:"info"},[t("div",{staticClass:"titleCN"},[t("a",[e._v(e._s(e.item.name_cn?e.item.name_cn:e.item.name))])]),t("div",{staticClass:"title"},[t("a",[e._v(e._s(e.item.name?e.item.name:""))])]),t("div",{staticClass:"platform"},[t("a",[e._v(e._s(e.item.platform))])]),t("div",{staticClass:"title"},[t("a",[e._v(e._s(e.item.date))])])]),t("div",{staticClass:"score"},[t("a",[e._v(e._s(e.item.rating.score.toString()))])])])]),t("el-card",{staticClass:"rating"},[t("div",[t("a",[e._v("站内评分排名： "),t("a",[e._v(e._s(0===e.item.rating.rank?"暂无排名":e.item.rating.rank))])])]),t("el-rate",{attrs:{disabled:"","show-score":"","text-color":"#ff9900",max:Number(10),"score-template":e.item.rating.score.toString()},model:{value:e.item.rating.score,callback:function(t){e.$set(e.item.rating,"score",t)},expression:"item.rating.score"}}),t("div",{staticClass:"collection"},[t("a",{staticStyle:{marginRight:"0.6rem"}},[e._v(e._s(e.item.collection.wish)+"想看")]),t("a",{staticStyle:{marginRight:"0.6rem"}},[e._v(e._s(e.item.collection.collect)+"看过")]),t("a",{staticStyle:{marginRight:"0.6rem"}},[e._v(e._s(e.item.collection.doing)+"在看")]),t("a",{staticStyle:{marginRight:"0.6rem"}},[e._v(e._s(e.item.collection.on_hold)+"搁置")]),t("a",{staticStyle:{marginRight:"0.6rem"}},[e._v(e._s(e.item.collection.dropped)+"抛弃")])])],1),t("div",{staticClass:"player"},[t("a",{staticClass:"playerTitle"},[e._v("播放源:")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.findShow,expression:"findShow"}],staticClass:"findplayer",attrs:{round:"",plain:"",size:"mini",loading:e.findPlayerLoading},on:{click:e.findPlayer}},[e._v("查找播放源")]),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.findShow,expression:"!findShow"}],staticClass:"playerResource"},[t("a",{directives:[{name:"show",rawName:"v-show",value:e.isbili,expression:"isbili"}],staticStyle:{marginRight:"0.3rem"},attrs:{href:e.bilisrc}},[t("img",{attrs:{src:a(6756)}})]),t("a",{directives:[{name:"show",rawName:"v-show",value:e.isacfun,expression:"isacfun"}],staticStyle:{marginRight:"0.3rem"},attrs:{href:e.acfunsrc}},[t("img",{attrs:{src:a(9261)}})]),t("a",{directives:[{name:"show",rawName:"v-show",value:e.iswetv,expression:"iswetv"}],staticStyle:{marginRight:"0.3rem"},attrs:{href:e.wetvsrc}},[t("img",{attrs:{src:a(6383)}})]),t("a",{directives:[{name:"show",rawName:"v-show",value:e.isiqiyi,expression:"isiqiyi"}],staticStyle:{marginRight:"0.3rem"},attrs:{href:e.iqiyisrc}},[t("img",{attrs:{src:a(4612)}})]),t("a",{directives:[{name:"show",rawName:"v-show",value:e.isyouku,expression:"isyouku"}],staticStyle:{marginRight:"0.3rem"},attrs:{href:e.youkusrc}},[t("img",{attrs:{src:a(8030)}})])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.notfound,expression:"notfound"}],staticClass:"notfound"},[t("a",[e._v("未找到播放源")])])],1),t("el-card",{staticClass:"summary"},[e.item.summary?t("a",{staticStyle:{padding:"1rem 1.1rem 1rem 1.1rem",display:"block"}},[e._v(e._s(e.sliceStr))]):t("a",[e._v("暂无剧集简介...")]),e.textToggleBtn?t("el-button",{staticClass:"Toggle",attrs:{size:"mini",type:"text"},on:{click:e.textToggle}},[e._v(" "+e._s(e.isTextToggle?"收起":"展开")+" "),t("i",{staticClass:"el-icon--right",class:e.isTextToggle?"el-icon-arrow-up":"el-icon-arrow-down"})]):e._e()],1),t("el-card",{staticClass:"tagContainer"},[e.item.tags.length>0?t("a",{staticClass:"tagTitle"},[e._v("大家把"+e._s(e.item.name_cn?e.item.name_cn:e.item.name)+"标注为：")]):t("a",{staticClass:"tagTitle"},[e._v("该作品还没有标签")]),e._l(e.sliceTag,(function(a){return t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(a.name),expression:"(event)=>handleTag(tag.name)",arg:"tap"}],key:a.id,staticClass:"tag",attrs:{type:"info",size:"mini"}},[t("a",{staticClass:"tagName"},[e._v(e._s(a.name))]),t("a",{staticClass:"tagCount"},[e._v(e._s(a.count))])])})),e.tagToggleBtn?t("el-button",{staticClass:"Toggle",attrs:{size:"mini",type:"text"},on:{click:e.tagToggle}},[e._v(" "+e._s(e.isTagToggle?"收起":"展开")+" "),t("i",{staticClass:"el-icon--right",class:e.isTagToggle?"el-icon-arrow-up":"el-icon-arrow-down"})]):e._e()],2),t("el-card",{staticClass:"charactersContainer"},[t("a",{staticClass:"charactersTitle"},[e._v("角色介绍")]),e.characters.length>0?t("div",{staticClass:"charactersContent"},[e._l(e.sliceCha,(function(e){return t("CharacterCard",{key:e.id,attrs:{id:e.id,actor:e.actors[0]?e.actors[0].name:"",actorId:e.actors[0]?e.actors[0].id:0,img:e.images.grid,name:e.name,relation:e.relation}})})),e.chaToggleBtn?t("el-button",{staticClass:"Toggle",attrs:{size:"mini",type:"text"},on:{click:e.chaToggle}},[e._v(" "+e._s(e.isChaToggle?"收起":"展开")+" "),t("i",{staticClass:"el-icon--right",class:e.isChaToggle?"el-icon-arrow-up":"el-icon-arrow-down"})]):e._e()],2):t("div",{staticClass:"charactersContent"},[e._v(" 暂无相关角色信息 ")])])],1)])},At=[],zt={name:"mDetail",data(){return{item:[],characters:[],infoList:[],apiError:!1,errorMsg:"",isDark:!1,findPlayerLoading:!1,notfound:!1,findShow:!0,isbili:!1,isacfun:!1,iswetv:!1,isiqiyi:!1,isyouku:!1,bilisrc:"",acfunsrc:"",wetvsrc:"",iqiyisrc:"",youkusrc:"",isTextToggle:!1,textToggleBtn:!1,textMax:120,isTagToggle:!1,tagToggleBtn:!1,tagMax:8,isChaToggle:!1,chaToggleBtn:!1,chaMax:8}},components:{CharacterCard:U},methods:{findPlayer(){this.findPlayerLoading=!0,Y.Z.get(`https://cdn.jsdelivr.net/gh/ekibot/bangumi-onair/onair/${Math.floor(this.item.id/1e3)}/${this.item.id}.json`).then((e=>{this.findPlayerLoading=!1,console.log(e.data),this.findShow=!1;for(let t=0;t<e.data.sites.length;t++)if("iqiyi"===e.data.sites[t].site){this.isiqiyi=!0;for(let t=0;t<e.data.eps[0].sites.length;t++)"iqiyi"===e.data.eps[0].sites[t].site&&(this.iqiyisrc=e.data.eps[0].sites[t].url)}else if("qq"===e.data.sites[t].site){this.iswetv=!0;for(let t=0;t<e.data.eps[0].sites.length;t++)"qq"===e.data.eps[0].sites[t].site&&(this.wetvsrc=e.data.eps[0].sites[t].url)}else if("youku"===e.data.sites[t].site){this.isyouku=!0;for(let t=0;t<e.data.eps[0].sites.length;t++)"youku"===e.data.eps[0].sites[t].site&&(this.youkusrc=e.data.eps[0].sites[t].url)}else if("bilibili"===e.data.sites[t].site){this.isbili=!0;for(let t=0;t<e.data.eps[0].sites.length;t++)"bilibili"===e.data.eps[0].sites[t].site&&(this.bilisrc=e.data.eps[0].sites[t].url)}else if("acfun"===e.data.sites[t].site){this.isacfun=!0;for(let t=0;t<e.data.eps[0].sites.length;t++)"acfun"===e.data.eps[0].sites[t].site&&(this.acfunsrc=e.data.eps[0].sites[t].url)}}),(e=>{this.findPlayerLoading=!1,this.findShow=!1,this.notfound=!0,console.log(e.message)}))},cellStyle(){return"background-color: var(--secondary-background)"},handleTag(e){this.$router.push({path:"msearchresult",query:{tagValue:e}})},textToggle(){this.isTextToggle=!this.isTextToggle,!1===this.isTextToggle?this.textMax=120:this.textMax=99999},tagToggle(){this.isTagToggle=!this.isTagToggle,!1===this.isTagToggle?this.tagMax=8:this.tagMax=99999},chaToggle(){this.isChaToggle=!this.isChaToggle,!1===this.isChaToggle?this.chaMax=8:this.chaMax=99999}},computed:{sliceStr(){return""===this.item.summary||void 0===this.item.summary?this.item.summary:this.item.summary.length>this.textMax?this.item.summary.substring(0,this.textMax)+"...":this.item.summary},sliceTag(){return""===this.item.tags||void 0===this.item.tags?this.item.tags:this.item.tags.length>this.tagMax?this.item.tags.slice(0,this.tagMax):this.item.tags},sliceCha(){return""===this.characters||void 0===this.characters?this.characters:this.characters.length>this.chaMax?this.characters.slice(0,this.chaMax):this.characters}},beforeCreate(){"PC"===this.$store.state.device&&this.$router.push({path:"detail",query:{id:this.$route.query.id}})},created(){this.isDark=JSON.parse(localStorage.getItem("isDark")),Y.Z.get(`https://api.bgm.tv/v0/subjects/${this.$route.query.id}`).then((e=>{this.item=e.data,console.log(this.item);for(let t=0;t<this.item.infobox.length;t++)"object"===typeof this.item.infobox[t].value&&(this.item.infobox[t].value=this.item.name?this.item.name:"无");for(let t=0;t<this.item.tags.length;t++)this.item.tags[t].id=(0,W.x0)(8);this.item.summary.length>this.textMax&&(this.textToggleBtn=!0),this.item.tags.length>this.tagMax&&(this.tagToggleBtn=!0)}),(e=>{this.apiError=!0,this.errorMsg=e.message,console.log(e.messgae)})),Y.Z.get(`https://api.bgm.tv/v0/subjects/${this.$route.query.id}/characters`).then((e=>{this.characters=e.data,this.characters=this.characters.slice(0,42),this.characters.length>this.chaMax&&(this.chaToggleBtn=!0)}),(e=>{console.log(e.message)}))}},Bt=zt,Zt=(0,g.Z)(Bt,Vt,At,!1,null,"5fea28e4",null),Ot=Zt.exports,Gt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"msearchResultContainer"},[this.isloading?t("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"loading",attrs:{"element-loading-text":"正在加载中...请稍候"}}):this.apiError?t("div",{staticClass:"loading"},[t("el-alert",{staticStyle:{marginTop:"5rem"},attrs:{title:"加载错误...请稍后再试",type:"error",description:"错误代码："+this.errorMsg,"show-icon":""}})],1):t("div",{staticClass:"msearchResultContent"},[t("div",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:e.tomSearch,expression:"tomSearch",arg:"tap"}],staticClass:"fullSearch"},[e._v("更多搜索")]),e._l(e.searchResItems,(function(e){return t("mSearchCard",{key:e.id,attrs:{id:e.id,date:e.date,img:e.image,name:e.name,nameCN:e.name_cn,rank:e.rank,score:e.score,tags:e.tags}})})),e.searchResTotal?t("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":10,total:this.searchResTotal,"current-page":this.currentPage},on:{"current-change":e.handleCurrentChange}}):e._e()],2)])},Ht=[],Ut=function(){var e=this,t=e._self._c;return t("div",{staticClass:"searchCardContainer"},[t("el-container",[t("el-aside",{staticClass:"searchResAside",attrs:{width:"120px"}},[t("div",{staticClass:"imgContainer"},[t("el-image",{staticClass:"img",staticStyle:{width:"90px",height:"125px"},attrs:{src:e.img,"preview-src-list":[e.img],fit:"fill"}})],1)]),t("el-main",{staticClass:"searchResMain"},[t("div",{staticClass:"MainHeader"},[t("div",{staticClass:"titleContainer",on:{click:e.toDetail}},[t("a",{staticClass:"titleCN"},[e._v(e._s(e.nameCN.length?e.nameCN:e.name))])]),t("el-tag",{attrs:{type:"warning",effect:"light"}},[t("a",[e._v(e._s(e.rank?"排名 "+e.rank:"暂无排名"))])])],1),t("div",{staticClass:"date"},[t("a",[e._v("放映时间："+e._s(e.date))])]),t("div",{staticClass:"tags"},e._l(e.itemtags,(function(a){return t("el-tag",{key:a.id,staticClass:"tag",attrs:{type:"info",effect:"plain",size:"small"},on:{click:function(t){return e.handleTag(a.name)}}},[e._v(e._s(a.name))])})),1),t("div",{staticClass:"score"},[t("el-rate",{attrs:{disabled:"","show-score":"","text-color":"#ff9900",max:Number(5),"score-template":(2*e.itemScore).toString()},model:{value:e.itemScore,callback:function(t){e.itemScore=t},expression:"itemScore"}})],1)])],1)],1)},Wt=[],Yt={name:"mSearchCard",data(){return{itemtags:[],searchdata:{keyword:"string",sort:"rank",filter:{type:[2],tag:["s"]}}}},props:{id:Number,date:String,img:String,name:String,nameCN:String,rank:Number,score:Number,tags:Array,type:Number},computed:{itemScore:{get(){return this.score?Number(this.score)/2:0},set(e){return e}}},methods:{toDetail(){this.$router.push({path:"mdetail",query:{id:this.id}})},handleTag(e){this.searchdata.filter.tag[0]=e,"/searchresult"!==this.$route.path?this.$router.push({path:"searchresult",query:{tagValue:e,type:this.type}}):this.$store.dispatch("getTag",this.searchdata.filter.tag[0])}},created(){this.itemtags=this.tags.slice(0,3)}},Jt=Yt,Kt=(0,g.Z)(Jt,Ut,Wt,!1,null,"205bf42b",null),Qt=Kt.exports,Xt={name:"mSearchResult",components:{mSearchCard:Qt},data(){return{searchResItems:0,searchResTotal:0,currentPage:1,isloading:!0,apiError:!1,errorMsg:"",datePickStart:"",datePickEnd:"",searchdata:{keyword:"string",sort:"rank",filter:{type:[2],tag:[],air_date:[]}}}},methods:{tomSearch(){this.$router.push({path:"/msearch"})},handleCurrentChange(e){this.currentPage=e,Y.Z.post("https://api.bgm.tv/v0/search/subjects?limit=10&offset="+10*(this.currentPage-1),this.searchdata).then((e=>{this.searchResItems=e.data.data,this.searchResTotal=e.data.total,this.isloading=!1}),(e=>{this.apiError=!0,this.errorMsg=e.message,console.log(e.message)})),window.scrollTo({top:280,behavior:"smooth"})}},watch:{"$route.query.inputValue":{handler:function(){location.reload()},deep:!0},"$store.state.tag":{handler(e){this.searchdata.filter.tag[0]=e,this.searchdata.keyword=void 0,Y.Z.post("https://api.bgm.tv/v0/search/subjects?limit=10&offset="+10*(this.currentPage-1),this.searchdata).then((e=>{this.searchResItems=e.data.data,this.searchResTotal=e.data.total,this.isloading=!1}),(e=>{this.apiError=!0,this.errorMsg=e.message,console.log(e.message)})),window.scrollTo({top:280,behavior:"smooth"})}}},created(){this.searchdata.keyword=this.$route.query.inputValue,this.$route.query.tagValue&&(this.searchdata.filter.tag[0]=this.$route.query.tagValue),this.$route.query.type&&(this.searchdata.filter.type[0]=Number(this.$route.query.type)),this.$route.query.dateStart&&this.$route.query.dateEnd&&(this.searchdata.filter.air_date[0]=this.$route.query.dateStart,this.searchdata.filter.air_date[1]=this.$route.query.dateEnd,console.log(this.$route.query.dateStart,this.$route.query.dateEnd)),Y.Z.post("https://api.bgm.tv/v0/search/subjects?limit=10&offset="+10*(this.currentPage-1),this.searchdata).then((e=>{this.searchResItems=e.data.data,this.searchResTotal=e.data.total,this.isloading=!1}),(e=>{this.apiError=!0,this.errorMsg=e.message,console.log(e.message)}))}},ea=Xt,ta=(0,g.Z)(ea,Gt,Ht,!1,null,"86549f9c",null),aa=ta.exports,sa=function(){var e=this,t=e._self._c;return t("div",{staticClass:"mRankingContainer"},[this.rankingItems.length==[]?t("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"loading",attrs:{"element-loading-text":"正在加载中...请稍候"}}):this.apiError?t("div",{staticClass:"loading"},[t("el-alert",{staticStyle:{marginTop:"5rem"},attrs:{title:"加载错误...请稍后再试",type:"error",description:"错误代码："+this.errorMsg,"show-icon":""}})],1):t("div",{staticClass:"mRankingContent"},[e._l(e.rankingItems,(function(e){return t("mSearchCard",{key:e.id,attrs:{id:e.id,date:e.date,img:e.image,name:e.name,nameCN:e.name_cn,rank:e.rank,score:e.score,tags:e.tags,type:e.type}})})),e.rankingTotal?t("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":10,total:this.rankingTotal,"current-page":this.currentPage},on:{"current-change":e.handleCurrentChange}}):e._e()],2)])},ia=[],ra={name:"mRanking",components:{mSearchCard:Qt},data(){return{rankingItems:0,rankingTotal:0,currentPage:1,type:0,apiError:!1,errorMsg:"",isloading:!0,datePickStart:"",datePickEnd:"",datePick:"",searchdata:{sort:"rank",filter:{type:[2],air_date:[],rank:[">=1","<=50"]}}}},methods:{handleCurrentChange(e){this.currentPage=e,Y.Z.post("https://api.bgm.tv/v0/search/subjects?limit=10&offset="+10*(this.currentPage-1),this.searchdata).then((e=>{this.rankingItems=e.data.data,this.rankingTotal=e.data.total}),(e=>{this.apiError=!0,this.errorMsg=e.message,console.log(e.message)})),window.scrollTo({top:480,behavior:"smooth"})}},watch:{"$route.query.type":{handler:function(){location.reload()}}},created(){this.type=Number(this.$route.query.type),this.searchdata.filter.type[0]=Number(this.$route.query.type),Y.Z.post("https://api.bgm.tv/v0/search/subjects?limit=10&offset="+10*(this.currentPage-1),this.searchdata).then((e=>{this.rankingItems=e.data.data,this.rankingTotal=e.data.total;for(let t=0;t<this.rankingItems.length;t++)this.rankingItems[t].type=this.type;this.isloading=!1}),(e=>{this.apiError=!0,this.errorMsg=e.message,console.log(e.message)}))}},na=ra,la=(0,g.Z)(na,sa,ia,!1,null,"448f0b67",null),oa=la.exports,ca=function(){var e=this,t=e._self._c;return t("div",{staticClass:"tagsContainer"},[t("div",{staticClass:"tagsContent"},[t("el-card",{staticClass:"tagsCard"},[t("a",{staticClass:"TagsTitle"},[t("i",{staticClass:"el-icon-collection-tag"}),e._v(" 动画标签")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,2),expression:"(evnet)=> handleTag(evnet,2)",arg:"tap"}],staticClass:"tag"},[e._v("TV")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,2),expression:"(evnet)=> handleTag(evnet,2)",arg:"tap"}],staticClass:"tag"},[e._v("剧场版")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[e._v("搞笑")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[e._v("原创")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[e._v("小说改")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[e._v("漫改")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[e._v("OVA")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[e._v("校园")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[e._v("治愈")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[e._v("热血")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[e._v("科幻")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[e._v("京阿尼")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[e._v("奇幻")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[e._v("游戏改")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[e._v("童年")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[e._v("日常")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[e._v("SUNRISE")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[e._v("BONES")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[e._v("萝卜")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[e._v("吉卜力")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[e._v("音乐")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[e._v("催泪")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[e._v("JUMP")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[e._v("Type-Moon")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[e._v("ufotable")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[e._v("宫崎骏")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,2),expression:"(event)=> handleTag(event,2)",arg:"tap"}],staticClass:"tag"},[e._v("今敏")])],1),t("el-card",{staticClass:"tagsCard"},[t("a",{staticClass:"TagsTitle"},[t("i",{staticClass:"el-icon-collection-tag"}),e._v(" 音乐标签")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("OST")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("ED")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("OP")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("东方")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("Vocaloid")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("中国")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("古风")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("drama")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("single")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("动画")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("梶浦由记")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("EVA")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("OPED")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("μ's")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("CLANNAD")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("电子")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("治愈")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("童年")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("Punk")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("Rock")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("久石让")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("坂本龙一")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("Billboard")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("Pop")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("Sony")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("广播剧")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("插入曲")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("key")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("神曲")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("音乐")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("专辑")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("KTV")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("摇滚")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("主题曲")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("2016")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,3),expression:"(event)=> handleTag(event,3)",arg:"tap"}],staticClass:"tag"},[e._v("原声")])],1),t("el-card",{staticClass:"tagsCard"},[t("a",{staticClass:"TagsTitle"},[t("i",{staticClass:"el-icon-collection-tag"}),e._v(" 漫画标签")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[e._v("漫画")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[e._v("轻小说")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[e._v("校园")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[e._v("漫画系列")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[e._v("已完结")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[e._v("搞笑")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[e._v("奇幻")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[e._v("科幻")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[e._v("集英社")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[e._v("奇幻")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[e._v("穿越")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[e._v("冒险")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[e._v("系列")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[e._v("校园")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[e._v("治愈")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[e._v("热血")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[e._v("单行本")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[e._v("童年")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[e._v("日常")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[e._v("中国")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[e._v("小学馆")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[e._v("悬疑")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,1),expression:"(event)=> handleTag(event,1)",arg:"tap"}],staticClass:"tag"},[e._v("短篇")])],1),t("el-card",{staticClass:"tagsCard"},[t("a",{staticClass:"TagsTitle"},[t("i",{staticClass:"el-icon-collection-tag"}),e._v(" 游戏标签")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[e._v("PC")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[e._v("RPG")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[e._v("ACT")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[e._v("PSP")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[e._v("PS4")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[e._v("任天堂")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[e._v("FPS")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[e._v("Switch")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[e._v("科幻")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[e._v("热血")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[e._v("电波")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[e._v("悬疑")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[e._v("RTS")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[e._v("解谜")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[e._v("NS")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[e._v("IOS")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[e._v("3DS")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[e._v("Android")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[e._v("童年")]),t("el-tag",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.handleTag(t,4),expression:"(event)=> handleTag(event,4)",arg:"tap"}],staticClass:"tag"},[e._v("GBA")])],1)],1)])},ma=[],ha={name:"mTags",data(){return{TagForm:{type:2,tag:""},rules:{tag:[{required:!0,message:"搜索标签不能为空",trigger:"blur"}]}}},methods:{handleTag(e,t){this.$router.push({path:"msearchresult",query:{tagValue:e.target.innerText,type:t}})}}},ga=ha,da=(0,g.Z)(ga,ca,ma,!1,null,"4f3b1f90",null),ua=da.exports,va=function(){var e=this,t=e._self._c;return t("div",{staticClass:"mrecentlyContainer"},[e.isloading?t("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"loading",attrs:{"element-loading-text":"正在加载中...请稍候"}}):this.apiError?t("div",{staticClass:"loading"},[t("el-alert",{staticStyle:{marginTop:"5rem"},attrs:{title:"加载错误...请稍后再试",type:"error",description:"错误代码："+this.errorMsg,"show-icon":""}})],1):t("div",{staticClass:"mrecentlyContent"},[e._l(e.recentlyItems,(function(e){return t("mSearchCard",{key:e.id,attrs:{id:e.id,date:e.date,img:e.image,name:e.name,nameCN:e.name_cn,rank:e.rank,score:e.score,tags:e.tags,type:e.type}})})),e.recentlyTotal?t("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":10,total:this.recentlyTotal,"current-page":this.currentPage},on:{"current-change":e.handleCurrentChange}}):e._e()],2)])},pa=[],fa={name:"Recently",components:{mSearchCard:Qt},data(){return{recentlyItems:0,recentlyTotal:0,currentPage:1,type:0,dateStart:"",dateEnd:"",apiError:!1,errorMsg:"",isloading:!0,searchdata:{sort:"rank",filter:{type:[2],air_date:[]}}}},methods:{objArraySort(e,t){let a=e.slice(0);return a.sort(((e,a)=>a[t]-e[t]))},getMonth(){let e=new Date;return e=this.$moment(e).format("YYYY-MM-DD"),e},getlastMonth(){let e=new Date,t=e.getDate(),a=new Date(e.getTime());a.setMonth(a.getMonth()),a.setDate(0);let s=a.getDate();return a.setDate(t>s?s:t),a=this.$moment(a).format("YYYY-MM-DD"),a},handleCurrentChange(e){this.currentPage=e,Y.Z.post("https://api.bgm.tv/v0/search/subjects?limit=10&offset="+10*(this.currentPage-1),this.searchdata).then((e=>{this.recentlyItems=e.data.data,this.recentlyTotal=e.data.total}),(e=>{this.apiError=!0,this.errorMsg=e.message,console.log(e.message)})),window.scrollTo({top:480,behavior:"smooth"})}},watch:{"$route.query.type":{handler:function(){location.reload()}}},created(){this.dateStart=">="+this.getlastMonth(),this.dateEnd="<"+this.getMonth(),this.searchdata.filter.air_date[0]=this.dateStart,this.searchdata.filter.air_date[1]=this.dateEnd,this.type=Number(this.$route.query.type),this.searchdata.filter.type[0]=Number(this.$route.query.type),Y.Z.post("https://api.bgm.tv/v0/search/subjects?limit=10&offset="+10*(this.currentPage-1),this.searchdata).then((e=>{this.recentlyItems=this.objArraySort(e.data.data,"score");for(let t=0;t<this.recentlyItems.length;t++)this.recentlyItems[t].type=this.type;this.recentlyTotal=e.data.total,this.isloading=!1}),(e=>{this.apiError=!0,this.errorMsg=e.message}))}},Ca=fa,_a=(0,g.Z)(Ca,va,pa,!1,null,"2c0d1a28",null),wa=_a.exports,ka=function(){var e=this,t=e._self._c;return t("div",{staticClass:"mCharacterContainer"},[this.item.length==[]?t("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"loading",attrs:{"element-loading-text":"正在加载中...请稍候"}}):this.apiError?t("div",{staticClass:"loading"},[t("el-alert",{staticStyle:{marginTop:"5rem"},attrs:{title:"加载错误...请稍后再试",type:"error",description:"错误代码："+this.errorMsg,"show-icon":""}})],1):t("div",{staticClass:"mCharacterContent"},[t("div",{staticClass:"titleContainer"},[t("a",{staticClass:"titleCN"},[e._v(e._s(this.name_cn?this.name_cn:e.item.name))]),t("a",{staticClass:"title"},[e._v(e._s(this.name_cn?e.item.name:""))])]),t("div",{staticClass:"platform"},[t("a",[e._v(e._s(e.item.platform))])]),t("div",{staticClass:"imgContainer"},[t("el-image",{attrs:{src:e.item.images.medium,fit:"fill","preview-src-list":[e.item.images.large]}},[t("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[e._v(" 加载中 "),t("span",{staticClass:"dot"},[e._v("...")])])])],1),t("el-card",{staticClass:"summary",attrs:{shadow:"never"}},[e.item.summary?t("a",[e._v(e._s(e.item.summary))]):t("a",[e._v("暂无角色简介...")])]),this.nickname.length>0?t("div",{staticClass:"nicknameContainer"},[e._m(0),t("el-table",{staticClass:"nicknameTable",attrs:{data:this.nickname,"show-header":!1,"cell-style":e.cellStyle,size:"small"}},[t("el-table-column",{attrs:{prop:"v",label:"value",width:"180"}})],1)],1):e._e(),t("el-table",{staticClass:"infoTable",attrs:{data:e.item.infobox,"show-header":!1,"cell-style":e.cellStyle,size:"small"}},[t("el-table-column",{attrs:{prop:"key",label:"key",width:"70"}}),t("el-table-column",{attrs:{prop:"value",label:"value",width:"180"}})],1)],1)])},ya=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"nicknameTitle"},[t("a",[e._v("别名")])])}],Ta={name:"mCharacter",data(){return{item:[],characters:[],infoList:[],nickname:[],name_cn:"",apiError:!1,errorMsg:""}},methods:{cellStyle(){return"background-color: var(--secondary-background)"}},beforeCreate(){"PC"===this.$store.state.device&&this.$router.push({path:"character",query:{id:this.$route.query.id}})},created(){Y.Z.get(`https://api.bgm.tv/v0/characters/${this.$route.query.id}`).then((e=>{this.item=e.data;for(let t=0;t<this.item.infobox.length;t++){let e=null,a=null;"别名"===this.item.infobox[t].key&&(this.nickname=this.item.infobox[t].value,e=t),"简体中文名"===this.item.infobox[t].key&&(this.name_cn=this.item.infobox[t].value,a=t),delete this.item.infobox[e],delete this.item.infobox[a]}}),(e=>{this.apiError=!0,this.errorMsg=e.message,console.log(e.messgae)}))}},ba=Ta,xa=(0,g.Z)(ba,ka,ya,!1,null,"17f85dfe",null),Sa=xa.exports,Na=function(){var e=this,t=e._self._c;return t("div",{staticClass:"mPersonContainer"},[this.item.length==[]?t("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"loading",attrs:{"element-loading-text":"正在加载中...请稍候"}}):this.apiError?t("div",{staticClass:"loading"},[t("el-alert",{staticStyle:{marginTop:"5rem"},attrs:{title:"加载错误...请稍后再试",type:"error",description:"错误代码："+this.errorMsg,"show-icon":""}})],1):t("div",{staticClass:"mPersonContent"},[t("div",{staticClass:"titleContainer"},[t("a",{staticClass:"titleCN"},[e._v(e._s(this.name_cn?this.name_cn:e.item.name))]),t("a",{staticClass:"title"},[e._v(e._s(this.name_cn?e.item.name:""))])]),t("div",{staticClass:"platform"},[t("a",[e._v(e._s(e.item.platform))])]),t("div",{staticClass:"imgContainer"},[t("el-image",{attrs:{src:e.item.images.medium,fit:"fill","preview-src-list":[e.item.images.large]}},[t("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[e._v(" 加载中 "),t("span",{staticClass:"dot"},[e._v("...")])])])],1),t("el-card",{staticClass:"summary",attrs:{shadow:"never"}},[e.item.summary?t("a",[e._v(e._s(e.item.summary))]):t("a",[e._v("暂无角色简介...")])]),this.nickname.length>0?t("div",{staticClass:"nicknameContainer"},[e._m(0),t("el-table",{staticClass:"nicknameTable",attrs:{data:this.nickname,"show-header":!1,"cell-style":e.cellStyle,size:"small"}},[t("el-table-column",{attrs:{prop:"v",label:"value",width:"180"}})],1)],1):e._e(),t("el-table",{staticClass:"infoTable",attrs:{data:e.item.infobox,"show-header":!1,"cell-style":e.cellStyle,size:"small"}},[t("el-table-column",{attrs:{prop:"key",label:"key",width:"70"}}),t("el-table-column",{attrs:{prop:"value",label:"value",width:"180"}})],1)],1)])},Pa=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"nicknameTitle"},[t("a",[e._v("别名")])])}],$a={name:"mCharacter",data(){return{item:[],characters:[],infoList:[],nickname:[],name_cn:"",apiError:!1,errorMsg:""}},methods:{cellStyle(){return"background-color: var(--secondary-background)"}},beforeCreate(){"PC"===this.$store.state.device&&this.$router.push({path:"person",query:{actorId:this.$route.query.actorId}})},created(){Y.Z.get(`https://api.bgm.tv/v0/persons/${this.$route.query.actorId}`).then((e=>{this.item=e.data;for(let t=0;t<this.item.infobox.length;t++){let e=null,a=null;"别名"===this.item.infobox[t].key&&(this.nickname=this.item.infobox[t].value,e=t),"简体中文名"===this.item.infobox[t].key&&(this.name_cn=this.item.infobox[t].value,a=t),delete this.item.infobox[e],delete this.item.infobox[a]}}),(e=>{this.apiError=!0,this.errorMsg=e.message,console.log(e.messgae)}))}},ja=$a,Fa=(0,g.Z)(ja,Na,Pa,!1,null,"6a6db06f",null),Ma=Fa.exports,Ea=function(){var e=this,t=e._self._c;return t("div",{staticClass:"mSearchContainer"},[t("div",{staticClass:"mSearchContent"},[e._m(0),t("el-form",{ref:"TagForm",staticClass:"Tagform",attrs:{model:e.TagForm}},[t("el-form-item",[t("el-select",{staticClass:"type",attrs:{"popper-append-to-body":!1},model:{value:e.TagForm.type,callback:function(t){e.$set(e.TagForm,"type",t)},expression:"TagForm.type"}},[t("el-option",{attrs:{label:"动画",value:2}}),t("el-option",{attrs:{label:"音乐",value:3}}),t("el-option",{attrs:{label:"书籍",value:1}}),t("el-option",{attrs:{label:"游戏",value:4}})],1)],1),t("el-form-item",{staticClass:"datePicker"},[t("el-date-picker",{attrs:{type:"date",placeholder:"起始日期","value-format":"yyyy-MM-dd",size:"small"},model:{value:e.TagForm.datePickStart,callback:function(t){e.$set(e.TagForm,"datePickStart",t)},expression:"TagForm.datePickStart"}}),t("el-date-picker",{attrs:{type:"date",placeholder:"终止日期","value-format":"yyyy-MM-dd",size:"small"},model:{value:e.TagForm.datePickEnd,callback:function(t){e.$set(e.TagForm,"datePickEnd",t)},expression:"TagForm.datePickEnd"}})],1),t("el-form-item",{attrs:{prop:"tag"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-search",size:"medium"},model:{value:e.TagForm.tag,callback:function(t){e.$set(e.TagForm,"tag",t)},expression:"TagForm.tag"}})],1),t("el-form-item",[t("el-button",{directives:[{name:"hammer",rawName:"v-hammer:tap",value:t=>e.submitForm("TagForm"),expression:"(event)=> submitForm('TagForm')",arg:"tap"}],staticClass:"submitBtn",attrs:{type:"primary",size:"medium"}},[e._v("搜索")])],1)],1)],1)])},Ia=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"title"},[t("a",[e._v("搜索")])])}],Ra={name:"mSearch",data(){return{TagForm:{type:2,tag:"",datePickStart:"",datePickEnd:""}}},methods:{submitForm(e){var t="",a="",s=!0;this.TagForm.datePickStart&&this.TagForm.datePickEnd?">="===this.TagForm.datePickStart.substr(0,2)&&"<"===this.TagForm.datePickEnd.substr(0,1)?(t=this.TagForm.datePickStart,a=this.TagForm.datePickEnd):(this.TagForm.datePickStart=">="+this.TagForm.datePickStart,this.TagForm.datePickEnd="<"+this.TagForm.datePickEnd,t=this.TagForm.datePickStart,a=this.TagForm.datePickEnd):this.TagForm.datePickStart||this.TagForm.datePickEnd?(this.$message({message:"请正确选择起始日期哦",type:"warning"}),s=!1):(t=this.TagForm.datePickStart,a=this.TagForm.datePickEnd),this.$refs[e].validate((e=>{if(!e||!s)return console.log("error submit!!"),!1;this.$router.push({path:"msearchresult",query:{tagValue:this.TagForm.tag,type:this.TagForm.type,dateStart:t,dateEnd:a}})}))}}},qa=Ra,Da=(0,g.Z)(qa,Ea,Ia,!1,null,"6db2ec78",null),La=Da.exports,Va=new V.ZP({routes:[{path:"/detail",component:X,meta:{scrollToMain:!0}},{path:"/searchresult",component:de,meta:{scrollToMain:!0}},{path:"/home",component:Me,meta:{scrollToTop:!0}},{path:"/login",component:Le,meta:{scrollToMain:!0}},{path:"/register",component:Oe,meta:{scrollToMain:!0,keepAlive:!1}},{path:"/homeInfo",component:w},{path:"/ranking",component:ot,meta:{scrollToMain:!0}},{path:"/agreement",component:Je,meta:{scrollToMain:!0}},{path:"/profile",component:at,meta:{scrollToMain:!0}},{path:"/recently",component:ut,meta:{scrollToMain:!0}},{path:"/character",component:wt,meta:{scrollToMain:!0}},{path:"/person",component:St,meta:{scrollToMain:!0}},{path:"/tags",component:Mt,meta:{scrollToMain:!0}},{path:"/about",component:Lt,meta:{scrollToMain:!0}},{path:"/",redirect:"/home"},{path:"/mdetail",component:Ot,meta:{scrollToMobile:!0}},{path:"/msearchresult",component:aa,meta:{scrollToMobile:!0}},{path:"/mranking",component:oa,meta:{scrollToMobile:!0}},{path:"/mtags",component:ua,meta:{scrollToMobile:!0}},{path:"/mrecently",component:wa,meta:{scrollToMobile:!0}},{path:"/mcharacter",component:Sa,meta:{scrollToMobile:!0}},{path:"/mperson",component:Ma,meta:{scrollToMobile:!0}},{path:"/msearch",component:La,meta:{scrollToMobile:!0}}],scrollBehavior(e,t,a){if(a)return a;{const a={};return e.hash&&(a.selector=e.hash),e.matched.some((e=>e.meta.scrollToMain))&&e.path!==t.path&&(a.x=0,a.y=480,a.behavior="smooth"),e.matched.some((e=>e.meta.scrollToTop))&&e.path!==t.path&&(a.x=0,a.y=0,a.behavior="smooth"),e.matched.some((e=>e.meta.scrollToMobile))&&e.path!==t.path&&(a.x=0,a.y=280,a.behavior="smooth"),a}}});function Aa(){const e=localStorage.setItem;localStorage.setItem=function(t,a){const s=new Event("setItemEvent");s.key=t,s.value=a,window.dispatchEvent(s),e.apply(this,arguments)}}var za=a(629);s["default"].use(za.ZP);var Ba=new za.ZP.Store({state:{currentWeekNumber:0,tag:"",username:"",isDark:!1,device:"PC"},getters:{},mutations:{GET_WEEKNUMBER(e,t){e.currentWeekNumber=t},GET_TAG(e,t){e.tag=t},GET_USERNAME(e,t){e.username=t},GET_ISDARK(e){e.isDark=!e.isDark,localStorage.setItem("isDark",e.isDark)},GET_DIVICE(e,t){e.device="mobile"===t?"Mobile":"PC"}},actions:{getWeekNumber(e,t){e.commit("GET_WEEKNUMBER",t)},getTag(e,t){e.commit("GET_TAG",t)},getUsername(e){JSON.parse(localStorage.getItem("isLogin"))?e.commit("GET_USERNAME",localStorage.getItem("username")):e.commit("GET_USERNAME","")},getIsDark(e){e.commit("GET_ISDARK")},getDevice(e,t){e.commit("GET_DIVICE",t)}},modules:{}}),Za=a(963);s["default"].use(Za.A),s["default"].config.productionTip=!1,s["default"].use(q()),s["default"].use(V.ZP),s["default"].use(Aa),L().locale("en"),s["default"].prototype.$moment=L(),new s["default"]({render:e=>e(I),beforeCreate(){s["default"].prototype.$bus=this},store:Ba,router:Va}).$mount("#app")},9261:function(e,t,a){"use strict";e.exports=a.p+"img/acfun.8db785c2.svg"},6756:function(e,t,a){"use strict";e.exports=a.p+"img/bilibili.66ab292e.svg"},4612:function(e,t,a){"use strict";e.exports=a.p+"img/iqiyi.54a936dd.svg"},6383:function(e,t,a){"use strict";e.exports=a.p+"img/wetv.92557c35.svg"},8030:function(e,t,a){"use strict";e.exports=a.p+"img/youku.61b78396.svg"}},t={};function a(s){var i=t[s];if(void 0!==i)return i.exports;var r=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}a.m=e,function(){var e=[];a.O=function(t,s,i,r){if(!s){var n=1/0;for(m=0;m<e.length;m++){s=e[m][0],i=e[m][1],r=e[m][2];for(var l=!0,o=0;o<s.length;o++)(!1&r||n>=r)&&Object.keys(a.O).every((function(e){return a.O[e](s[o])}))?s.splice(o--,1):(l=!1,r<n&&(n=r));if(l){e.splice(m--,1);var c=i();void 0!==c&&(t=c)}}return t}r=r||0;for(var m=e.length;m>0&&e[m-1][2]>r;m--)e[m]=e[m-1];e[m]=[s,i,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.p="/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var i,r,n=s[0],l=s[1],o=s[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(i in l)a.o(l,i)&&(a.m[i]=l[i]);if(o)var m=o(a)}for(t&&t(s);c<n.length;c++)r=n[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(m)},s=self["webpackChunkban_viewer"]=self["webpackChunkban_viewer"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(7070)}));s=a.O(s)})();
//# sourceMappingURL=app.dfc15bea.js.map